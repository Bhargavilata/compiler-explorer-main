{"version":3,"sources":["webpack:///./static/local.js","webpack:///./static/modes/haskell-mode.js","webpack:///./static/modes/clean-mode.js","webpack:///./static/modes/ocaml-mode.js","webpack:///./static/panes/conformance-view.js","webpack:///./static/panes/compiler.js","webpack:///./static/options.js","webpack:///./static/panes/executor.js","webpack:///./static/colours.scss?bfa1","webpack:///./static/panes/cfg-view.js","webpack:///./static/history-widget.js","webpack:///./static/changelog.html","webpack:///./static/analytics.js","webpack:///./static/timing-info-widget.js","webpack:///./static/history.js","webpack:///./static/alert.js","webpack:///./static/modes/gccdump-rtl-gimple-mode.js","webpack:///./static/colour.js","webpack:///./static/panes/editor.js","webpack:///./static/presentation.js","webpack:///./static/panes/opt-view.js","webpack:///./static/ansi-to-html.js","webpack:///./static/modes/fortran-mode.js","webpack:///./static/panes/tool.js","webpack:///./static/modes/cppp-mode.js","webpack:///./static/modes/nim-mode.js","webpack:///./static/modes/d-mode.js","webpack:///./static/main.js","webpack:///./static/load-save.js","webpack:///./static/rison.js","webpack:///./static/url.js","webpack:///./static/modes/asm6502-mode.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./static/panes/ast-view.js","webpack:///./static/motd.js","webpack:///./static/modes/zig-mode.js","webpack:///./static/toggles.js","webpack:///./static/simplecook.js","webpack:///./static/settings.js","webpack:///./static/policies/privacy.html","webpack:///./static/explorer.scss?0bb5","webpack:///./static/sharing.js","webpack:///./static/compiler-service.js","webpack:///./static/modes/asm-mode.js","webpack:///./static/panes/output.js","webpack:///./static/libs-widget-ext.js","webpack:///./static/themes.js","webpack:///./static/modes/llvm-ir-mode.js","webpack:///./static/hub.js","webpack:///./static/panes/gccdump-view.js","webpack:///./static/modes/cppx-gold-mode.js","webpack:///./static/components.js","webpack:///./static/panes/diff.js","webpack:///./static/policies/cookies.html","webpack:///./static/modes/ptx-mode.js","webpack:///./static/modes/nc-mode.js","webpack:///./static/modes/ada-mode.js","webpack:///./static/modes/cuda-mode.js","webpack:///./static/monaco-config.js","webpack:///./static/codelens-handler.js","webpack:///./static/panes/ir-view.js","webpack:///./static/modes/ispc-mode.js","webpack:///./static/fontscale.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,cAAc,mBAAO,CAAC,uBAAW;AACjC;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,yBAAyB;;AAE1C;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,cAAc;AACzC;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,yBAAyB;;AAE1C;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,cAAc;AACzC;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB,iBAAiB,yBAAyB;;AAE1C;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,YAAY;AACvC;;;;;;;;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,wBAAY;AAClC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,cAAc,mBAAO,CAAC,yBAAa;AACnC,SAAS,mBAAO,CAAC,0BAAc;AAC/B,iBAAiB,mBAAO,CAAC,2BAAe;AACxC,gBAAgB,mBAAO,CAAC,gCAAoB;;AAE5C,mBAAO,CAAC,uBAAW;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAmD;AACnD;AACA,uDAAuD,6DAA6D;AACpH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uDAAuD,QAAQ;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,kCAAkC,yCAAyC;AAC3E;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B,qBAAqB;AACrB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC3fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,SAAS,mBAAO,CAAC,0BAAc;AAC/B,aAAa,mBAAO,CAAC,uBAAW;AAChC,cAAc,mBAAO,CAAC,wBAAY;AAClC,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,cAAc,mBAAO,CAAC,yBAAa;AACnC,iBAAiB,mBAAO,CAAC,2BAAe;AACxC,eAAe,mBAAO,CAAC,uBAAW;AAClC,cAAc,mBAAO,CAAC,wBAAY;AAClC,aAAa,mBAAO,CAAC,2BAAe;AACpC,YAAY,mBAAO,CAAC,sBAAU;AAC9B,aAAa,mBAAO,CAAC,yBAAa;AAClC,YAAY,mBAAO,CAAC,sBAAU;AAC9B,gBAAgB,mBAAO,CAAC,gCAAoB;AAC5C,sBAAsB,mBAAO,CAAC,iCAAqB;AACnD,mBAAmB,mBAAO,CAAC,8BAAkB;AAC7C,uBAAuB,mBAAO,CAAC,mCAAuB;AACtD,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,+BAAmB;;AAE3B,mBAAO,CAAC,uBAAW;;AAEnB;;AAEA,gC;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA,gCAAgC,wBAAwB;AACxD,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA,0BAA0B,+BAA+B;AACzD,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,aAAa,qCAAqC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,6DAA6D;AAC/F;AACA;AACA;AACA;AACA,KAAK;AACL,iEAAiE;AACjE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,6CAA6C;AACnF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yCAAyC;AAC3E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6DAA6D,mBAAmB;AAChF,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC9+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAuB;;AAEvB;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,SAAS,mBAAO,CAAC,0BAAc;AAC/B,cAAc,mBAAO,CAAC,wBAAY;AAClC,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,cAAc,mBAAO,CAAC,wBAAY;AAClC,YAAY,mBAAO,CAAC,sBAAU;AAC9B,YAAY,mBAAO,CAAC,sBAAU;AAC9B,gBAAgB,mBAAO,CAAC,gCAAoB;AAC5C,iBAAiB,mBAAO,CAAC,6BAAiB;AAC1C,uBAAuB,mBAAO,CAAC,mCAAuB;AACtD,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,+BAAmB;;AAE3B,mBAAO,CAAC,uBAAW;;AAEnB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,kBAAkB,cAAc;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,uCAAuC;AACzE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yCAAyC;AAC3E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,6DAA6D,mBAAmB;AAChF,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACx2BA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,UAAU,mBAAO,CAAC,iBAAK;AACvB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,cAAc,mBAAO,CAAC,wBAAY;AAClC,SAAS,mBAAO,CAAC,0BAAc;AAC/B,OAAO,WAAW,GAAG,mBAAO,CAAC,wBAAY;;AAEzC,mBAAO,CAAC,uBAAW;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uEAAuE,IAAI,SAAS,wCAAwC;AAC5K;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,KAAK,eAAe;AACzC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,mBAAmB,uEAAuE;AAC1F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;;AAEA;AACA,uBAAuB,aAAa;AACpC;AACA,qBAAqB,aAAa;AAClC;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,6CAA6C;AAC/F;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,0CAA0C;AAChE,SAAS;AACT,KAAK;;AAEL;AACA;AACA,uCAAuC;AACvC,8EAA8E;AAC9E,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AChZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb;AACA,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,2BAAe;AACpC,SAAS,mBAAO,CAAC,uBAAW;AAC5B,cAAc,mBAAO,CAAC,uBAAW;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA,kCAAkC,qDAAqD;;AAEvF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA,SAAS;AACT;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;;;;;;;;;;;AC5OA,gJ;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,cAAc,mBAAO,CAAC,qBAAS;AAC/B,aAAa,mBAAO,CAAC,6BAAiB;;AAEtC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,YAAY,mBAAO,CAAC,qBAAS;;AAE7B;AACA,YAAY,mBAAO,CAAC,sBAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;;;;;;;;;;;;;AC1PlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb;AACA,YAAY,mBAAO,CAAC,qBAAS;AAC7B,QAAQ,mBAAO,CAAC,wBAAY;;AAE5B;;AAEA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC,uBAAuB,UAAU;AACjC,4BAA4B,MAAM;AAClC,6BAA6B,QAAQ;AACrC,2BAA2B,MAAM;AACjC,4BAA4B,QAAQ;AACpC,4BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,mBAAmB,OAAO;AAC1B,yBAAyB,OAAO;AAChC;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA,8BAA8B,OAAO;AACrC;AACA,+BAA+B,QAAQ;AACvC;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA,6BAA6B;AAC7B;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,iCAAiC;AACjC;;AAEA;;;;;;;;;;;;;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;;AAEA;AACA,iBAAiB,uBAAuB;;AAExC;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA,gDAAgD,mDAAmD;;AAEnG;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA,uBAAuB,yDAAyD;;AAEhF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,uDAAuD;AAC9E;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,yBAAyB;AACpD;;;;;;;;;;;;;ACrSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA,KAAK,mEAAmE;AACxE,KAAK,oEAAoE;AACzE,KAAK,qFAAqF;AAC1F,KAAK,+FAA+F;AACpG,KAAK,oEAAoE;AACzE;;AAEA;AACA,uCAAuC,iBAAiB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,uBAAW;AAChC,kBAAkB,mBAAO,CAAC,0BAAc;AACxC,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,iBAAiB,mBAAO,CAAC,2BAAe;AACxC,aAAa,mBAAO,CAAC,2BAAe;AACpC,cAAc,mBAAO,CAAC,wBAAY;AAClC,YAAY,mBAAO,CAAC,sBAAU;AAC9B,YAAY,mBAAO,CAAC,sBAAU;AAC9B,SAAS,mBAAO,CAAC,0BAAc;AAC/B,gBAAgB,mBAAO,CAAC,wBAAY;AACpC,mBAAmB,mBAAO,CAAC,8BAAkB;AAC7C,mBAAO,CAAC,gCAAoB;AAC5B,mBAAO,CAAC,qCAAyB;AACjC,mBAAO,CAAC,6BAAiB;AACzB,mBAAO,CAAC,gCAAoB;AAC5B,mBAAO,CAAC,mCAAuB;AAC/B,mBAAO,CAAC,mCAAuB;AAC/B,mBAAO,CAAC,iCAAqB;AAC7B,mBAAO,CAAC,iCAAqB;AAC7B,mBAAO,CAAC,gCAAoB;AAC5B,mBAAO,CAAC,mCAAuB;AAC/B,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,8BAAkB;AAC1B,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,uBAAW;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0DAA0D,mDAAmD;AAC7G;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL,8DAA8D;AAC9D;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,EAAE;AAC9D;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,mBAAmB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,GAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,yBAAyB,GAAG,qBAAqB;AACnF;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,iBAAiB;AACjB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb;AACA,YAAY,mBAAO,CAAC,qBAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,aAAa,mBAAO,CAAC,2BAAe;AACpC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,SAAS,mBAAO,CAAC,0BAAc;AAC/B,mBAAmB,mBAAO,CAAC,8BAAkB;;AAE7C,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,uBAAW;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACzPA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;;AAEA,qCAAqC,SAAS;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb,wBAAwB;AACxB;AACA;AACA;;AAEA,qBAAqB,WAAW;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA,wCAAwC,sBAAsB,sBAAsB;AACpF;;AAEA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,iBAAiB;;AAE3C,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,+BAA+B,EAAE;AACjC;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,gCAAgC,KAAK,KAAK,IAAI;AAC9C;AACA,KAAK;AACL,8BAA8B,EAAE,IAAI;AACpC;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,SAAS;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,0DAA0D;AACpF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;;;;;;;;;;;;AC/hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;;AAEA;AACA,iBAAiB,uBAAuB;;AAExC;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,mDAAmD;AAChE,aAAa,mDAAmD;AAChE,aAAa,yCAAyC;AACtD;;AAEA;AACA,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA,2BAA2B,cAAc;AACzC;AACA;;AAEA;;;;;;;;;;;;;ACtiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,iBAAiB,mBAAO,CAAC,6BAAiB;AAC1C,cAAc,mBAAO,CAAC,wBAAY;AAClC,SAAS,mBAAO,CAAC,0BAAc;AAC/B,aAAa,mBAAO,CAAC,2BAAe;AACpC,mBAAmB,mBAAO,CAAC,8BAAkB;AAC7C,gBAAgB,mBAAO,CAAC,wBAAY;AACpC,mBAAO,CAAC,mCAAuB;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC/bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,2BAAe;AACpC,UAAU,mBAAO,CAAC,0DAA8C;;AAEhE;;AAEA;AACA,gCAAgC,gBAAgB;;AAEhD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,2BAA2B,WAAW;AACtC;AACA;;AAEA;;;;;;;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,EAAE,cAAc,EAAE,IAAI,cAAc;AACvG,iEAAiE,EAAE;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,iBAAiB,uBAAuB;AACxC,yBAAyB,WAAW,SAAS;AAC7C;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,UAAU;AACrC;;;;;;;;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;;AAEA;AACA,iBAAiB,uBAAuB;;AAExC;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,eAAe,KAAK;AACpB;AACA;AACA;;AAEA;AACA,aAAa,QAAQ,YAAY,EAAE;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,yCAAyC;AACtD,aAAa,yCAAyC;AACtD,aAAa,sDAAsD;AACnE;;AAEA;AACA,aAAa,QAAQ,YAAY,EAAE;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,sBAAsB;AACnC,aAAa,wBAAwB;AACrC;AACA;AACA;;AAEA,2BAA2B,QAAQ;AACnC;AACA;;;;;;;;;;;;;ACxRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb;AACA,gBAAgB,mBAAO,CAAC,yBAAa;;AAErC;AACA,mBAAO,CAAC,uBAAW;AACnB,mBAAO,CAAC,uBAAW;AACnB,mBAAO,CAAC,8BAAkB;;AAE1B,cAAc,mBAAO,CAAC,uBAAW;AACjC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,gBAAgB,mBAAO,CAAC,8BAAkB;AAC1C,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,mBAAmB,mBAAO,CAAC,2BAAe;AAC1C,iBAAiB,mBAAO,CAAC,0BAAc;AACvC,UAAU,mBAAO,CAAC,mBAAO;AACzB,gBAAgB,mBAAO,CAAC,uBAAW;AACnC,UAAU,mBAAO,CAAC,mBAAO;AACzB,aAAa,mBAAO,CAAC,6BAAiB;AACtC,eAAe,mBAAO,CAAC,wBAAY;AACnC,YAAY,mBAAO,CAAC,qBAAS;AAC7B,YAAY,mBAAO,CAAC,qBAAS;AAC7B,aAAa,mBAAO,CAAC,sBAAU;AAC/B,WAAW,mBAAO,CAAC,oBAAQ;AAC3B,eAAe,mBAAO,CAAC,uBAAW;AAClC,iBAAiB,mBAAO,CAAC,0BAAc;AACvC,cAAc,mBAAO,CAAC,uBAAW;AACjC,oBAAoB,mBAAO,CAAC,8BAAkB;AAC9C,mBAAmB,mBAAO,CAAC,4BAAgB;;AAE3C;AACA,mBAAO,CAAC,kDAAsC;AAC9C,mBAAO,CAAC,yDAA6C;AACrD,mBAAO,CAAC,yDAA6C;AACrD,mBAAO,CAAC,4DAAgD;AACxD,mBAAO,CAAC,4BAAgB;AACxB,mBAAO,CAAC,6BAAiB;;AAEzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,qCAAyB;AACjD;AACA;AACA;AACA;AACA,2FAA2F,aAAa;AACxG;AACA,SAAS;AACT;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,4DAA4D,mBAAO,CAAC,qCAAyB;AAC7F;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,yCAAyC,mBAAO,CAAC,8BAAkB;AACnE,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,mFAAmF,aAAa;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,mCAAmC,EAAE;AAC7E,yCAAyC,sCAAsC,EAAE;AACjF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,mBAAO,CAAC,qBAAS;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AChmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,wBAAY;AACjC,YAAY,mBAAO,CAAC,qBAAS;AAC7B,YAAY,mBAAO,CAAC,qBAAS;AAC7B,cAAc,mBAAO,CAAC,yBAAa;AACnC,SAAS,mBAAO,CAAC,yBAAa;AAC9B,cAAc,mBAAO,CAAC,uBAAW;;AAEjC;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAmB,gBAAgB;AAC5E;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA,kBAAkB;;;;;;;;;;;;AChOlB;AACA;AACA;AACA;AACA;AACA,QAAQ,IAA0C;AAClD;AACA,QAAQ,iCAAO,CAAC,OAAS,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AACpC,KAAK,MAAM,EAMN;AACL,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qC;;AAEA;AACA;AACA,wBAAwB,SAAS;AACjC,4BAA4B,SAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,sCAAsC,WAAW;AACjD;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;ACtgBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,mBAAmB,mBAAO,CAAC,2BAAe;AAC1C,YAAY,mBAAO,CAAC,mBAAO;AAC3B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,iBAAiB,mBAAO,CAAC,wBAAY;AACrC,eAAe,mBAAO,CAAC,uBAAW;AAClC,QAAQ,mBAAO,CAAC,wBAAY;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,YAAY,uBAAuB,8BAA8B;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC,2BAA2B;AACpE;AACA;AACA,+BAA+B,2CAA2C;AAC1E,8BAA8B;AAC9B;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA,6CAA6C,2BAA2B;AACxE,0BAA0B,uCAAuC;AACjE,qCAAqC,+CAA+C;AACpF,mBAAmB,OAAO,kCAAkC;AAC5D,6BAA6B,yCAAyC;AACtE;;AAEA;AACA,gCAAgC,kCAAkC;AAClE,kCAAkC,uCAAuC;AACzE,mBAAmB,OAAO,kCAAkC;AAC5D;;AAEA;AACA,qCAAqC,iCAAiC;AACtE,oCAAoC,iCAAiC;AACrE,qCAAqC,iCAAiC;AACtE,4CAA4C,iCAAiC;AAC7E,4CAA4C,iCAAiC;AAC7E,sCAAsC,iCAAiC;AACvE,sCAAsC,iCAAiC;AACvE,8BAA8B,iCAAiC;AAC/D,6BAA6B,iCAAiC;AAC9D,4CAA4C,0CAA0C;AACtF,4BAA4B,iCAAiC;AAC7D,mBAAmB,OAAO,kCAAkC;AAC5D;AACA,SAAS;AACT;AACA;;AAEA;AACA,2BAA2B,gBAAgB;AAC3C;;AAEA;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;ACnRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,aAAa,mBAAO,CAAC,2BAAe;AACpC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,uBAAW;AAChC,SAAS,mBAAO,CAAC,0BAAc;AAC/B,mBAAmB,mBAAO,CAAC,8BAAkB;;AAE7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6CAA6C,eAAe,EAAE;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,uBAAuB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC7VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,SAAS,mBAAO,CAAC,uBAAW;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;;AAEA;;AAEA;AACA,iBAAiB,uBAAuB;;AAExC;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,UAAU;AACrC;;;;;;;;;;;;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,mBAAmB,mBAAO,CAAC,oBAAQ;;;AAGnC;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,oBAAQ;;AAExB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,sBAAU;AAC/B,aAAa,mBAAO,CAAC,sBAAU;AAC/B,cAAc,mBAAO,CAAC,uBAAW;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gBAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;ACrQA,gyR;;;;;;;;;;;ACAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,cAAc,mBAAO,CAAC,uBAAW;AACjC,iBAAiB,mBAAO,CAAC,0BAAc;AACvC,UAAU,mBAAO,CAAC,mBAAO;AACzB,SAAS,mBAAO,CAAC,yBAAa;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,6BAAiB;AACtC,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,eAAe,mBAAO,CAAC,uBAAW;AAClC,cAAc,mBAAO,CAAC,uBAAW;AACjC,cAAc,mBAAO,CAAC,yBAAa;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,SAAS,gBAAgB;AACzB,SAAS,gBAAgB;AACzB,SAAS,cAAc;AACvB;AACA;;AAEA;;;;;;;;;;;;;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;;AAEA;;AAEA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA,0CAA0C,yBAAyB;AACnE;AACA,qCAAqC,yBAAyB;AAC9D;AACA,8DAA8D,yBAAyB;AACvF;AACA,6CAA6C,yBAAyB;AACtE;AACA,8CAA8C,gCAAgC;AAC9E;AACA,uBAAuB,KAAK,iCAAiC;;AAE7D;AACA,iBAAiB,uBAAuB;AACxC;;AAEA;AACA;AACA,0BAA0B,gCAAgC;;AAE1D;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;;AAE7B;AACA;AACA,uBAAuB,yDAAyD;;AAEhF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,uBAAuB;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,uDAAuD;AAC9E;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,SAAS;AACT;AACA;;AAEA;AACA,2BAA2B,UAAU;AACrC;;AAEA;;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,iBAAiB,mBAAO,CAAC,6BAAiB;AAC1C,cAAc,mBAAO,CAAC,wBAAY;AAClC,SAAS,mBAAO,CAAC,0BAAc;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,qBAAS;AAC/B,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,YAAY,mBAAO,CAAC,qBAAS;AAC7B,QAAQ,mBAAO,CAAC,oBAAQ;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,6BAA6B;AAC7B,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,4CAA4C;AAC5C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC,SAAS;AACT;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA4C,6BAA6B;AACzE;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACngBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,2BAA2B,cAAc;AACzC;;;;;;;;;;;;;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,6BAAiB;AACtC,aAAa,mBAAO,CAAC,4BAAgB;AACrC,eAAe,mBAAO,CAAC,8BAAkB;AACzC,eAAe,mBAAO,CAAC,8BAAkB;AACzC,aAAa,mBAAO,CAAC,4BAAgB;AACrC,WAAW,mBAAO,CAAC,0BAAc;AACjC,iBAAiB,mBAAO,CAAC,wBAAY;AACrC,WAAW,mBAAO,CAAC,0BAAc;AACjC,cAAc,mBAAO,CAAC,8BAAkB;AACxC,cAAc,mBAAO,CAAC,8BAAkB;AACxC,aAAa,mBAAO,CAAC,6BAAiB;AACtC,kBAAkB,mBAAO,CAAC,kCAAsB;AAChD,cAAc,mBAAO,CAAC,8BAAkB;AACxC,sBAAsB,mBAAO,CAAC,sCAA0B;AACxD,sBAAsB,mBAAO,CAAC,8BAAkB;;AAEhD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,uCAAuC;AACpE;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,wDAAwD,YAAY;AACpE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;;;;;;;;;;;;AC3TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,aAAa,mBAAO,CAAC,2BAAe;AACpC,cAAc,mBAAO,CAAC,wBAAY;AAClC,mBAAO,CAAC,8CAAkC;AAC1C,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,SAAS,mBAAO,CAAC,0BAAc;AAC/B,mBAAmB,mBAAO,CAAC,8BAAkB;;AAE7C,mBAAO,CAAC,uBAAW;;AAEnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AClZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEA;;AAEa;AACb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC,YAAY,GAAG;AAC/D,aAAa,wDAAwD;AACrE,aAAa,mDAAmD;AAChE,aAAa,kDAAkD;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI,cAAc,EAAE,cAAc,EAAE;;AAEtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;;AAEA;AACA,iBAAiB,uBAAuB;;AAExC;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,eAAe,KAAK;AACpB;AACA;AACA;;AAEA;AACA,aAAa,wBAAwB;AACrC,aAAa,SAAS,YAAY,GAAG;AACrC,aAAa,wBAAwB;AACrC,aAAa,wDAAwD;AACrE,aAAa,2CAA2C;AACxD;;AAEA;AACA,aAAa,SAAS,YAAY,GAAG;AACrC,aAAa,wBAAwB;AACrC,aAAa,wBAAwB;AACrC,aAAa,wBAAwB;AACrC,aAAa,0BAA0B;AACvC;AACA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;AACA;;;;;;;;;;;;;AClRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,6BAA6B;AAC1D;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,6BAA6B;AAC1D;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,yCAAyC;AACtE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,mCAAmC;AAChE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;;;;;;;;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,aAAa,mBAAO,CAAC,2BAAe;AACpC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,SAAS,mBAAO,CAAC,0BAAc;;AAE/B,mBAAO,CAAC,+BAAmB;AAC3B,mBAAO,CAAC,uBAAW;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,gCAAgC,qDAAqD;;AAErF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qCAAqC;AAClD,aAAa,uDAAuD;AACpE,aAAa,uDAAuD;AACpE,aAAa,oDAAoD;AACjE,aAAa,oDAAoD;AACjE;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,yBAAyB;AAClE;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA,KAAK;AACL;;;;;;;;;;;;AC5XA,q5F;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,2BAAe;AACpC,UAAU,mBAAO,CAAC,wBAAY;;AAE9B;AACA,+BAA+B,OAAO;;AAEtC;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,2CAA2C,iCAAiC;;AAE5E;AACA;;AAEA,2BAA2B,UAAU;AACrC;;;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,2BAAe;AACpC,UAAU,mBAAO,CAAC,0DAA8C;;AAEhE;AACA;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B,SAAS;AACpC;AACA;;AAEA;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,qDAAqD,EAAE,OAAO,EAAE,cAAc,EAAE,cAAc,EAAE,IAAI,KAAK;;AAEzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,iBAAiB,uBAAuB;;AAExC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B,UAAU;AACrC;;;;;;;;;;;;;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,2BAAe;AACpC,UAAU,mBAAO,CAAC,0DAA8C;AAChE,WAAW,mBAAO,CAAC,yBAAa;;AAEhC;;AAEA;AACA,gCAAgC,QAAQ;;AAExC;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,WAAW;AACtC;AACA;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,wBAAY;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,aAAa,mBAAO,CAAC,2BAAe;;AAEpC;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK;AACL;AACA;AACA,mCAAmC;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,gBAAgB,mBAAO,CAAC,0BAAc;AACtC,aAAa,mBAAO,CAAC,2BAAe;AACpC,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,aAAa,mBAAO,CAAC,uBAAW;AAChC,SAAS,mBAAO,CAAC,0BAAc;AAC/B,mBAAmB,mBAAO,CAAC,8BAAkB;;AAE7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,6BAA6B,oBAAoB;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC1VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;;AAEb,aAAa,mBAAO,CAAC,oBAAQ;AAC7B,aAAa,mBAAO,CAAC,2BAAe;AACpC,UAAU,mBAAO,CAAC,0DAA8C;;AAEhE;AACA,qCAAqC,gBAAgB;;AAErD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,WAAW;AACtC;AACA;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA;;AAEa;AACb,QAAQ,mBAAO,CAAC,wBAAY;AAC5B,QAAQ,mBAAO,CAAC,oBAAQ;AACxB,mBAAmB,mBAAO,CAAC,oBAAQ;AACnC,cAAc,mBAAO,CAAC,uBAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,SAAS;AAC5B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"main.js","sourcesContent":["// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar options = require('./options');\nvar prefix = options.localStoragePrefix || '';\n\nfunction get(key, ifNotPresent) {\n    var result;\n    try {\n        result = window.localStorage.getItem(prefix + key);\n    } catch (e) {\n        // Swallow up any security exceptions...\n        return ifNotPresent;\n    }\n    if (result === null) return ifNotPresent;\n    return result;\n}\n\nfunction set(key, value) {\n    try {\n        window.localStorage.setItem(prefix + key, value);\n        return true;\n    } catch (e) {\n        // Swallow up any security exceptions...\n    }\n    return false;\n}\n\nfunction remove(key) {\n    try {\n        window.localStorage.removeItem(prefix + key);\n    } catch (e) {\n        // Swallow up any security exceptions...\n    }\n}\n\nmodule.exports = {\n    set: set,\n    get: get,\n    remove: remove,\n};\n","// Copyright (c) 2017, Rubén Rincón\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'module', 'import', 'main', 'where', 'otherwise', 'newtype',\n            'definition', 'implementation', 'from', 'class', 'instance', 'abort',\n        ],\n\n        builtintypes: [\n            'Int', 'Real', 'String',\n        ],\n\n        operators: [\n            '=', '==', '>=', '<=', '+', '-', '*', '/', '::', '->', '=:', '=>', '|', '$',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                { include: '@whitespace' },\n\n                [/->/, 'operators'],\n\n                [/\\|/, 'operators'],\n\n                [/(\\w*)(\\s?)(::)/, ['keyword', 'white', 'operators']],\n\n                [/[+\\-*/=<>$]/, 'operators'],\n\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@builtintypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': '',\n                    },\n                }],\n\n                [/[()[\\],:]/, 'delimiter'],\n\n                [/@numbers/, 'number'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/--.*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'haskell'});\nmonaco.languages.setMonarchTokensProvider('haskell', definition());\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'module', 'import', 'Start', 'where', 'otherwise',\n            'definition', 'implementation', 'from', 'class', 'instance', 'abort',\n            'infix', 'infixl', 'infixr', 'if', 'True', 'False',\n        ],\n\n        builtintypes: [\n            'Int', 'Real', 'String', 'Char', 'Complex', 'Bool',\n        ],\n\n        operators: [\n            '=', '==', '>=', '<=', '+', '-', '*', '/', '::', ':==', '->', '=:', '=>', '|', '\\\\\\\\',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                { include: '@whitespace' },\n\n                [/->/, 'operators'],\n\n                [/\\|/, 'operators'],\n\n                [/(\\w*)(\\s?)(::)/, ['keyword', 'white', 'operators']],\n\n                [/[+\\-*/=<>\\\\]/, 'operators'],\n\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@builtintypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': '',\n                    },\n                }],\n\n                [/[()[\\],:]/, 'delimiter'],\n\n                [/@numbers/, 'number'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({ id: 'clean' });\nmonaco.languages.setMonarchTokensProvider('clean', definition());\n","// Copyright (c) 2018, Eugen Bulavin\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'and',\n            'as',\n            'assert',\n            'asr',\n            'begin',\n            'class',\n            'constraint',\n            'do',\n            'done',\n            'downto',\n            'else',\n            'end',\n            'exception',\n            'external',\n            'false',\n            'for',\n            'fun',\n            'function',\n            'functor',\n            'if',\n            'in',\n            'include',\n            'inherit',\n            'initializer',\n            'land',\n            'lazy',\n            'let',\n            'lor',\n            'lsl',\n            'lsr',\n            'lxor',\n            'match',\n            'method',\n            'mod',\n            'module',\n            'mutable',\n            'new',\n            'nonrec',\n            'object',\n            'of',\n            'open',\n            'or',\n            'private',\n            'rec',\n            'sig',\n            'struct',\n            'then',\n            'to',\n            'true',\n            'try',\n            'type',\n            'val',\n            'virtual',\n            'when',\n            'while',\n            'with',\n        ],\n\n        typeKeywords: [\n            'int',\n            'int32',\n            'int64',\n            'bool',\n            'char',\n            'unit',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                { include: '@whitespace' },\n\n                [/@numbers/, 'number'],\n\n                [/[+\\-*/=<>$@]/, 'operators'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^(*]+/, 'comment'],\n                [/\\*\\)/, 'comment', '@pop'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\(\\*/, 'comment', '@comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'ocaml'});\nmonaco.languages.setMonarchTokensProvider('ocaml', definition());\n","// Copyright (c) 2017, Rubén Rincón\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar options = require('../options');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar Promise = require('es6-promise').Promise;\nvar ga = require('../analytics');\nvar Components = require('../components');\nvar Libraries = require('../libs-widget-ext');\n\nrequire('selectize');\n\nfunction Conformance(hub, container, state) {\n    this.hub = hub;\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#conformance').html());\n    this.editorId = state.editorid;\n    this.maxCompilations = options.cvCompilerCountMax || 6;\n    this.langId = state.langId || _.keys(options.languages)[0];\n    this.source = state.source || '';\n    this.sourceNeedsExpanding = true;\n    this.expandedSource = null;\n\n    this.status = {\n        allowCompile: false,\n        allowAdd: true,\n    };\n    this.stateByLang = {};\n\n    this.initButtons();\n    this.initLibraries(state);\n    this.initCallbacks();\n    this.initFromState(state);\n    this.handleToolbarUI();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Conformance',\n    });\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n}\n\nConformance.prototype.onLibsChanged = function () {\n    this.saveState();\n    this.compileAll();\n};\n\nConformance.prototype.initLibraries = function (state) {\n    this.libsWidget = new Libraries.Widget(this.langId, null,\n        this.libsButton, state, _.bind(this.onLibsChanged, this));\n};\n\nConformance.prototype.initButtons = function () {\n    this.selectorList = this.domRoot.find('.compiler-list');\n    this.addCompilerButton = this.domRoot.find('.add-compiler');\n    this.selectorTemplate = $('#compiler-selector').find('.form-row');\n    this.topBar = this.domRoot.find('.top-bar');\n    this.libsButton = this.topBar.find('.show-libs');\n    this.hideable = this.domRoot.find('.hideable');\n};\n\nConformance.prototype.initCallbacks = function () {\n    this.container.on('destroy', function () {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('conformanceViewClose', this.editorId);\n    }, this);\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('conformanceViewOpen', this.editorId);\n    }, this);\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.addCompilerButton.on('click', _.bind(function () {\n        this.addCompilerSelector();\n        this.saveState();\n    }, this));\n};\n\nConformance.prototype.setTitle = function (compilerCount) {\n    this.container.setTitle('Conformance viewer (Editor #' + this.editorId + ') ' + (\n        compilerCount !== 0 ? (compilerCount + '/' + this.maxCompilations) : ''\n    ));\n};\n\nConformance.prototype.addCompilerSelector = function (config) {\n    if (!config) {\n        config = {\n            // Compiler id which is being used\n            compilerId: '',\n            // Options which are in use\n            options: options.compileOptions[this.langId],\n        };\n    }\n\n    var newEntry = this.selectorTemplate.clone();\n\n    var onOptionsChange = _.debounce(_.bind(function () {\n        this.saveState();\n        this.compileChild(newEntry);\n    }, this), 800);\n\n    var optionsField = newEntry.find('.options')\n        .val(config.options)\n        .on('change', onOptionsChange)\n        .on('keyup', onOptionsChange);\n\n    newEntry.find('.close').not('.extract-compiler')\n        .on('click', _.bind(function () {\n            this.removeCompilerSelector(newEntry);\n        }, this));\n\n    this.selectorList.append(newEntry);\n\n    var status = newEntry.find('.status-icon');\n    var prependOptions = newEntry.find('.prepend-options');\n    var popCompilerButton = newEntry.find('.extract-compiler');\n\n    var onCompilerChange = _.bind(function (compilerId) {\n        popCompilerButton.toggleClass('d-none', !compilerId);\n        // Hide the results icon when a new compiler is selected\n        this.handleStatusIcon(status, {code: 0});\n        var compiler = this.compilerService.findCompiler(this.langId, compilerId);\n        if (compiler) this.setCompilationOptionsPopover(prependOptions, compiler.options);\n        this.updateLibraries();\n    }, this);\n\n    var compilerPicker = newEntry.find('.compiler-picker').selectize({\n        sortField: this.compilerService.getSelectizerOrder(),\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        optgroupField: 'group',\n        optgroups: this.compilerService.getGroupsInUse(this.langId),\n        lockOptgroupOrder: true,\n        options: _.filter(this.getCurrentLangCompilers(), function (e) {\n            return !e.hidden || e.id === config.compilerId;\n        }),\n        items: config.compilerId ? [config.compilerId] : [],\n        dropdownParent: 'body',\n        closeAfterSelect: true,\n    }).on('change', _.bind(function (e) {\n        onCompilerChange($(e.target).val());\n        this.compileChild(newEntry);\n    }, this));\n\n\n    var getCompilerConfig = _.bind(function () {\n        return Components.getCompilerWith(\n            this.editorId, undefined, optionsField.val(), compilerPicker.val(), this.langId, this.lastState.libs);\n    }, this);\n\n    this.container.layoutManager\n        .createDragSource(popCompilerButton, getCompilerConfig);\n\n    popCompilerButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(getCompilerConfig);\n    }, this));\n\n    this.handleToolbarUI();\n    this.saveState();\n};\n\nConformance.prototype.getCurrentLangCompilers = function () {\n    return this.compilerService.getCompilersForLang(this.langId);\n};\n\nConformance.prototype.setCompilationOptionsPopover = function (element, content) {\n    element.popover('dispose');\n    element.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nConformance.prototype.removeCompilerSelector = function (element) {\n    if (element) element.remove();\n    this.updateLibraries();\n    this.handleToolbarUI();\n    this.saveState();\n};\n\nConformance.prototype.expandSource = function () {\n    if (this.sourceNeedsExpanding || !this.expandedSource) {\n        return this.compilerService.expand(this.source).then(_.bind(function (expandedSource) {\n            this.expandedSource = expandedSource;\n            this.sourceNeedsExpanding = false;\n            return expandedSource;\n        }, this));\n    }\n    return Promise.resolve(this.expandedSource);\n};\n\nConformance.prototype.onEditorChange = function (editorId, newSource, langId) {\n    if (editorId === this.editorId) {\n        this.langId = langId;\n        this.source = newSource;\n        this.sourceNeedsExpanding = true;\n        this.compileAll();\n    }\n};\n\nConformance.prototype.onEditorClose = function (editorId) {\n    if (editorId === this.editorId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nConformance.prototype.onCompileResponse = function (child, result) {\n    var allText = _.pluck((result.stdout || []).concat(result.stderr || []), 'text').join('\\n');\n    var failed = result.code !== 0;\n    var warns = !failed && !!allText;\n\n    this.setCompilationOptionsPopover(child.find('.prepend-options'),\n        result.compilationOptions ? result.compilationOptions.join(' ') : '');\n    child.find('.compiler-out')\n        .prop('title', allText.replace(/\\x1b\\[[0-9;]*m(.\\[K)?/g, ''))\n        .toggleClass('d-none', !allText);\n    this.handleStatusIcon(child.find('.status-icon'), {code: failed ? 3 : (warns ? 2 : 1), compilerOut: result.code});\n    this.saveState();\n};\n\nConformance.prototype.compileChild = function (child) {\n    // Hide previous status icons\n    var picker = child.find('.compiler-picker');\n\n    if (!picker || !picker.val()) return;\n\n    this.handleStatusIcon(child.find('.status-icon'), {code: 4});\n\n    this.expandSource().then(_.bind(function (expandedSource) {\n        var request = {\n            source: expandedSource,\n            compiler: picker.val(),\n            options: {\n                userArguments: child.find('.options').val() || '',\n                filters: {},\n                compilerOptions: {produceAst: false, produceOptInfo: false},\n                libraries: [],\n                skipAsm: true,\n            },\n            lang: this.langId,\n        };\n\n        _.each(this.libsWidget.getLibsInUse(), function (item) {\n            request.options.libraries.push({\n                id: item.libId,\n                version: item.versionId,\n            });\n        });\n\n        // This error function ensures that the user will know we had a problem (As we don't save asm)\n        this.compilerService.submit(request)\n            .then(_.bind(function (x) {\n                this.onCompileResponse(child, x.result);\n            }, this))\n            .catch(_.bind(function (x) {\n                this.onCompileResponse(child, {\n                    asm: '',\n                    code: -1,\n                    stdout: '',\n                    stderr: x.error,\n                });\n            }, this));\n    }, this));\n};\n\nConformance.prototype.compileAll = function () {\n    _.each(this.selectorList.children(), _.bind(function (child) {\n        this.compileChild($(child));\n    }, this));\n};\n\nConformance.prototype.handleToolbarUI = function () {\n    var compilerCount = this.selectorList.children().length;\n\n    // Only allow new compilers if we allow for more\n    this.addCompilerButton.prop('disabled', compilerCount >= this.maxCompilations);\n\n    this.setTitle(compilerCount);\n};\n\nConformance.prototype.handleStatusIcon = function (element, status) {\n    if (!element) return;\n\n    function ariaLabel() {\n        // Compiling...\n        if (status.code === 4) return 'Compiling';\n        if (status.compilerOut === 0) {\n            // StdErr.length > 0\n            if (status.code === 3) return 'Compilation succeeded with errors';\n            // StdOut.length > 0\n            if (status.code === 2) return 'Compilation succeeded with warnings';\n            return 'Compilation succeeded';\n        } else {\n            // StdErr.length > 0\n            if (status.code === 3) return 'Compilation failed with errors';\n            // StdOut.length > 0\n            if (status.code === 2) return 'Compilation failed with warnings';\n            return 'Compilation failed';\n        }\n    }\n\n    function color() {\n        // Compiling...\n        if (status.code === 4) return 'black';\n        if (status.compilerOut === 0) {\n            // StdErr.length > 0\n            if (status.code === 3) return '#FF6645';\n            // StdOut.length > 0\n            if (status.code === 2) return '#FF6500';\n            return '#12BB12';\n        } else {\n            // StdErr.length > 0\n            if (status.code === 3) return '#FF1212';\n            // StdOut.length > 0\n            if (status.code === 2) return '#BB8700';\n            return '#FF6645';\n        }\n    }\n\n    element\n        .removeClass()\n        .addClass('status-icon fas')\n        .css('color', color())\n        .toggle(status.code !== 0)\n        .prop('aria-label', ariaLabel())\n        .prop('data-status', status.code)\n        .toggleClass('fa-spinner', status.code === 4)\n        .toggleClass('fa-times-circle', status.code === 3)\n        .toggleClass('fa-check-circle', status.code === 1 || status.code === 2);\n};\n\nConformance.prototype.currentState = function () {\n    var compilers = _.map(this.selectorList.children(), function (child) {\n        child = $(child);\n        return {\n            compilerId: child.find('.compiler-picker').val() || '',\n            options: child.find('.options').val() || '',\n        };\n    });\n    return {\n        editorid: this.editorId,\n        langId: this.langId,\n        compilers: compilers,\n        libs: this.libsWidget.get(),\n    };\n};\n\nConformance.prototype.saveState = function () {\n    this.lastState = this.currentState();\n    this.container.setState(this.lastState);\n};\n\nConformance.prototype.resize = function () {\n    this.updateHideables();\n    this.selectorList.css('height', this.domRoot.height() - this.topBar.outerHeight(true));\n};\n\nConformance.prototype.updateHideables = function () {\n    this.hideable.toggle(this.domRoot.width() > this.addCompilerButton.width());\n};\n\nConformance.prototype.getOverlappingLibraries = function (compilerIds) {\n    var compilers = _.map(compilerIds, _.bind(function (compilerId) {\n        return this.compilerService.findCompiler(this.langId, compilerId);\n    }, this));\n\n    var libraries = {};\n    var first = true;\n    _.forEach(compilers, function (compiler) {\n        if (compiler) {\n            if (first) {\n                libraries = _.extend({}, compiler.libs);\n                first = false;\n            } else {\n                var libsInCommon = _.intersection(_.keys(libraries),\n                    _.keys(compiler.libs));\n    \n                _.forEach(libraries, function (lib, libkey) {\n                    if (libsInCommon.includes(libkey)) {\n                        var versionsInCommon = _.intersection(_.keys(lib.versions),\n                            _.keys(compiler.libs[libkey].versions));\n\n                        libraries[libkey].versions = _.pick(lib.versions,\n                            function (version, versionkey) {\n                                return versionsInCommon.includes(versionkey);\n                            });\n                    } else {\n                        libraries[libkey] = false;\n                    }\n                });\n    \n                libraries = _.omit(libraries, function (lib) {\n                    return !lib || _.isEmpty(lib.versions);\n                });\n            }\n        }\n    });\n\n    return libraries;\n};\n\nConformance.prototype.updateLibraries = function () {\n    var compilerIds = _.uniq(\n        _.filter(\n            _.map(this.selectorList.children(), function (child) {\n                return $(child).find('.compiler-picker').val();\n            })\n            , function (compilerId) {\n                return compilerId !== '';\n            })\n    );\n\n    var libraries = this.getOverlappingLibraries(compilerIds);\n\n    this.libsWidget.setNewLangId(this.langId, compilerIds.join('|'), libraries);\n};\n\nConformance.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (editorId === this.editorId && this.langId !== newLangId) {\n        var oldLangId = this.langId;\n        this.stateByLang[oldLangId] = this.currentState();\n\n        this.langId = newLangId;\n        this.selectorList.children().remove();\n        var langState = this.stateByLang[newLangId];\n        this.initFromState(langState);\n        this.updateLibraries();\n        this.handleToolbarUI();\n        this.saveState();\n    }\n};\n\nConformance.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('conformanceViewClose', this.editorId);\n};\n\nConformance.prototype.initFromState = function (state) {\n    if (state && state.compilers) {\n        this.lastState = state;\n        _.each(state.compilers, _.bind(this.addCompilerSelector, this));\n    } else {\n        this.lastState = this.currentState();\n    }\n};\n\nmodule.exports = {\n    Conformance: Conformance,\n};\n","// Copyright (c) 2012, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ga = require('../analytics');\nvar colour = require('../colour');\nvar Toggles = require('../toggles');\nvar FontScale = require('../fontscale');\nvar Promise = require('es6-promise').Promise;\nvar Components = require('../components');\nvar LruCache = require('lru-cache');\nvar options = require('../options');\nvar monaco = require('monaco-editor');\nvar Alert = require('../alert');\nvar bigInt = require('big-integer');\nvar local = require('../local');\nvar Libraries = require('../libs-widget-ext');\nvar codeLensHandler = require('../codelens-handler');\nvar monacoConfig = require('../monaco-config');\nvar timingInfoWidget = require('../timing-info-widget');\nrequire('../modes/asm-mode');\nrequire('../modes/ptx-mode');\n\nrequire('selectize');\n\nvar timingInfo = new timingInfoWidget.TimingInfo();\n\nvar OpcodeCache = new LruCache({ \n    max: 64 * 1024,\n    length: function (n) {\n        return JSON.stringify(n).length;\n    },\n});\n\nfunction patchOldFilters(filters) {\n    if (filters === undefined) return undefined;\n    // Filters are of the form {filter: true|false¸ ...}. In older versions, we used\n    // to suppress the {filter:false} form. This means we can't distinguish between\n    // \"filter not on\" and \"filter not present\". In the latter case we want to default\n    // the filter. In the former case we want the filter off. Filters now don't suppress\n    // but there are plenty of permalinks out there with no filters set at all. Here\n    // we manually set any missing filters to 'false' to recover the old behaviour of\n    // \"if it's not here, it's off\".\n    _.each(['binary', 'labels', 'directives', 'commentOnly', 'trim', 'intel'], function (oldFilter) {\n        if (filters[oldFilter] === undefined) filters[oldFilter] = false;\n    });\n    return filters;\n}\n\nvar languages = options.languages;\n\n// Disable max line count only for the constructor. Turns out, it needs to do quite a lot of things\n// eslint-disable-next-line max-statements\nfunction Compiler(hub, container, state) {\n    this.container = container;\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#compiler').html());\n    this.id = state.id || hub.nextCompilerId();\n    this.sourceEditorId = state.source || 1;\n    this.settings = JSON.parse(local.get('settings', '{}'));\n    this.originalCompilerId = state.compiler;\n    this.initLangAndCompiler(state);\n    this.infoByLang = {};\n    this.deferCompiles = hub.deferred;\n    this.needsCompile = false;\n    this.options = state.options || options.compileOptions[this.currentLangId];\n    this.source = '';\n    this.assembly = [];\n    this.colours = [];\n    this.lastResult = {};\n    this.lastTimeTaken = 0;\n    this.pendingRequestSentAt = 0;\n    this.nextRequest = null;\n    this.optViewOpen = false;\n    this.cfgViewOpen = false;\n    this.codeCfgViewOpen = false;\n    this.wantOptInfo = state.wantOptInfo;\n    this.decorations = {};\n    this.prevDecorations = [];\n    this.labelDefinitions = {};\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Compiler #' + this.id + ': ';\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.linkedFadeTimeoutId = -1;\n    this.toolsMenu = null;\n\n    this.initButtons(state);\n\n    var monacoDisassembly = 'asm';\n    if (languages[this.currentLangId] && languages[this.currentLangId].monacoDisassembly) {\n        // TODO: If languages[this.currentLangId] is not valid, something went wrong. Find out what\n        monacoDisassembly = languages[this.currentLangId].monacoDisassembly;\n    }\n\n    this.outputEditor = monaco.editor.create(this.monacoPlaceholder[0], monacoConfig.extendConfig({\n        readOnly: true,\n        language: monacoDisassembly,\n        glyphMargin: !options.embedded,\n        renderIndentGuides: false,\n        vimInUse: false,\n    }, this.settings));\n\n    this.fontScale = new FontScale(this.domRoot, state, this.outputEditor);\n\n    this.compilerPicker.selectize({\n        sortField: this.compilerService.getSelectizerOrder(),\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        optgroupField: 'group',\n        optgroups: this.compilerService.getGroupsInUse(this.currentLangId),\n        lockOptgroupOrder: true,\n        options: _.filter(this.getCurrentLangCompilers(), function (e) {\n            return !e.hidden || e.id === state.compiler;\n        }),\n        items: this.compiler ? [this.compiler.id] : [],\n        dropdownParent: 'body',\n        closeAfterSelect: true,\n    }).on('change', _.bind(function (e) {\n        var val = $(e.target).val();\n        if (val) {\n            ga.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'SelectCompiler',\n                eventAction: val,\n            });\n            this.onCompilerChange(val);\n        }\n    }, this));\n\n    this.compilerSelectizer = this.compilerPicker[0].selectize;\n\n    this.initLibraries(state);\n\n    this.initEditorActions();\n    this.initEditorCommands();\n\n    this.initCallbacks();\n    // Handle initial settings\n    this.onSettingsChange(this.settings);\n    this.sendCompiler();\n    this.updateCompilerInfo();\n    this.updateButtons();\n    this.saveState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Compiler',\n    });\n}\n\nCompiler.prototype.initLangAndCompiler = function (state) {\n    var langId = state.lang;\n    var compilerId = state.compiler;\n    var result = this.compilerService.processFromLangAndCompiler(langId, compilerId);\n    this.compiler = result.compiler;\n    this.compiler.supportsGccDump= true;\n    this.currentLangId = result.langId;\n    this.updateLibraries();\n};\n\nCompiler.prototype.close = function () {\n    codeLensHandler.unregister(this.id);\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('compilerClose', this.id);\n    this.outputEditor.dispose();\n};\n\nCompiler.prototype.initPanerButtons = function () {\n    var outputConfig = _.bind(function () {\n        return Components.getOutput(this.id, this.sourceEditorId);\n    }, this);\n\n    this.container.layoutManager.createDragSource(this.outputBtn, outputConfig);\n    this.outputBtn.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(outputConfig);\n    }, this));\n\n    var cloneComponent = _.bind(function () {\n        var currentState = this.currentState();\n        // Delete the saved id to force a new one\n        delete currentState.id;\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: currentState,\n        };\n    }, this);\n    var createOptView = _.bind(function () {\n        return Components.getOptViewWith(this.id, this.source, this.lastResult.optOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createAstView = _.bind(function () {\n        return Components.getAstViewWith(this.id, this.source, this.lastResult.astOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createIrView = _.bind(function () {\n        return Components.getIrViewWith(this.id, this.source, this.lastResult.irOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createGccDumpView = _.bind(function () {\n        return Components.getGccDumpViewWith(this.id, this.getCompilerName(), this.sourceEditorId,\n            this.lastResult.gccDumpOutput);\n    }, this);\n\n    var createCfgView = _.bind(function () {\n        return Components.getCfgViewWith(this.id, this.sourceEditorId, 'compiler');\n    }, this);\n\n    var createCodeCfgView = _.bind(function () {\n        return Components.getCfgViewWith(this.id, this.sourceEditorId, 'editor', this.lastResult.cfgResult);\n    }, this);\n\n    var createExecutor = _.bind(function () {\n        var currentState = this.currentState();\n        var editorId = currentState.source;\n        var langId = currentState.lang;\n        var compilerId = currentState.compiler;\n        var libs = [];\n        _.each(this.libsWidget.getLibsInUse(), function (item) {\n            libs.push({\n                name: item.libId,\n                ver: item.versionId,\n            });\n        });\n        return Components.getExecutorWith(editorId, langId, compilerId, libs, currentState.options);\n    }, this);\n\n    var panerDropdown = this.domRoot.find('.pane-dropdown');\n    var togglePannerAdder = function () {\n        panerDropdown.dropdown('toggle');\n    };\n\n    this.container.layoutManager\n        .createDragSource(this.domRoot.find('.btn.add-compiler'), cloneComponent)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.domRoot.find('.btn.add-compiler').click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(cloneComponent);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.optButton, createOptView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.optButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createOptView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.astButton, createAstView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.astButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createAstView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.irButton, createIrView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.irButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createIrView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.gccDumpButton, createGccDumpView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.gccDumpButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createGccDumpView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.cfgButton, createCfgView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.cfgButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createCfgView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.codeCfgButton, createCodeCfgView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.codeCfgButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createCodeCfgView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.executorButton, createExecutor)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.executorButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createExecutor);\n    }, this));\n\n    this.initToolButtons(togglePannerAdder);\n};\n\nCompiler.prototype.undefer = function () {\n    this.deferCompiles = false;\n    if (this.needsCompile) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.updateAndCalcTopBarHeight = function () {\n    // If we save vertical space by hiding stuff that's OK to hide\n    // when thin, then hide that stuff.\n    this.hideable.show();\n    var topBarHeightMax = this.topBar.outerHeight(true);\n    this.hideable.hide();\n    var topBarHeightMin = this.topBar.outerHeight(true);\n    var topBarHeight = topBarHeightMin;\n    if (topBarHeightMin === topBarHeightMax) {\n        this.hideable.show();\n    }\n\n    return topBarHeight;\n};\n\nCompiler.prototype.resize = function () {\n    var topBarHeight = this.updateAndCalcTopBarHeight();\n    var bottomBarHeight = this.bottomBar.outerHeight(true);\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight - bottomBarHeight,\n    });\n};\n\n// Returns a label name if it can be found in the given position, otherwise\n// returns null.\nCompiler.prototype.getLabelAtPosition = function (position) {\n    var asmLine = this.assembly[position.lineNumber - 1];\n    // Outdated position.lineNumber can happen (Between compilations?) - Check for those and skip\n    if (asmLine) {\n        var column = position.column;\n        var labels = asmLine.labels || [];\n\n        for (var i = 0; i < labels.length; ++i) {\n            if (column >= labels[i].range.startCol &&\n                column < labels[i].range.endCol\n            ) {\n                return labels[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Jumps to a label definition related to a label which was found in the\n// given position and highlights the given range. If no label can be found in\n// the given positon it do nothing.\nCompiler.prototype.jumpToLabel = function (position) {\n    var label = this.getLabelAtPosition(position);\n\n    if (!label) {\n        return;\n    }\n\n    var labelDefLineNum = this.labelDefinitions[label.name];\n    if (!labelDefLineNum) {\n        return;\n    }\n\n    // Highlight the new range.\n    var endLineContent =\n        this.outputEditor.getModel().getLineContent(labelDefLineNum);\n\n    this.outputEditor.setSelection(new monaco.Selection(\n        labelDefLineNum, 0,\n        labelDefLineNum, endLineContent.length + 1));\n\n    // Jump to the given line.\n    this.outputEditor.revealLineInCenter(labelDefLineNum);\n};\n\nCompiler.prototype.initEditorActions = function () {\n    this.isLabelCtxKey = this.outputEditor.createContextKey('isLabel', true);\n\n    this.outputEditor.addAction({\n        id: 'jumptolabel',\n        label: 'Jump to label',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter],\n        precondition: 'isLabel',\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            this.jumpToLabel(ed.getPosition());\n        }, this),\n    });\n\n    // Hiding the 'Jump to label' context menu option if no label can be found\n    // in the clicked position.\n    var contextmenu = this.outputEditor.getContribution('editor.contrib.contextmenu');\n    var realMethod = contextmenu._onContextMenu;\n    contextmenu._onContextMenu = _.bind(function (e) {\n        if (this.isLabelCtxKey && e.target.position) {\n            var label = this.getLabelAtPosition(e.target.position);\n            this.isLabelCtxKey.set(label);\n        }\n        realMethod.apply(contextmenu, arguments);\n    }, this);\n\n    this.outputEditor.addAction({\n        id: 'viewsource',\n        label: 'Scroll to source',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var desiredLine = ed.getPosition().lineNumber - 1;\n            var source = this.assembly[desiredLine].source;\n            if (source !== null && source.file === null) {\n                // a null file means it was the user's source\n                this.eventHub.emit('editorLinkLine', this.sourceEditorId, source.line, -1, -1, true);\n            }\n        }, this),\n    });\n\n    this.outputEditor.addAction({\n        id: 'viewasmdoc',\n        label: 'View assembly documentation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F8],\n        keybindingContext: null,\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        run: _.bind(this.onAsmToolTip, this),\n    });\n\n    this.outputEditor.addAction({\n        id: 'toggleColourisation',\n        label: 'Toggle colourisation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.F1],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                colouriseAsm: !this.settings.colouriseAsm,\n            });\n        }, this),\n    });\n\n};\n\nCompiler.prototype.initEditorCommands = function () {\n    this.outputEditor.addAction({\n        id: 'dumpAsm',\n        label: 'Developer: Dump asm',\n        run: _.bind(function () {\n            // eslint-disable-next-line no-console\n            console.log(this.assembly);\n        }, this),\n    });\n};\n\n// Gets the filters that will actually be used (accounting for issues with binary\n// mode etc).\nCompiler.prototype.getEffectiveFilters = function () {\n    if (!this.compiler) return {};\n    var filters = this.filters.get();\n    if (filters.binary && !this.compiler.supportsBinary) {\n        delete filters.binary;\n    }\n    if (filters.execute && !this.compiler.supportsExecute) {\n        delete filters.execute;\n    }\n    if (filters.libraryCode && !this.compiler.supportsLibraryCodeFilter) {\n        delete filters.libraryCode;\n    }\n    _.each(this.compiler.disabledFilters, function (filter) {\n        if (filters[filter]) {\n            delete filters[filter];\n        }\n    });\n    return filters;\n};\n\nCompiler.prototype.findTools = function (content, tools) {\n    if (content.componentName === 'tool') {\n        if (\n            (content.componentState.editor === this.sourceEditorId) &&\n            (content.componentState.compiler === this.id)) {\n            tools.push({\n                id: content.componentState.toolId,\n                args: content.componentState.args,\n                stdin: content.componentState.stdin,\n            });\n        }\n    } else if (content.content) {\n        _.each(content.content, function (subcontent) {\n            tools = this.findTools(subcontent, tools);\n        }, this);\n    }\n\n    return tools;\n};\n\nCompiler.prototype.getActiveTools = function (newToolSettings) {\n    if (!this.compiler) return {};\n\n    var tools = [];\n    if (newToolSettings) {\n        tools.push({\n            id: newToolSettings.toolId,\n            args: newToolSettings.args,\n            stdin: newToolSettings.stdin,\n        });\n    }\n\n    if (this.container.layoutManager.isInitialised) {\n        var config = this.container.layoutManager.toConfig();\n        return this.findTools(config, tools);\n    } else {\n        return tools;\n    }\n};\n\nCompiler.prototype.isToolActive = function (activetools, toolId) {\n    return _.find(activetools, function (tool) {\n        return tool.id === toolId;\n    });\n};\n\nCompiler.prototype.compile = function (bypassCache, newTools) {\n    if (this.deferCompiles) {\n        this.needsCompile = true;\n        return;\n    }\n    this.needsCompile = false;\n    this.compileInfoLabel.text(' - Compiling...');\n    var options = {\n        userArguments: this.options,\n        compilerOptions: {\n            produceAst: this.astViewOpen,\n            produceGccDump: {\n                opened: this.gccDumpViewOpen,\n                pass: this.gccDumpPassSelected,\n                treeDump: this.treeDumpEnabled,\n                rtlDump: this.rtlDumpEnabled,\n                ipaDump: this.ipaDumpEnabled,\n                dumpFlags: this.dumpFlags,\n            },\n            produceOptInfo: this.wantOptInfo,\n            produceCfg: this.cfgViewOpen,\n            produceIr: this.irViewOpen,\n        },\n        filters: this.getEffectiveFilters(),\n        tools: this.getActiveTools(newTools),\n        libraries: [],\n    };\n\n    _.each(this.libsWidget.getLibsInUse(), function (item) {\n        options.libraries.push({\n            id: item.libId,\n            version: item.versionId,\n        });\n    });\n\n    this.compilerService.expand(this.source).then(_.bind(function (expanded) {\n        var request = {\n            source: expanded || '',\n            compiler: this.compiler ? this.compiler.id : '',\n            options: options,\n            lang: this.currentLangId,\n        };\n        if (bypassCache) request.bypassCache = true;\n        if (!this.compiler) {\n            this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n        } else {\n            this.sendCompile(request);\n        }\n    }, this));\n};\n\nCompiler.prototype.sendCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCompileResponse, this);\n\n    if (this.pendingRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextRequest = request;\n        return;\n    }\n    this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    var progress = setTimeout(_.bind(function () {\n        this.setAssembly({asm: fakeAsm('<Compiling...>')}, 0);\n    }, this), 500);\n    this.compilerService.submit(request)\n        .then(function (x) {\n            clearTimeout(progress);\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (x) {\n            clearTimeout(progress);\n            var message = 'Unknown error';\n            if (_.isString(x)) {\n                message = x;\n            } else if (x) {\n                message = x.error || x.code;\n            }\n            onCompilerResponse(request,\n                errorResult('<Compilation failed: ' + message + '>'), false);\n        });\n};\n\nCompiler.prototype.setNormalMargin = function () {\n    this.outputEditor.updateOptions({\n        lineNumbers: true,\n        lineNumbersMinChars: 1,\n    });\n};\n\nCompiler.prototype.setBinaryMargin = function () {\n    this.outputEditor.updateOptions({\n        lineNumbersMinChars: 6,\n        lineNumbers: _.bind(this.getBinaryForLine, this),\n    });\n};\n\nCompiler.prototype.getBinaryForLine = function (line) {\n    var obj = this.assembly[line - 1];\n    if (obj) {\n        return obj.address ? obj.address.toString(16) : '';\n    } else {\n        return '???';\n    }\n};\n\nCompiler.prototype.setAssembly = function (result, filteredCount) {\n    console.log('inside set assemblt',result);\n    var asm = result.asm || fakeAsm('<No output>');\n    this.assembly = asm;\n    if (!this.outputEditor || !this.outputEditor.getModel()) return;\n    var editorModel = this.outputEditor.getModel();\n    var msg = '<No assembly generated>';\n    if (asm.length) {\n        msg = _.pluck(asm, 'text').join('\\n');\n    } else if (filteredCount > 0) {\n        msg = '<No assembly to display (~' + filteredCount + (filteredCount === 1 ? ' line' : ' lines') + ' filtered)>';\n    }\n\n    if (asm.length === 1 && result.code !== 0 && (result.stderr || result.stdout)) {\n        msg += '\\n\\n# For more information see the output window';\n        if (!this.isOutputOpened) {\n            msg += '\\n# To open the output window, click or drag the \"Output\" icon at the bottom of this window';\n        }\n    }\n\n    editorModel.setValue(msg);\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.outputEditor.setSelection(this.selection);\n            this.outputEditor.revealLinesInCenter(\n                this.selection.startLineNumber, this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    } else {\n        var visibleRanges = this.outputEditor.getVisibleRanges();\n        var currentTopLine =\n            visibleRanges.length > 0 ? visibleRanges[0].startLineNumber : 1;\n        this.outputEditor.revealLine(currentTopLine);\n    }\n\n    this.decorations.labelUsages = [];\n    _.each(this.assembly, _.bind(function (obj, line) {\n        if (!obj.labels || !obj.labels.length) return;\n\n        obj.labels.forEach(function (label) {\n            this.decorations.labelUsages.push({\n                range: new monaco.Range(line + 1, label.range.startCol,\n                    line + 1, label.range.endCol),\n                options: {\n                    inlineClassName: 'asm-label-link',\n                    hoverMessage: [{\n                        value: 'Ctrl + Left click to follow the label',\n                    }],\n                },\n            });\n        }, this);\n    }, this));\n    this.updateDecorations();\n\n    var codeLenses = [];\n    if (this.getEffectiveFilters().binary) {\n        this.setBinaryMargin();\n        _.each(this.assembly, _.bind(function (obj, line) {\n            if (obj.opcodes) {\n                var address = obj.address ? obj.address.toString(16) : '';\n                codeLenses.push({\n                    range: {\n                        startLineNumber: line + 1,\n                        startColumn: 1,\n                        endLineNumber: line + 2,\n                        endColumn: 1,\n                    },\n                    id: address,\n                    command: {\n                        title: obj.opcodes.join(' '),\n                    },\n                });\n            }\n        }, this));\n    } else {\n        this.setNormalMargin();\n    }\n\n    codeLensHandler.registerLensesForCompiler(this.id, editorModel, codeLenses);\n\n    var currentAsmLang = editorModel.getModeId();\n    codeLensHandler.registerProviderForLanguage(currentAsmLang);\n};\n\nfunction errorResult(text) {\n    return {asm: fakeAsm(text), code: -1, stdout: '', stderr: ''};\n}\n\nfunction fakeAsm(text) {\n    return [{text: text, source: null, fake: true}];\n}\n\nCompiler.prototype.onCompileResponse = function (request, result, cached) {\n    console.log('inside onCompileResponse',request,result,cached);\n    // Delete trailing empty lines\n    if ($.isArray(result.asm)) {\n        var indexToDiscard = _.findLastIndex(result.asm, function (line) {\n            return !_.isEmpty(line.text);\n        });\n        result.asm.splice(indexToDiscard + 1, result.asm.length - indexToDiscard);\n    }\n    // Save which source produced this change. It should probably be saved earlier though\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingRequestSentAt > 0;\n    this.pendingRequestSentAt = 0;\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'Compile',\n        eventAction: request.compiler,\n        eventLabel: request.options.userArguments,\n        eventValue: cached ? 1 : 0,\n    });\n    ga.proxy('send', {\n        hitType: 'timing',\n        timingCategory: 'Compile',\n        timingVar: request.compiler,\n        timingValue: timeTaken,\n    });\n\n    this.labelDefinitions = result.labelDefinitions || {};\n    this.setAssembly(result, result.filteredCount || 0);\n\n    var stdout = result.stdout || [];\n    var stderr = result.stderr || [];\n\n    var allText = _.pluck(stdout.concat(stderr), 'text').join('\\n');\n    var failed = result.code !== 0;\n    var warns = !failed && !!allText;\n    this.handleCompilationStatus({code: failed ? 3 : (warns ? 2 : 1), compilerOut: result.code});\n    this.outputTextCount.text(stdout.length);\n    this.outputErrorCount.text(stderr.length);\n    if (this.isOutputOpened) {\n        this.outputBtn.prop('title', '');\n    } else {\n        this.outputBtn.prop('title', allText.replace(/\\x1b\\[[0-9;]*m(.\\[K)?/g, ''));\n    }\n    var infoLabelText = '';\n    if (cached) {\n        infoLabelText = ' - cached';\n    } else if (wasRealReply) {\n        infoLabelText = ' - ' + timeTaken + 'ms';\n    }\n\n    if (result.asmSize !== undefined) {\n        infoLabelText += ' (' + result.asmSize + 'B)';\n    }\n\n    if (result.filteredCount && result.filteredCount > 0) {\n        infoLabelText += ' ~' + result.filteredCount + (result.filteredCount === 1 ? ' line' : ' lines') + ' filtered';\n    }\n\n    this.compileInfoLabel.text(infoLabelText);\n\n    this.postCompilationResult(request, result);\n    this.eventHub.emit('compileResult', this.id, this.compiler, result, languages[this.currentLangId]);\n\n    if (this.nextRequest) {\n        var next = this.nextRequest;\n        this.nextRequest = null;\n        this.sendCompile(next);\n    }\n};\n\nCompiler.prototype.postCompilationResult = function (request, result) {\n    if (result.popularArguments) {\n        this.handlePopularArgumentsResult(result.popularArguments);\n    } else {\n        this.compilerService.requestPopularArguments(this.compiler.id, request.options.userArguments).then(\n            _.bind(function (result) {\n                if (result && result.result) {\n                    this.handlePopularArgumentsResult(result.result);\n                }\n            }, this)\n        );\n    }\n\n    this.updateButtons();\n\n    this.checkForUnwiseArguments(result.compilationOptions);\n    this.setCompilationOptionsPopover(result.compilationOptions ? result.compilationOptions.join(' ') : '');\n};\n\nCompiler.prototype.onEditorChange = function (editor, source, langId, compilerId) {\n    if (editor === this.sourceEditorId && langId === this.currentLangId &&\n        (compilerId === undefined || compilerId === this.id)) {\n        this.source = source;\n        if (this.settings.compileOnChange) {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onToolOpened = function (compilerId, toolSettings) {\n    if (this.id === compilerId) {\n        var toolId = toolSettings.toolId;\n\n        var buttons = this.toolsMenu.find('button');\n        $(buttons).each(_.bind(function (idx, button) {\n            var toolButton = $(button);\n            var toolName = toolButton.data('toolname');\n            if (toolId === toolName) {\n                toolButton.prop('disabled', true);\n            }\n        }, this));\n\n        this.compile(false, toolSettings);\n    }\n};\n\nCompiler.prototype.onToolClosed = function (compilerId, toolSettings) {\n    if (this.id === compilerId) {\n        var toolId = toolSettings.toolId;\n\n        var buttons = this.toolsMenu.find('button');\n        $(buttons).each(_.bind(function (idx, button) {\n            var toolButton = $(button);\n            var toolName = toolButton.data('toolname');\n            if (toolId === toolName) {\n                toolButton.prop('disabled', !this.supportsTool(toolId));\n            }\n        }, this));\n    }\n};\n\nCompiler.prototype.onOutputOpened = function (compilerId) {\n    if (this.id === compilerId) {\n        this.isOutputOpened = true;\n        this.outputBtn.prop('disabled', true);\n        this.resendResult();\n    }\n};\n\nCompiler.prototype.onOutputClosed = function (compilerId) {\n    if (this.id === compilerId) {\n        this.isOutputOpened = false;\n        this.outputBtn.prop('disabled', false);\n    }\n};\n\nCompiler.prototype.onOptViewClosed = function (id) {\n    if (this.id === id) {\n        this.wantOptInfo = false;\n        this.optViewOpen = false;\n        this.optButton.prop('disabled', this.optViewOpen);\n    }\n};\n\nCompiler.prototype.onAstViewOpened = function (id) {\n    if (this.id === id) {\n        this.astButton.prop('disabled', true);\n        this.astViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onToolSettingsChange = function (id) {\n    if (this.id === id) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onAstViewClosed = function (id) {\n    if (this.id === id) {\n        this.astButton.prop('disabled', false);\n        this.astViewOpen = false;\n    }\n};\n\nCompiler.prototype.onIrViewOpened = function (id) {\n    if (this.id === id) {\n        this.irButton.prop('disabled', true);\n        this.irViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onIrViewClosed = function (id) {\n    if (this.id === id) {\n        this.irButton.prop('disabled', false);\n        this.irViewOpen = false;\n    }\n};\n\nCompiler.prototype.onGccDumpUIInit = function (id) {\n    if (this.id === id) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onGccDumpFiltersChanged = function (id, filters, reqCompile) {\n    if (this.id === id) {\n        this.treeDumpEnabled = (filters.treeDump !== false);\n        this.rtlDumpEnabled = (filters.rtlDump !== false);\n        this.ipaDumpEnabled = (filters.ipaDump !== false);\n        this.dumpFlags = {\n            address: filters.addressOption !== false,\n            slim: filters.slimOption !== false,\n            raw: filters.rawOption !== false,\n            details: filters.detailsOption !== false,\n            stats: filters.statsOption !== false,\n            blocks: filters.blocksOption !== false,\n            vops: filters.vopsOption !== false,\n            lineno: filters.linenoOption !== false,\n            uid: filters.uidOption !== false,\n            all: filters.allOption !== false,\n        };\n\n        if (reqCompile) {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onGccDumpPassSelected = function (id, passId, reqCompile) {\n    if (this.id === id) {\n        this.gccDumpPassSelected = passId;\n\n        if (reqCompile && passId !== '') {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onGccDumpViewOpened = function (id) {\n    if (this.id === id) {\n        this.gccDumpButton.prop('disabled', true);\n        this.gccDumpViewOpen = true;\n    }\n};\n\nCompiler.prototype.onGccDumpViewClosed = function (id) {\n    if (this.id === id) {\n        this.gccDumpButton.prop('disabled', !this.compiler.supportsGccDump);\n        this.gccDumpViewOpen = false;\n\n        delete this.gccDumpPassSelected;\n        delete this.treeDumpEnabled;\n        delete this.rtlDumpEnabled;\n        delete this.ipaDumpEnabled;\n        delete this.dumpFlags;\n    }\n};\n\nCompiler.prototype.onOptViewOpened = function (id) {\n    if (this.id === id) {\n        this.optViewOpen = true;\n        this.wantOptInfo = true;\n        this.optButton.prop('disabled', this.optViewOpen);\n        this.compile();\n    }\n};\n\nCompiler.prototype.onCfgViewOpened = function (id) {\n    if (this.id === id) {\n        this.cfgButton.prop('disabled', true);\n        this.cfgViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onCodeCfgViewOpened = function (id) {\n    if (this.id === id) {\n        this.codeCfgButton.prop('disabled', true);\n        this.codeCfgViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onCfgViewClosed = function (id) {\n    if (this.id === id) {\n        this.cfgViewOpen = false;\n        this.cfgButton.prop('disabled', this.getEffectiveFilters().binary);\n    }\n};\n\nCompiler.prototype.onCodeCfgViewClosed = function (id) {\n    if (this.id === id) {\n        this.codeCfgViewOpen = false;\n        this.codeCfgButton.prop('disabled', this.getEffectiveFilters().binary);\n    }\n};\n\nCompiler.prototype.initFilterButtons = function () {\n    this.filterBinaryButton = this.domRoot.find('[data-bind=\\'binary\\']');\n    this.filterBinaryTitle = this.filterBinaryButton.prop('title');\n\n    this.filterExecuteButton = this.domRoot.find('[data-bind=\\'execute\\']');\n    this.filterExecuteTitle = this.filterExecuteButton.prop('title');\n\n    this.filterLabelsButton = this.domRoot.find('[data-bind=\\'labels\\']');\n    this.filterLabelsTitle = this.filterLabelsButton.prop('title');\n\n    this.filterDirectivesButton = this.domRoot.find('[data-bind=\\'directives\\']');\n    this.filterDirectivesTitle = this.filterDirectivesButton.prop('title');\n\n    this.filterLibraryCodeButton = this.domRoot.find('[data-bind=\\'libraryCode\\']');\n    this.filterLibraryCodeTitle = this.filterLibraryCodeButton.prop('title');\n\n    this.filterCommentsButton = this.domRoot.find('[data-bind=\\'commentOnly\\']');\n    this.filterCommentsTitle = this.filterCommentsButton.prop('title');\n\n    this.filterTrimButton = this.domRoot.find('[data-bind=\\'trim\\']');\n    this.filterTrimTitle = this.filterTrimButton.prop('title');\n\n    this.filterIntelButton = this.domRoot.find('[data-bind=\\'intel\\']');\n    this.filterIntelTitle = this.filterIntelButton.prop('title');\n\n    this.filterDemangleButton = this.domRoot.find('[data-bind=\\'demangle\\']');\n    this.filterDemangleTitle = this.filterDemangleButton.prop('title');\n\n    this.noBinaryFiltersButtons = this.domRoot.find('.nonbinary');\n};\n\nCompiler.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.filters'), patchOldFilters(state.filters));\n\n    this.optButton = this.domRoot.find('.btn.view-optimization');\n    this.astButton = this.domRoot.find('.btn.view-ast');\n    this.irButton = this.domRoot.find('.btn.view-ir');\n    this.gccDumpButton = this.domRoot.find('.btn.view-gccdump');\n    this.cfgButton = this.domRoot.find('.btn.view-cfg');\n    this.codeCfgButton = this.domRoot.find('.btn.view-code-cfg');\n    this.executorButton = this.domRoot.find('.create-executor');\n    this.libsButton = this.domRoot.find('.btn.show-libs');\n\n    this.compileInfoLabel = this.domRoot.find('.compile-info');\n    this.compileClearCache = this.domRoot.find('.clear-cache');\n\n    this.outputBtn = this.domRoot.find('.output-btn');\n    this.outputTextCount = this.domRoot.find('span.text-count');\n    this.outputErrorCount = this.domRoot.find('span.err-count');\n\n    this.optionsField = this.domRoot.find('.options');\n    this.prependOptions = this.domRoot.find('.prepend-options');\n    this.fullCompilerName = this.domRoot.find('.full-compiler-name');\n    this.fullTimingInfo = this.domRoot.find('.full-timing-info');\n    this.setCompilationOptionsPopover(this.compiler ? this.compiler.options : null);\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('mouseup', _.bind(function (e) {\n        var target = $(e.target);\n        if (!target.is(this.prependOptions) && this.prependOptions.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.prependOptions.popover('hide');\n\n        if (!target.is(this.fullCompilerName) && this.fullCompilerName.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.fullCompilerName.popover('hide');\n    }, this));\n\n    this.initFilterButtons(state);\n\n    this.filterExecuteButton.toggle(options.supportsExecute);\n    this.filterLibraryCodeButton.toggle(options.supportsLibraryCodeFilter);\n\n    this.optionsField.val(this.options);\n\n    this.shortCompilerName = this.domRoot.find('.short-compiler-name');\n    this.compilerPicker = this.domRoot.find('.compiler-picker');\n    this.setCompilerVersionPopover('', '');\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.bottomBar = this.domRoot.find('.bottom-bar');\n    this.statusLabel = this.domRoot.find('.status-text');\n\n    this.hideable = this.domRoot.find('.hideable');\n    this.statusIcon = this.domRoot.find('.status-icon');\n\n    this.monacoPlaceholder = this.domRoot.find('.monaco-placeholder');\n\n    this.initPanerButtons();\n};\n\nCompiler.prototype.onLibsChanged = function () {\n    this.saveState();\n    this.compile();\n};\n\nCompiler.prototype.initLibraries = function (state) {\n    this.libsWidget = new Libraries.Widget(this.currentLangId, this.compiler, this.libsButton,\n        state, _.bind(this.onLibsChanged, this));\n};\n\nCompiler.prototype.updateLibraries = function () {\n    if (this.libsWidget) this.libsWidget.setNewLangId(this.currentLangId, this.compiler.id, this.compiler.libs);\n};\n\nCompiler.prototype.supportsTool = function (toolId) {\n    if (!this.compiler) return;\n\n    return _.find(this.compiler.tools, function (tool) {\n        return (tool.tool.id === toolId);\n    });\n};\n\nCompiler.prototype.initToolButton = function (togglePannerAdder, button, toolId) {\n    var createToolView = _.bind(function () {\n        var args = '';\n        var langTools = options.tools[this.currentLangId];\n        if (langTools && langTools[toolId] && langTools[toolId].tool && langTools[toolId].tool.args !== undefined) {\n            args = langTools[toolId].tool.args;\n        }\n        return Components.getToolViewWith(this.id, this.sourceEditorId, toolId, args);\n    }, this);\n\n    this.container.layoutManager\n        .createDragSource(button, createToolView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    button.click(_.bind(function () {\n        button.prop('disabled', true);\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createToolView);\n    }, this));\n};\n\nCompiler.prototype.initToolButtons = function (togglePannerAdder) {\n    this.toolsMenu = this.domRoot.find('.toolsmenu');\n    this.toolsMenu.empty();\n\n    if (!this.compiler) return;\n\n    var addTool = _.bind(function (toolName, title) {\n        var btn = $('<button class=\\'dropdown-item btn btn-light btn-sm\\'>');\n        btn.addClass('view-' + toolName);\n        btn.data('toolname', toolName);\n        btn.append('<span class=\\'dropdown-icon fas fa-cog\\'></span>' + title);\n        this.toolsMenu.append(btn);\n\n        if (toolName !== 'none') {\n            this.initToolButton(togglePannerAdder, btn, toolName);\n        }\n    }, this);\n\n    if (_.isEmpty(this.compiler.tools)) {\n        addTool('none', 'No tools available');\n    } else {\n        _.each(this.compiler.tools, function (tool) {\n            addTool(tool.tool.id, tool.tool.name);\n        });\n    }\n};\n\nCompiler.prototype.enableToolButtons = function () {\n    var activeTools = this.getActiveTools();\n\n    var buttons = this.toolsMenu.find('button');\n    $(buttons).each(_.bind(function (idx, button) {\n        var toolButton = $(button);\n        var toolName = toolButton.data('toolname');\n        toolButton.prop('disabled',\n            !(this.supportsTool(toolName)\n                && !this.isToolActive(activeTools, toolName)));\n    }, this));\n};\n\nCompiler.prototype.updateButtons = function () {\n    if (!this.compiler) return;\n    var filters = this.getEffectiveFilters();\n    // We can support intel output if the compiler supports it, or if we're compiling\n    // to binary (as we can disassemble it however we like).\n    var formatFilterTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title +\n            (button.prop('disabled') ? ' [LOCKED]' : ''));\n    };\n    var isIntelFilterDisabled = !this.compiler.supportsIntel && !filters.binary;\n    this.filterIntelButton.prop('disabled', isIntelFilterDisabled);\n    formatFilterTitle(this.filterIntelButton, this.filterIntelTitle);\n    // Disable binary support on compilers that don't work with it.\n    this.filterBinaryButton.prop('disabled', !this.compiler.supportsBinary);\n    formatFilterTitle(this.filterBinaryButton, this.filterBinaryTitle);\n    this.filterExecuteButton.prop('disabled', !this.compiler.supportsExecute);\n    formatFilterTitle(this.filterExecuteButton, this.filterExecuteTitle);\n    // Disable demangle for compilers where we can't access it\n    this.filterDemangleButton.prop('disabled', !this.compiler.supportsDemangle);\n    formatFilterTitle(this.filterDemangleButton, this.filterDemangleTitle);\n    // Disable any of the options which don't make sense in binary mode.\n    var noBinaryFiltersDisabled = !!filters.binary && !this.compiler.supportsFiltersInBinary;\n    this.noBinaryFiltersButtons.prop('disabled', noBinaryFiltersDisabled);\n\n    this.filterLibraryCodeButton.prop('disabled', !this.compiler.supportsLibraryCodeFilter);\n    formatFilterTitle(this.filterLibraryCodeButton, this.filterLibraryCodeTitle);\n\n    this.filterLabelsButton.prop('disabled', this.compiler.disabledFilters.indexOf('labels') !== -1);\n    formatFilterTitle(this.filterLabelsButton, this.filterLabelsTitle);\n    this.filterDirectivesButton.prop('disabled', this.compiler.disabledFilters.indexOf('directives') !== -1);\n    formatFilterTitle(this.filterDirectivesButton, this.filterDirectivesTitle);\n    this.filterCommentsButton.prop('disabled', this.compiler.disabledFilters.indexOf('commentOnly') !== -1);\n    formatFilterTitle(this.filterCommentsButton, this.filterCommentsTitle);\n    this.filterTrimButton.prop('disabled', this.compiler.disabledFilters.indexOf('trim') !== -1);\n    formatFilterTitle(this.filterTrimButton, this.filterTrimTitle);\n\n    this.optButton.prop('disabled', this.optViewOpen || !this.compiler.supportsOptOutput);\n    this.astButton.prop('disabled', this.astViewOpen || !this.compiler.supportsAstView);\n    this.irButton.prop('disabled', this.irViewOpen || !this.compiler.supportsIrView);\n    this.cfgButton.prop('disabled', this.cfgViewOpen || !this.compiler.supportsCfg);\n    this.codeCfgButton.prop('disabled', this.codeCfgViewOpen || !this.compiler.supportsCfg);\n    this.gccDumpButton.prop('disabled', this.gccDumpViewOpen || !this.compiler.supportsGccDump);\n\n    this.executorButton.prop('disabled', !this.compiler.supportsExecute);\n\n    this.enableToolButtons();\n};\n\nCompiler.prototype.handlePopularArgumentsResult = function (result) {\n    var popularArgumentsMenu = this.domRoot.find('div.populararguments div.dropdown-menu');\n    popularArgumentsMenu.html('');\n\n    if (result) {\n        var addedOption = false;\n\n        _.forEach(result, _.bind(function (arg, key) {\n            var argumentButton = $(document.createElement('button'));\n            argumentButton.addClass('dropdown-item btn btn-light btn-sm');\n            argumentButton.attr('title', arg.description);\n            argumentButton.data('arg', key);\n            argumentButton.html(\n                '<div class=\\'argmenuitem\\'>' +\n                '<span class=\\'argtitle\\'>' + _.escape(key) + '</span>' +\n                '<span class=\\'argdescription\\'>' + arg.description + '</span>' +\n                '</div>');\n\n            argumentButton.click(_.bind(function () {\n                var button = argumentButton;\n                var curOptions = this.optionsField.val();\n                if (curOptions.length > 0) {\n                    this.optionsField.val(curOptions + ' ' + button.data('arg'));\n                } else {\n                    this.optionsField.val(button.data('arg'));\n                }\n\n                this.optionsField.change();\n            }, this));\n\n            popularArgumentsMenu.append(argumentButton);\n            addedOption = true;\n        }, this));\n\n        if (!addedOption) {\n            $('div.populararguments').hide();\n        } else {\n            $('div.populararguments').show();\n        }\n    } else {\n        $('div.populararguments').hide();\n    }\n};\n\nCompiler.prototype.onFontScale = function () {\n    this.saveState();\n};\n\nCompiler.prototype.initListeners = function () {\n    this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.fontScale.on('change', _.bind(this.onFontScale, this));\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('compilerOpen', this.id, this.sourceEditorId);\n    }, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('colours', this.onColours, this);\n    this.eventHub.on('resendCompilation', this.onResendCompilation, this);\n    this.eventHub.on('findCompilers', this.sendCompiler, this);\n    this.eventHub.on('compilerSetDecorations', this.onCompilerSetDecorations, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('requestCompilation', this.onRequestCompilation, this);\n\n    this.eventHub.on('toolSettingsChange', this.onToolSettingsChange, this);\n    this.eventHub.on('toolOpened', this.onToolOpened, this);\n    this.eventHub.on('toolClosed', this.onToolClosed, this);\n\n    this.eventHub.on('optViewOpened', this.onOptViewOpened, this);\n    this.eventHub.on('optViewClosed', this.onOptViewClosed, this);\n    this.eventHub.on('astViewOpened', this.onAstViewOpened, this);\n    this.eventHub.on('astViewClosed', this.onAstViewClosed, this);\n    this.eventHub.on('irViewOpened', this.onIrViewOpened, this);\n    this.eventHub.on('irViewClosed', this.onIrViewClosed, this);\n    this.eventHub.on('outputOpened', this.onOutputOpened, this);\n    this.eventHub.on('outputClosed', this.onOutputClosed, this);\n\n    this.eventHub.on('gccDumpPassSelected', this.onGccDumpPassSelected, this);\n    this.eventHub.on('gccDumpFiltersChanged', this.onGccDumpFiltersChanged, this);\n    this.eventHub.on('gccDumpViewOpened', this.onGccDumpViewOpened, this);\n    this.eventHub.on('gccDumpViewClosed', this.onGccDumpViewClosed, this);\n    this.eventHub.on('gccDumpUIInit', this.onGccDumpUIInit, this);\n\n    this.eventHub.on('cfgViewOpened', this.onCfgViewOpened, this);\n    this.eventHub.on('cfgViewClosed', this.onCfgViewClosed, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('requestFilters', function (id) {\n        if (id === this.id) {\n            this.eventHub.emit('filtersChange', this.id, this.getEffectiveFilters());\n        }\n    }, this);\n    this.eventHub.on('requestCompiler', function (id) {\n        if (id === this.id) {\n            this.sendCompiler();\n        }\n    }, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.fullTimingInfo\n        .off('click')\n        .click(_.bind(function () {\n            timingInfo.run(_.bind(function () {\n            }, this), this.lastResult, this.lastTimeTaken);\n        }, this));\n};\n\nCompiler.prototype.initCallbacks = function () {\n    this.initListeners();\n\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n    }, this), 800);\n\n    this.optionsField\n        .on('change', optionsChange)\n        .on('keyup', optionsChange);\n\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.outputEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.outputEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.mouseUpThrottledFunction = _.throttle(_.bind(this.onMouseUp, this), 50);\n    this.outputEditor.onMouseUp(_.bind(function (e) {\n        this.mouseUpThrottledFunction(e);\n    }, this));\n\n    this.compileClearCache.on('click', _.bind(function () {\n        this.compilerService.cache.reset();\n        this.compile(true);\n    }, this));\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n\n    this.eventHub.on('initialised', this.undefer, this);\n};\n\nCompiler.prototype.onOptionsChange = function (options) {\n    if (this.options !== options) {\n        this.options = options;\n        this.saveState();\n        this.compile();\n        this.updateButtons();\n        this.sendCompiler();\n    }\n};\n\nCompiler.prototype.checkForUnwiseArguments = function (optionsArray) {\n    // Check if any options are in the unwiseOptions array and remember them\n    var unwiseOptions = _.intersection(optionsArray, this.compiler.unwiseOptions);\n\n    var options = unwiseOptions.length === 1 ? 'Option ' : 'Options ';\n    var names = unwiseOptions.join(', ');\n    var are = unwiseOptions.length === 1 ? ' is ' : ' are ';\n    var msg = options + names + are + 'not recommended, as behaviour might change based on server hardware.';\n\n    if (unwiseOptions.length > 0) {\n        this.alertSystem.notify(msg, {group: 'unwiseOption', collapseSimilar: true});\n    }\n};\n\nCompiler.prototype.updateCompilerInfo = function () {\n    this.updateCompilerName();\n    if (this.compiler) {\n        if (this.compiler.notification) {\n            this.alertSystem.notify(this.compiler.notification, {\n                group: 'compilerwarning',\n                alertClass: 'notification-info',\n                dismissTime: 5000,\n            });\n        }\n        this.prependOptions.data('content', this.compiler.options);\n    }\n};\n\nCompiler.prototype.updateCompilerUI = function () {\n    var panerDropdown = this.domRoot.find('.pane-dropdown');\n    var togglePannerAdder = function () {\n        panerDropdown.dropdown('toggle');\n    };\n    this.initToolButtons(togglePannerAdder);\n    this.updateButtons();\n    this.updateCompilerInfo();\n    // Resize in case the new compiler name is too big\n    this.resize();\n};\n\nCompiler.prototype.onCompilerChange = function (value) {\n    this.compiler = this.compilerService.findCompiler(this.currentLangId, value);\n    this.updateLibraries();\n    this.saveState();\n    this.compile();\n    this.updateCompilerUI();\n    this.sendCompiler();\n};\n\nCompiler.prototype.sendCompiler = function () {\n    this.eventHub.emit('compiler', this.id, this.compiler, this.options, this.sourceEditorId);\n};\n\nCompiler.prototype.onEditorClose = function (editor) {\n    if (editor === this.sourceEditorId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nCompiler.prototype.onFilterChange = function () {\n    var filters = this.getEffectiveFilters();\n    this.eventHub.emit('filtersChange', this.id, filters);\n    this.saveState();\n    this.compile();\n    this.updateButtons();\n};\n\nCompiler.prototype.currentState = function () {\n    var state = {\n        id: this.id,\n        compiler: this.compiler ? this.compiler.id : '',\n        source: this.sourceEditorId,\n        options: this.options,\n        // NB must *not* be effective filters\n        filters: this.filters.get(),\n        wantOptInfo: this.wantOptInfo,\n        libs: this.libsWidget.get(),\n        lang: this.currentLangId,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nCompiler.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nCompiler.prototype.onColours = function (editor, colours, scheme) {\n    if (editor === this.sourceEditorId) {\n        var asmColours = {};\n        _.each(this.assembly, function (x, index) {\n            if (x.source && x.source.file === null && x.source.line > 0) {\n                asmColours[index] = colours[x.source.line - 1];\n            }\n        });\n        this.colours = colour.applyColours(this.outputEditor, asmColours, scheme, this.colours);\n    }\n};\n\nCompiler.prototype.getCompilerName = function () {\n    return this.compiler ? this.compiler.name : 'No compiler set';\n};\n\n\nCompiler.prototype.getLanguageName = function () {\n    var lang = options.languages[this.currentLangId];\n    return lang ? lang.name : '?';\n};\n\nCompiler.prototype.getPaneName = function () {\n    var langName = this.getLanguageName();\n    var compName = this.getCompilerName();\n    return compName + ' (Editor #' + this.sourceEditorId + ', Compiler #' + this.id + ') ' + langName;\n};\n\nCompiler.prototype.updateCompilerName = function () {\n    var compilerName = this.getCompilerName();\n    var compilerVersion = this.compiler ? this.compiler.version : '';\n    var compilerNotification = this.compiler ? this.compiler.notification : '';\n    this.container.setTitle(this.getPaneName());\n    this.shortCompilerName.text(compilerName);\n    this.setCompilerVersionPopover(compilerVersion, compilerNotification);\n};\n\nCompiler.prototype.resendResult = function () {\n    if (!$.isEmptyObject(this.lastResult)) {\n        this.eventHub.emit('compileResult', this.id, this.compiler, this.lastResult);\n        return true;\n    }\n    return false;\n};\n\nCompiler.prototype.onResendCompilation = function (id) {\n    if (id === this.id) {\n        this.resendResult();\n    }\n};\n\nCompiler.prototype.updateDecorations = function () {\n    this.prevDecorations = this.outputEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nCompiler.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nCompiler.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender) {\n    if (Number(compilerId) === this.id) {\n        var lineNums = [];\n        var directlyLinkedLineNums = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.assembly, function (asmLine, i) {\n            if (asmLine.source && asmLine.source.file === null && asmLine.source.line === lineNumber) {\n                var line = i + 1;\n                lineNums.push(line);\n                var currentCol = asmLine.source.column;\n                if (signalFromAnotherPane && currentCol && colBegin <= currentCol && currentCol <= colEnd) {\n                    directlyLinkedLineNums.push(line);\n                }\n            }\n        });\n        if (revealLine && lineNums[0]) this.outputEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = sender !== this.getPaneName() ? 'linked-code-decoration-line' : '';\n        var linkedLinesDecoration = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLinesDecoration = _.map(directlyLinkedLineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = linkedLinesDecoration.concat(directlyLinkedLinesDecoration);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nCompiler.prototype.onCompilerSetDecorations = function (id, lineNums, revealLine) {\n    if (Number(id) === this.id) {\n        if (revealLine && lineNums[0]) this.outputEditor.revealLineInCenter(lineNums[0]);\n        this.decorations.linkedCode = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    inlineClassName: 'linked-code-decoration-inline',\n                },\n            };\n        });\n        this.updateDecorations();\n    }\n};\n\nCompiler.prototype.setCompilationOptionsPopover = function (content) {\n    this.prependOptions.popover('dispose');\n    this.prependOptions.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nCompiler.prototype.setCompilerVersionPopover = function (version, notification) {\n    this.fullCompilerName.popover('dispose');\n    // `notification` contains HTML from a config file, so is 'safe'.\n    // `version` comes from compiler output, so isn't, and is escaped.\n    this.fullCompilerName.popover({\n        html: true,\n        title: notification ? $.parseHTML('<span>Compiler Version: ' + notification + '</span>')[0] :\n            'Full compiler version',\n        content: _.escape(version) || '',\n        template: '<div class=\"popover' +\n            (version ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nCompiler.prototype.onRequestCompilation = function (editorId) {\n    if (editorId === this.sourceEditorId) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onSettingsChange = function (newSettings) {\n    var before = this.settings;\n    this.settings = _.clone(newSettings);\n    if (!before.lastHoverShowSource && this.settings.hoverShowSource) {\n        this.onCompilerSetDecorations(this.id, []);\n    }\n    this.outputEditor.updateOptions({\n        contextmenu: this.settings.useCustomContextMenu,\n        minimap: {\n            enabled: this.settings.showMinimap && !options.embedded,\n        },\n        fontFamily: this.settings.editorsFFont,\n        fontLigatures: this.settings.editorsFLigatures,\n    });\n};\n\nvar hexLike = /^(#?[$]|0x)([0-9a-fA-F]+)$/;\nvar hexLike2 = /^(#?)([0-9a-fA-F]+)H$/;\nvar decimalLike = /^(#?)(-?[0-9]+)$/;\n\nfunction getNumericToolTip(value) {\n    var match = hexLike.exec(value) || hexLike2.exec(value);\n    if (match) {\n        return value + ' = ' + bigInt(match[2], 16).toString(10);\n    }\n    match = decimalLike.exec(value);\n    if (match) {\n        var asBig = bigInt(match[2]);\n        if (asBig.isNegative()) {\n            asBig = bigInt('ffffffffffffffff', 16).and(asBig);\n        }\n        return value + ' = 0x' + asBig.toString(16).toUpperCase();\n    }\n\n    return null;\n}\n\nfunction getAsmInfo(opcode, instructionSet) {\n    var cacheName = 'asm/' + (instructionSet ? (instructionSet + '/') : '') + opcode;\n    var cached = OpcodeCache.get(cacheName);\n    if (cached) {\n        return Promise.resolve(cached.found ? cached.result : null);\n    }\n    var base = window.httpRoot;\n    return new Promise(function (resolve, reject) {\n        $.ajax({\n            type: 'GET',\n            url: window.location.origin + base + 'api/asm/' + (instructionSet ? (instructionSet + '/') : '') + opcode,\n            dataType: 'json',  // Expected,\n            contentType: 'text/plain',  // Sent\n            success: function (result) {\n                OpcodeCache.set(cacheName, result);\n                resolve(result.found ? result.result : null);\n            },\n            error: function (result) {\n                reject(result);\n            },\n            cache: true,\n        });\n    });\n}\n\nCompiler.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.saveState();\n    }\n};\n\nCompiler.prototype.onMouseUp = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n\n    if (e.event.ctrlKey && e.event.leftButton) {\n        this.jumpToLabel(e.target.position);\n    }\n};\n\nCompiler.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.assembly) {\n        this.clearLinkedLines();\n        var hoverAsm = this.assembly[e.target.position.lineNumber - 1];\n        if (hoverAsm) {\n            // We check that we actually have something to show at this point!\n            var sourceLine = -1;\n            var sourceColBegin = -1;\n            var sourceColEnd = -1;\n            if (hoverAsm.source && !hoverAsm.source.file) {\n                sourceLine = hoverAsm.source.line;\n                if (hoverAsm.source.column) {\n                    sourceColBegin = hoverAsm.source.column;\n                    sourceColEnd = sourceColBegin;\n                }\n            }\n            this.eventHub.emit('editorLinkLine', this.sourceEditorId, sourceLine, sourceColBegin, sourceColEnd, false);\n            this.eventHub.emit('panesLinkLine', this.id,\n                sourceLine, sourceColBegin, sourceColEnd,\n                false, this.getPaneName());\n        }\n    }\n    var currentWord = this.outputEditor.getModel().getWordAtPosition(e.target.position);\n    if (currentWord && currentWord.word) {\n        var word = currentWord.word;\n        var startColumn = currentWord.startColumn;\n        // Avoid throwing an exception if somehow (How?) we have a non existent lineNumber.\n        // c.f. https://sentry.io/matt-godbolt/compiler-explorer/issues/285270358/\n        if (e.target.position.lineNumber <= this.outputEditor.getModel().getLineCount()) {\n            // Hacky workaround to check for negative numbers.\n            // c.f. https://github.com/compiler-explorer/compiler-explorer/issues/434\n            var lineContent = this.outputEditor.getModel().getLineContent(e.target.position.lineNumber);\n            if (lineContent[currentWord.startColumn - 2] === '-') {\n                word = '-' + word;\n                startColumn -= 1;\n            }\n        }\n        currentWord.range = new monaco.Range(e.target.position.lineNumber, Math.max(startColumn, 1),\n            e.target.position.lineNumber, currentWord.endColumn);\n        var numericToolTip = getNumericToolTip(word);\n        if (numericToolTip) {\n            this.decorations.numericToolTip = {\n                range: currentWord.range,\n                options: {\n                    isWholeLine: false, hoverMessage: [{\n                        value: '`' + numericToolTip + '`',\n                    }],\n                },\n            };\n            this.updateDecorations();\n        }\n\n        if (this.getEffectiveFilters().intel) {\n            var lineTokens = _.bind(function (model, line) {\n                //Force line's state to be accurate\n                if (line > model.getLineCount()) return [];\n                var flavour = model.getModeId();\n                var tokens = monaco.editor.tokenize(model.getLineContent(line), flavour);\n                return tokens.length > 0 ? tokens[0] : [];\n            }, this);\n\n            if (this.settings.hoverShowAsmDoc === true &&\n                _.some(lineTokens(this.outputEditor.getModel(), currentWord.range.startLineNumber), function (t) {\n                    return t.offset + 1 === currentWord.startColumn && t.type === 'keyword.asm';\n                })) {\n                getAsmInfo(currentWord.word, this.compiler.instructionSet).then(_.bind(function (response) {\n                    if (!response) return;\n                    this.decorations.asmToolTip = {\n                        range: currentWord.range,\n                        options: {\n                            isWholeLine: false,\n                            hoverMessage: [{\n                                value: response.tooltip + '\\n\\nMore information available in the context menu.',\n                                isTrusted: true,\n                            }],\n                        },\n                    };\n                    this.updateDecorations();\n                }, this));\n            }\n        }\n    }\n};\n\nCompiler.prototype.onAsmToolTip = function (ed) {\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'AsmDocs',\n    });\n    if (!this.getEffectiveFilters().intel) return;\n    var pos = ed.getPosition();\n    var word = ed.getModel().getWordAtPosition(pos);\n    if (!word || !word.word) return;\n    var opcode = word.word.toUpperCase();\n\n    function newGitHubIssueUrl() {\n        return 'https://github.com/compiler-explorer/compiler-explorer/issues/new?title=' +\n            encodeURIComponent('[BUG] Problem with ' + opcode + ' opcode');\n    }\n\n    function appendInfo(url) {\n        return '<br><br>For more information, visit <a href=\"' + url +\n            '\" target=\"_blank\" rel=\"noopener noreferrer\">the ' + opcode +\n            ' documentation <sup><small class=\"fas fa-external-link-alt opens-new-window\"' +\n            ' title=\"Opens in a new window\"></small></sup></a>.' +\n            '<br>If the documentation for this opcode is wrong or broken in some way, ' +\n            'please feel free to <a href=\"' + newGitHubIssueUrl() + '\" target=\"_blank\" rel=\"noopener noreferrer\">' +\n            'open an issue on GitHub <sup><small class=\"fas fa-external-link-alt opens-new-window\" ' +\n            'title=\"Opens in a new window\"></small></sup></a>.';\n    }\n\n    getAsmInfo(word.word, this.compiler.instructionSet).then(_.bind(function (asmHelp) {\n        if (asmHelp) {\n            this.alertSystem.alert(opcode + ' help', asmHelp.html + appendInfo(asmHelp.url), function () {\n                ed.focus();\n                ed.setPosition(pos);\n            });\n        } else {\n            this.alertSystem.notify('This token was not found in the documentation. Sorry!', {\n                group: 'notokenindocs',\n                alertClass: 'notification-error',\n                dismissTime: 3000,\n            });\n        }\n    }, this), _.bind(function (rejection) {\n        this.alertSystem\n            .notify('There was an error fetching the documentation for this opcode (' + rejection + ').', {\n                group: 'notokenindocs',\n                alertClass: 'notification-error',\n                dismissTime: 3000,\n            });\n    }, this));\n};\n\nCompiler.prototype.handleCompilationStatus = function (status) {\n    if (!this.statusLabel || !this.statusIcon) return;\n\n    function ariaLabel() {\n        // Compiling...\n        if (status.code === 4) return 'Compiling';\n        if (status.compilerOut === 0) {\n            // StdErr.length > 0\n            if (status.code === 3) return 'Compilation succeeded with errors';\n            // StdOut.length > 0\n            if (status.code === 2) return 'Compilation succeeded with warnings';\n            return 'Compilation succeeded';\n        } else {\n            // StdErr.length > 0\n            if (status.code === 3) return 'Compilation failed with errors';\n            // StdOut.length > 0\n            if (status.code === 2) return 'Compilation failed with warnings';\n            return 'Compilation failed';\n        }\n    }\n\n    function color() {\n        // Compiling...\n        if (status.code === 4) return 'black';\n        if (status.compilerOut === 0) {\n            // StdErr.length > 0\n            if (status.code === 3) return '#FF6645';\n            // StdOut.length > 0\n            if (status.code === 2) return '#FF6500';\n            return '#12BB12';\n        } else {\n            // StdErr.length > 0\n            if (status.code === 3) return '#FF1212';\n            // StdOut.length > 0\n            if (status.code === 2) return '#BB8700';\n            return '#FF6645';\n        }\n    }\n\n    this.statusIcon\n        .removeClass()\n        .addClass('status-icon fas')\n        .css('color', color())\n        .toggle(status.code !== 0)\n        .prop('aria-label', ariaLabel())\n        .prop('data-status', status.code)\n        .toggleClass('fa-spinner', status.code === 4)\n        .toggleClass('fa-times-circle', status.code === 3)\n        .toggleClass('fa-check-circle', status.code === 1 || status.code === 2);\n\n    this.statusLabel\n        .toggleClass('error', status === 3)\n        .toggleClass('warning', status === 2);\n};\n\nCompiler.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (this.sourceEditorId === editorId) {\n        var oldLangId = this.currentLangId;\n        this.currentLangId = newLangId;\n        // Store the current selected stuff to come back to it later in the same session (Not state stored!)\n        this.infoByLang[oldLangId] = {\n            compiler: this.compiler && this.compiler.id ? this.compiler.id : options.defaultCompiler[oldLangId],\n            options: this.options,\n        };\n        var info = this.infoByLang[this.currentLangId] || {};\n        this.initLangAndCompiler({lang: newLangId, compiler: info.compiler});\n        this.updateCompilersSelector(info);\n        this.updateCompilerUI();\n        this.sendCompiler();\n        this.saveState();\n    }\n};\n\nCompiler.prototype.getCurrentLangCompilers = function () {\n    return this.compilerService.getCompilersForLang(this.currentLangId);\n};\n\nCompiler.prototype.updateCompilersSelector = function (info) {\n    this.compilerSelectizer.clearOptions(true);\n    this.compilerSelectizer.clearOptionGroups();\n    _.each(this.compilerService.getGroupsInUse(this.currentLangId), function (group) {\n        this.compilerSelectizer.addOptionGroup(group.value, {label: group.label});\n    }, this);\n\n    var selectedCompilerId = this.compiler ? this.compiler.id : null;\n    var filteredCompilers = _.filter(this.getCurrentLangCompilers(), function (e) {\n        return !e.hidden || e.id === selectedCompilerId;\n    });\n\n    this.compilerSelectizer.load(_.bind(function (callback) {\n        callback(_.map(filteredCompilers, _.identity));\n    }, this));\n    this.compilerSelectizer.setValue([this.compiler ? this.compiler.id : null], true);\n    this.options = info.options || '';\n    this.optionsField.val(this.options);\n};\n\nmodule.exports = {\n    Compiler: Compiler,\n};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar configElement = document.getElementById('config');\n\nwindow.httpRoot = configElement.getAttribute('httpRoot');\nwindow.staticRoot = configElement.getAttribute('staticRoot');\n\nvar extraOptions = JSON.parse(decodeURIComponent(configElement.getAttribute('extraOptions')));\nfor (var k in extraOptions) {\n    window.compilerExplorerOptions[k] = extraOptions[k];\n}\n\n__webpack_public_path__ = window.staticRoot;\n\nmodule.exports = window.compilerExplorerOptions;\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ga = require('../analytics');\nvar Toggles = require('../toggles');\nvar FontScale = require('../fontscale');\nvar options = require('../options');\nvar Alert = require('../alert');\nvar local = require('../local');\nvar Libraries = require('../libs-widget-ext');\nvar AnsiToHtml = require('../ansi-to-html');\nvar timingInfoWidget = require('../timing-info-widget');\nrequire('../modes/asm-mode');\nrequire('../modes/ptx-mode');\n\nrequire('selectize');\n\nvar timingInfo = new timingInfoWidget.TimingInfo();\n\nvar languages = options.languages;\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\n\nfunction Executor(hub, container, state) {\n    this.container = container;\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#executor').html());\n    this.contentRoot = this.domRoot.find('.content');\n    this.sourceEditorId = state.source || 1;\n    this.id = state.id || hub.nextExecutorId();\n    this.settings = JSON.parse(local.get('settings', '{}'));\n    this.initLangAndCompiler(state);\n    this.infoByLang = {};\n    this.deferCompiles = hub.deferred;\n    this.needsCompile = false;\n    this.options = state.options || options.compileOptions[this.currentLangId];\n    this.executionArguments = state.execArgs || '';\n    this.executionStdin = state.execStdin || '';\n    this.source = '';\n    this.lastResult = {};\n    this.lastTimeTaken = 0;\n    this.pendingRequestSentAt = 0;\n    this.nextRequest = null;\n\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Executor #' + this.id + ': ';\n\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.initButtons(state);\n\n    this.fontScale = new FontScale(this.domRoot, state, 'pre.content');\n\n    this.compilerPicker.selectize({\n        sortField: this.compilerService.getSelectizerOrder(),\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        optgroupField: 'group',\n        optgroups: this.compilerService.getGroupsInUse(this.currentLangId),\n        lockOptgroupOrder: true,\n        options: _.map(this.getCurrentLangCompilers(), _.identity),\n        items: this.compiler ? [this.compiler.id] : [],\n        dropdownParent: 'body',\n        closeAfterSelect: true,\n    }).on('change', _.bind(function (e) {\n        var val = $(e.target).val();\n        if (val) {\n            ga.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'SelectCompiler',\n                eventAction: val,\n            });\n            this.onCompilerChange(val);\n        }\n    }, this));\n\n    this.compilerSelectizer = this.compilerPicker[0].selectize;\n\n    this.initLibraries(state);\n    this.initCallbacks();\n    // Handle initial settings\n    this.onSettingsChange(this.settings);\n    this.updateCompilerInfo();\n    this.saveState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Executor',\n    });\n}\n\nExecutor.prototype.initLangAndCompiler = function (state) {\n    var langId = state.lang;\n    var compilerId = state.compiler;\n    var result = this.compilerService.processFromLangAndCompiler(langId, compilerId);\n    this.compiler = result.compiler;\n    this.currentLangId = result.langId;\n    this.updateLibraries();\n};\n\nExecutor.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('executorClose', this.id);\n};\n\nExecutor.prototype.undefer = function () {\n    this.deferCompiles = false;\n    if (this.needsCompile) this.compile();\n};\n\nExecutor.prototype.updateAndCalcTopBarHeight = function () {\n    // If we save vertical space by hiding stuff that's OK to hide\n    // when thin, then hide that stuff.\n    this.hideable.show();\n    var topBarHeightMax = this.topBar.outerHeight(true);\n    this.hideable.hide();\n    var topBarHeightMin = this.topBar.outerHeight(true);\n    var topBarHeight = topBarHeightMin;\n    if (topBarHeightMin === topBarHeightMax) {\n        this.hideable.show();\n    }\n\n    if (!this.panelCompilation.hasClass('d-none')) {\n        topBarHeight += this.panelCompilation.outerHeight(true);\n    }\n    if (!this.panelArgs.hasClass('d-none')) {\n        topBarHeight += this.panelArgs.outerHeight(true);\n    }\n    if (!this.panelStdin.hasClass('d-none')) {\n        topBarHeight += this.panelStdin.outerHeight(true);\n    }\n\n    return topBarHeight;\n};\n\nExecutor.prototype.resize = function () {\n    var topBarHeight = this.updateAndCalcTopBarHeight();\n    var bottomBarHeight = this.bottomBar.outerHeight(true);\n    this.outputContentRoot.outerHeight(this.domRoot.height() - topBarHeight - bottomBarHeight);\n\n};\n\nfunction errorResult(message) {\n    return {code: -1, stderr: message};\n}\n\nExecutor.prototype.compile = function (bypassCache) {\n    if (this.deferCompiles) {\n        this.needsCompile = true;\n        return;\n    }\n    this.needsCompile = false;\n    this.compileTimeLabel.text(' - Compiling...');\n    var options = {\n        userArguments: this.options,\n        executeParameters: {\n            args: this.executionArguments,\n            stdin: this.executionStdin,\n        },\n        compilerOptions: {\n            executorRequest: true,\n        },\n        filters: {execute: true},\n        tools: [],\n        libraries: [],\n    };\n\n    _.each(this.libsWidget.getLibsInUse(), function (item) {\n        options.libraries.push({\n            id: item.libId,\n            version: item.versionId,\n        });\n    });\n\n    this.compilerService.expand(this.source).then(_.bind(function (expanded) {\n        var request = {\n            source: expanded || '',\n            compiler: this.compiler ? this.compiler.id : '',\n            options: options,\n            lang: this.currentLangId,\n        };\n        if (bypassCache) request.bypassCache = true;\n        if (!this.compiler) {\n            this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n        } else {\n            this.sendCompile(request);\n        }\n    }, this));\n};\n\nExecutor.prototype.sendCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCompileResponse, this);\n\n    if (this.pendingRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextRequest = request;\n        return;\n    }\n    // this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    this.compilerService.submit(request)\n        .then(function (x) {\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (x) {\n            var message = 'Unknown error';\n            if (_.isString(x)) {\n                message = x;\n            } else if (x) {\n                message = x.error || x.code;\n            }\n            onCompilerResponse(request, errorResult(message), false);\n        });\n};\n\nExecutor.prototype.addCompilerOutputLine = function (msg, container, lineNum, column) {\n    var elem = $('<div/>').appendTo(container);\n    if (lineNum) {\n        elem.html(\n            $('<span class=\"linked-compiler-output-line\"></span>')\n                .html(msg)\n                .click(_.bind(function (e) {\n                    this.eventHub.emit('editorLinkLine', this.sourceEditorId, lineNum, column, column + 1, true);\n                    // do not bring user to the top of index.html\n                    // http://stackoverflow.com/questions/3252730\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    this.eventHub.emit('editorLinkLine', this.sourceEditorId, lineNum, column, column + 1, false);\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nExecutor.prototype.clearPreviousOutput = function () {\n    this.executionStatusSection.empty();\n    this.compilerOutputSection.empty();\n    this.executionOutputSection.empty();\n};\n\nExecutor.prototype.handleOutput = function (output, element, ansiParser) {\n    var outElem = $('<pre class=\"card\"></pre>').appendTo(element);\n    _.each(output, function (obj) {\n        if (obj.text === '') {\n            this.addCompilerOutputLine('<br/>', outElem);\n        } else {\n            var lineNumber = obj.tag ? obj.tag.line : obj.line;\n            var columnNumber = obj.tag ? obj.tag.column : -1;\n            this.addCompilerOutputLine(ansiParser.toHtml(obj.text), outElem, lineNumber, columnNumber);\n        }\n    }, this);\n    return outElem;\n};\n\nExecutor.prototype.onCompileResponse = function (request, result, cached) {\n    // Save which source produced this change. It should probably be saved earlier though\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingRequestSentAt > 0;\n    this.pendingRequestSentAt = 0;\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'Compile',\n        eventAction: request.compiler,\n        eventLabel: request.options.userArguments,\n        eventValue: cached ? 1 : 0,\n    });\n    ga.proxy('send', {\n        hitType: 'timing',\n        timingCategory: 'Compile',\n        timingVar: request.compiler,\n        timingValue: timeTaken,\n    });\n\n    this.clearPreviousOutput();\n    var compileStdout = result.buildResult.stdout || [];\n    var compileStderr = result.buildResult.stderr || [];\n    var execStdout = result.stdout || [];\n    var execStderr = result.stderr || [];\n    if (!result.didExecute) {\n        this.executionStatusSection.append($('<div/>').text('Could not execute the program'));\n        this.executionStatusSection.append($('<div/>').text('Compiler returned: ' + result.buildResult.code));\n    }\n\n    if (compileStdout.length > 0) {\n        this.compilerOutputSection.append($('<div/>').text('Compiler stdout'));\n        this.handleOutput(compileStdout, this.compilerOutputSection, this.normalAnsiToHtml);\n    }\n    if (compileStderr.length > 0) {\n        this.compilerOutputSection.append($('<div/>').text('Compiler stderr'));\n        this.handleOutput(compileStderr, this.compilerOutputSection, this.errorAnsiToHtml);\n    }\n    if (result.didExecute) {\n        this.executionOutputSection.append($('<div/>').text('Program returned: ' + result.code));\n        if (execStdout.length > 0) {\n            this.executionOutputSection.append($('<div/>').text('Program stdout'));\n            var outElem = this.handleOutput(execStdout, this.executionOutputSection, this.normalAnsiToHtml);\n            outElem.addClass('execution-stdout');\n        }\n        if (execStderr.length > 0) {\n            this.executionOutputSection.append($('<div/>').text('Program stderr'));\n            this.handleOutput(execStderr, this.executionOutputSection, this.normalAnsiToHtml);\n        }\n    }\n\n    this.handleCompilationStatus({code: 1, didExecute: result.didExecute});\n    var timeLabelText = '';\n    if (cached) {\n        timeLabelText = ' - cached';\n    } else if (wasRealReply) {\n        timeLabelText = ' - ' + timeTaken + 'ms';\n    }\n    this.compileTimeLabel.text(timeLabelText);\n\n    this.setCompilationOptionsPopover(result.buildResult &&\n        result.buildResult.compilationOptions ? result.buildResult.compilationOptions.join(' ') : '');\n\n    this.eventHub.emit('executeResult', this.id, this.compiler, result, languages[this.currentLangId]);\n\n    if (this.nextRequest) {\n        var next = this.nextRequest;\n        this.nextRequest = null;\n        this.sendCompile(next);\n    }\n};\n\nExecutor.prototype.resendResult = function () {\n    if (!$.isEmptyObject(this.lastResult)) {\n        this.eventHub.emit('executeResult', this.id, this.compiler, this.lastResult);\n        return true;\n    }\n    return false;\n};\n\nExecutor.prototype.onResendExecutionResult = function (id) {\n    if (id === this.id) {\n        this.resendResult();\n    }\n};\n\nExecutor.prototype.onEditorChange = function (editor, source, langId, compilerId) {\n    if (editor === this.sourceEditorId && langId === this.currentLangId &&\n        (compilerId === undefined)) {\n        this.source = source;\n        if (this.settings.compileOnChange) {\n            this.compile();\n        }\n    }\n};\n\nExecutor.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.filters'), state.filters);\n    this.toggleWrapButton = new Toggles(this.domRoot.find('.options'), state);\n    this.compileClearCache = this.domRoot.find('.clear-cache');\n    this.outputContentRoot = this.domRoot.find('pre.content');\n    this.executionStatusSection = this.outputContentRoot.find('.execution-status');\n    this.compilerOutputSection = this.outputContentRoot.find('.compiler-output');\n    this.executionOutputSection = this.outputContentRoot.find('.execution-output');\n\n    this.optionsField = this.domRoot.find('.compilation-options');\n    this.execArgsField = this.domRoot.find('.execution-arguments');\n    this.execStdinField = this.domRoot.find('.execution-stdin');\n    this.prependOptions = this.domRoot.find('.prepend-options');\n    this.fullCompilerName = this.domRoot.find('.full-compiler-name');\n    this.fullTimingInfo = this.domRoot.find('.full-timing-info');\n    this.setCompilationOptionsPopover(this.compiler ? this.compiler.options : null);\n\n    this.compileTimeLabel = this.domRoot.find('.compile-time');\n    this.libsButton = this.domRoot.find('.btn.show-libs');\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('mouseup', _.bind(function (e) {\n        var target = $(e.target);\n        if (!target.is(this.prependOptions) && this.prependOptions.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.prependOptions.popover('hide');\n\n        if (!target.is(this.fullCompilerName) && this.fullCompilerName.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.fullCompilerName.popover('hide');\n    }, this));\n\n    this.optionsField.val(this.options);\n    this.execArgsField.val(this.executionArguments);\n    this.execStdinField.val(this.executionStdin);\n\n    this.shortCompilerName = this.domRoot.find('.short-compiler-name');\n    this.compilerPicker = this.domRoot.find('.compiler-picker');\n    this.setCompilerVersionPopover('', '');\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.bottomBar = this.domRoot.find('.bottom-bar');\n    this.statusLabel = this.domRoot.find('.status-text');\n\n    this.hideable = this.domRoot.find('.hideable');\n    this.statusIcon = this.domRoot.find('.status-icon');\n\n    this.panelCompilation = this.domRoot.find('.panel-compilation');\n    this.panelArgs = this.domRoot.find('.panel-args');\n    this.panelStdin = this.domRoot.find('.panel-stdin');\n\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n\n    this.initToggleButtons(state);\n};\n\nExecutor.prototype.initToggleButtons = function (state) {\n    this.toggleCompilation = this.domRoot.find('.toggle-compilation');\n    this.toggleArgs = this.domRoot.find('.toggle-args');\n    this.toggleStdin = this.domRoot.find('.toggle-stdin');\n    this.toggleCompilerOut = this.domRoot.find('.toggle-compilerout');\n\n    if (state.compilationPanelShown === false) {\n        this.hidePanel(this.toggleCompilation, this.panelCompilation);\n    }\n\n    if (state.argsPanelShown === true) {\n        this.showPanel(this.toggleArgs, this.panelArgs);\n    }\n\n    if (state.stdinPanelShown === true) {\n        this.showPanel(this.toggleStdin, this.panelStdin);\n    }\n\n    if (state.compilerOutShown === false) {\n        this.hidePanel(this.toggleCompilerOut, this.compilerOutputSection);\n    }\n\n    if (state.wrap === true) {\n        this.contentRoot.addClass('wrap');\n        this.wrapButton.prop('title', '[ON] ' + this.wrapTitle);\n    } else {\n        this.contentRoot.removeClass('wrap');\n        this.wrapButton.prop('title', '[OFF] ' + this.wrapTitle);\n    }\n};\n\nExecutor.prototype.onLibsChanged = function () {\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.initLibraries = function (state) {\n    this.libsWidget = new Libraries.Widget(this.currentLangId, this.compiler,\n        this.libsButton, state, _.bind(this.onLibsChanged, this));\n};\n\nExecutor.prototype.onFontScale = function () {\n    this.saveState();\n};\n\nExecutor.prototype.initListeners = function () {\n    // this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.fontScale.on('change', _.bind(this.onFontScale, this));\n    this.toggleWrapButton.on('change', _.bind(this.onToggleWrapChange, this));\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('executorOpen', this.id, this.sourceEditorId);\n    }, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('requestCompilation', this.onRequestCompilation, this);\n    this.eventHub.on('resendExecution', this.onResendExecutionResult, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('findExecutors', this.sendExecutor, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.fullTimingInfo\n        .off('click')\n        .click(_.bind(function () {\n            timingInfo.run(_.bind(function () {\n            }, this), this.lastResult, this.lastTimeTaken);\n        }, this));\n};\n\nExecutor.prototype.showPanel = function (button, panel) {\n    panel.removeClass('d-none');\n    button.addClass('active');\n    this.resize();\n};\n\nExecutor.prototype.hidePanel = function (button, panel) {\n    panel.addClass('d-none');\n    button.removeClass('active');\n    this.resize();\n};\n\nExecutor.prototype.togglePanel = function (button, panel) {\n    if (panel.hasClass('d-none')) {\n        this.showPanel(button, panel);\n    } else {\n        this.hidePanel(button, panel);\n    }\n    this.saveState();\n};\n\nExecutor.prototype.initCallbacks = function () {\n    this.initListeners();\n\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n    }, this), 800);\n\n    var execArgsChange = _.debounce(_.bind(function (e) {\n        this.onExecArgsChange($(e.target).val());\n    }, this), 800);\n\n    var execStdinChange = _.debounce(_.bind(function (e) {\n        this.onExecStdinChange($(e.target).val());\n    }, this), 800);\n\n    this.optionsField\n        .on('change', optionsChange)\n        .on('keyup', optionsChange);\n\n    this.execArgsField\n        .on('change', execArgsChange)\n        .on('keyup', execArgsChange);\n\n    this.execStdinField\n        .on('change', execStdinChange)\n        .on('keyup', execStdinChange);\n\n    this.compileClearCache.on('click', _.bind(function () {\n        this.compilerService.cache.reset();\n        this.compile(true);\n    }, this));\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    this.toggleCompilation.on('click', _.bind(function () {\n        this.togglePanel(this.toggleCompilation, this.panelCompilation);\n    }, this));\n\n    this.toggleArgs.on('click', _.bind(function () {\n        this.togglePanel(this.toggleArgs, this.panelArgs);\n    }, this));\n\n    this.toggleStdin.on('click', _.bind(function () {\n        this.togglePanel(this.toggleStdin, this.panelStdin);\n    }, this));\n\n    this.toggleCompilerOut.on('click', _.bind(function () {\n        this.togglePanel(this.toggleCompilerOut, this.compilerOutputSection);\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n\n    this.eventHub.on('initialised', this.undefer, this);\n\n    if (MutationObserver !== undefined) {\n        new MutationObserver(_.bind(this.resize, this)).observe(this.execStdinField[0], {\n            attributes: true, attributeFilter: ['style'],\n        });\n    }\n};\n\nExecutor.prototype.onOptionsChange = function (options) {\n    this.options = options;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onExecArgsChange = function (args) {\n    this.executionArguments = args;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onExecStdinChange = function (newStdin) {\n    this.executionStdin = newStdin;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onRequestCompilation = function (editorId) {\n    if (editorId === this.sourceEditorId) {\n        this.compile();\n    }\n};\n\nExecutor.prototype.updateCompilerInfo = function () {\n    this.updateCompilerName();\n    if (this.compiler) {\n        if (this.compiler.notification) {\n            this.alertSystem.notify(this.compiler.notification, {\n                group: 'compilerwarning',\n                alertClass: 'notification-info',\n                dismissTime: 5000,\n            });\n        }\n        this.prependOptions.data('content', this.compiler.options);\n    }\n    this.sendExecutor();\n};\n\nExecutor.prototype.updateCompilerUI = function () {\n    this.updateCompilerInfo();\n    // Resize in case the new compiler name is too big\n    this.resize();\n};\n\nExecutor.prototype.onCompilerChange = function (value) {\n    this.compiler = this.compilerService.findCompiler(this.currentLangId, value);\n    this.updateLibraries();\n    this.saveState();\n    this.compile();\n    this.updateCompilerUI();\n};\n\nExecutor.prototype.onToggleWrapChange = function () {\n    var state = this.currentState();\n    this.contentRoot.toggleClass('wrap',state.wrap);\n    this.wrapButton.prop('title', '['+(state.wrap ? 'ON' : 'OFF')+'] '+ this.wrapTitle);\n    this.saveState();\n};\n\nExecutor.prototype.sendExecutor = function () {\n    this.eventHub.emit('executor', this.id, this.compiler, this.options, this.sourceEditorId);\n};\n\nExecutor.prototype.onEditorClose = function (editor) {\n    if (editor === this.sourceEditorId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nExecutor.prototype.currentState = function () {\n    var state = {\n        id: this.id,\n        compiler: this.compiler ? this.compiler.id : '',\n        source: this.sourceEditorId,\n        options: this.options,\n        execArgs: this.executionArguments,\n        execStdin: this.executionStdin,\n        libs: this.libsWidget.get(),\n        lang: this.currentLangId,\n        compilationPanelShown: !this.panelCompilation.hasClass('d-none'),\n        compilerOutShown: !this.compilerOutputSection.hasClass('d-none'),\n        argsPanelShown: !this.panelArgs.hasClass('d-none'),\n        stdinPanelShown: !this.panelStdin.hasClass('d-none'),\n        wrap: this.toggleWrapButton.get().wrap,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nExecutor.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nExecutor.prototype.getCompilerName = function () {\n    return this.compiler ? this.compiler.name : 'No compiler set';\n};\n\n\nExecutor.prototype.getLanguageName = function () {\n    var lang = options.languages[this.currentLangId];\n    return lang ? lang.name : '?';\n};\n\nExecutor.prototype.getPaneName = function () {\n    var langName = this.getLanguageName();\n    var compName = this.getCompilerName();\n    return compName + ' Executor (Editor #' + this.sourceEditorId + ') ' + langName;\n};\n\nExecutor.prototype.updateCompilerName = function () {\n    var compilerName = this.getCompilerName();\n    var compilerVersion = this.compiler ? this.compiler.version : '';\n    var compilerNotification = this.compiler ? this.compiler.notification : '';\n    this.container.setTitle(this.getPaneName());\n    this.shortCompilerName.text(compilerName);\n    this.setCompilerVersionPopover(compilerVersion, compilerNotification);\n};\n\nExecutor.prototype.setCompilationOptionsPopover = function (content) {\n    this.prependOptions.popover('dispose');\n    this.prependOptions.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nExecutor.prototype.setCompilerVersionPopover = function (version, notification) {\n    this.fullCompilerName.popover('dispose');\n    // `notification` contains HTML from a config file, so is 'safe'.\n    // `version` comes from compiler output, so isn't, and is escaped.\n    this.fullCompilerName.popover({\n        html: true,\n        title: notification ? $.parseHTML('<span>Compiler Version: ' + notification + '</span>')[0] :\n            'Full compiler version',\n        content: _.escape(version) || '',\n        template: '<div class=\"popover' +\n            (version ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nExecutor.prototype.onSettingsChange = function (newSettings) {\n    this.settings = _.clone(newSettings);\n};\n\nExecutor.prototype.handleCompilationStatus = function (status) {\n    if (!this.statusLabel || !this.statusIcon) return;\n\n    function ariaLabel() {\n        // Compiling...\n        if (status.code === 4) return 'Compiling';\n        if (status.didExecute) {\n            return 'Program compiled & executed';\n        } else {\n            return 'Program could not be executed';\n        }\n    }\n\n    function color() {\n        // Compiling...\n        if (status.code === 4) return 'black';\n        if (status.didExecute) return '#12BB12';\n        return '#FF1212';\n    }\n\n    this.statusIcon\n        .removeClass()\n        .addClass('status-icon fas')\n        .css('color', color())\n        .toggle(status.code !== 0)\n        .prop('aria-label', ariaLabel())\n        .prop('data-status', status.code)\n        .toggleClass('fa-spinner', status.code === 4)\n        .toggleClass('fa-times-circle', status.code !== 4 && !status.didExecute)\n        .toggleClass('fa-check-circle', status.code !== 4 && status.didExecute);\n};\n\nExecutor.prototype.updateLibraries = function () {\n    if (this.libsWidget) this.libsWidget.setNewLangId(this.currentLangId, this.compiler.id, this.compiler.libs);\n};\n\nExecutor.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (this.sourceEditorId === editorId) {\n        var oldLangId = this.currentLangId;\n        this.currentLangId = newLangId;\n        // Store the current selected stuff to come back to it later in the same session (Not state stored!)\n        this.infoByLang[oldLangId] = {\n            compiler: this.compiler && this.compiler.id ? this.compiler.id : options.defaultCompiler[oldLangId],\n            options: this.options,\n            execArgs: this.executionArguments,\n            execStdin: this.executionStdin,\n        };\n        var info = this.infoByLang[this.currentLangId] || {};\n        this.initLangAndCompiler({lang: newLangId, compiler: info.compiler});\n        this.updateCompilersSelector(info);\n        this.updateCompilerUI();\n        this.saveState();\n    }\n};\n\nExecutor.prototype.getCurrentLangCompilers = function () {\n    var allCompilers = this.compilerService.getCompilersForLang(this.currentLangId);\n    var hasAtLeastOneExecuteSupported = _.any(allCompilers, function (compiler) {\n        return (compiler.supportsExecute !== false);\n    });\n\n    if (!hasAtLeastOneExecuteSupported) {\n        this.compiler = null;\n        return [];\n    }\n\n    return _.filter(\n        allCompilers,\n        _.bind(function (compiler) {\n            return ((compiler.hidden !== true) && (compiler.supportsExecute !== false)) ||\n                   (this.compiler && compiler.id === this.compiler.id);\n        }, this));\n};\n\nExecutor.prototype.updateCompilersSelector = function (info) {\n    this.compilerSelectizer.clearOptions(true);\n    this.compilerSelectizer.clearOptionGroups();\n    _.each(this.compilerService.getGroupsInUse(this.currentLangId), function (group) {\n        this.compilerSelectizer.addOptionGroup(group.value, {label: group.label});\n    }, this);\n    this.compilerSelectizer.load(_.bind(function (callback) {\n        callback(_.map(this.getCurrentLangCompilers(), _.identity));\n    }, this));\n    this.compilerSelectizer.setValue([this.compiler ? this.compiler.id : null], true);\n    this.options = info.options || '';\n    this.optionsField.val(this.options);\n    this.executionArguments = info.execArgs || '';\n    this.execArgsField.val(this.executionArguments);\n    this.executionStdin = info.execStdin || '';\n    this.execStdinField.val(this.executionStdin);\n};\n\nmodule.exports = {\n    Executor: Executor,\n};\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625758777156\n      var cssReload = require(\"/Users/bhargavi/Desktop/compiler-explorer-main/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"publicPath\":\"./\",\"hmr\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// Copyright (c) 2017, Najjar Chedy\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar $ = require('jquery');\nvar vis = require('vis');\nvar _ = require('underscore');\nvar Toggles = require('../toggles');\nvar ga = require('../analytics');\nconst { Compiler } = require('./compiler');\n\nrequire('selectize');\n\nfunction Cfg(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#cfg').html());\n    this.isEditorCfg = state.source == 'editor';\n    this.cfgCompileOutput = state.cfgOutput;\n    this.defaultCfgOutput = this.isEditorCfg ? {nodes: this.cfgCompileOutput.nodes, edges: this.cfgCompileOutput.edges} : {nodes: [{id: 0, shape: 'box', label: 'No Output'}], edges: []};\n    this.binaryModeSupport = {\n        nodes: [{\n            id: 0,\n            shape: 'box',\n            label: 'Cfg mode cannot be used when the binary filter is set',\n        }], edges: [],\n    };\n    // Note that this might be outdated if no functions were present when creating the link, but that's handled\n    // by selectize\n    state.options = state.options || {};\n    this.savedPos = state.pos;\n    this.savedScale = state.scale;\n    this.needsMove = this.savedPos && this.savedScale;\n\n    this.currentFunc = state.selectedFn || '';\n    this.functions = [];\n    this.networkOpts = {\n        autoResize: true,\n        locale: 'en',\n        edges: {\n            arrows: {to: {enabled: true}},\n            smooth: {\n                enabled: true,\n                type: 'dynamic',\n                roundness: 1,\n            },\n            physics: true,\n        },\n        nodes: {\n            font: {face: 'Consolas, \"Liberation Mono\", Courier, monospace', align: 'left'},\n        },\n        layout: {\n            hierarchical: {\n                enabled: true,\n                direction: 'UD',\n                nodeSpacing: 200,\n                levelSeparation: 50,\n            },\n        },\n        physics: {\n            enabled: !!state.options.physics,\n            hierarchicalRepulsion: {\n                nodeDistance: 160,\n            },\n        },\n        interaction: {\n            navigationButtons: !!state.options.navigation,\n            keyboard: {\n                enabled: true,\n                speed: {x: 10, y: 10, zoom: 0.03},\n                bindToWindow: false,\n            },\n        },\n    };\n\n    this.cfgVisualiser = new vis.Network(this.domRoot.find('.graph-placeholder')[0],\n        this.defaultCfgOutput, this.networkOpts);\n\n        this.cfgVisualiser.moveTo({\n            position: {x:200, y:200},\n            scale: 1,\n            offset: {x:500, y:450},\n            animation: false\n          })\n    this.initButtons(state);\n\n    this.compilerId = this.isEditorCfg ? null : state.id;\n    this._editorid = state.editorid;\n    this._binaryFilter = false;\n\n    this.functionPicker = $(this.domRoot).find('.function-picker').selectize({\n        sortField: 'name',\n        valueField: 'name',\n        labelField: 'name',\n        searchField: ['name'],\n        dropdownParent: 'body',\n    }).on('change', _.bind(function (e) {\n        var selectedFn = this.functions[e.target.value];\n        if (selectedFn) {\n            this.currentFunc = e.target.value;\n            this.showCfgResults({\n                nodes: selectedFn.nodes,\n                edges: selectedFn.edges\n            });\n            this.cfgVisualiser.selectNodes([selectedFn.nodes[0].id]);\n            this.resize();\n            this.saveState();\n            this.cfgVisualiser.fit();\n        }\n    }, this));\n\n    this.initCallbacks();\n    this.adaptStructure = function (names) {\n        return _.map(names, function (name) {\n            return {name: name};\n        });\n    };\n    this.updateButtons();\n    this.setTitle();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Cfg',\n    });\n}\n\nCfg.prototype.onCompileResult = function (id, compiler, result) {\n    if (this.compilerId === id) {\n        var functionNames = [];\n        if (this.supportsCfg && !$.isEmptyObject(result.cfg)) {\n            this.functions = result.cfg;\n            functionNames = Object.keys(this.functions);\n            if (functionNames.indexOf(this.currentFunc) === -1) {\n                this.currentFunc = functionNames[0];\n            }\n            this.showCfgResults({\n                nodes: this.functions[this.currentFunc].nodes,\n                edges: this.functions[this.currentFunc].edges,\n            });\n            this.cfgVisualiser.selectNodes([this.functions[this.currentFunc].nodes[0].id]);\n        } else {\n            // We don't reset the current function here as we would lose the saved one if this happened at the beginning\n            // (Hint: It *does* happen)\n            this.showCfgResults(this._binaryFilter ? this.binaryModeSupport : this.defaultCfgOutput);\n        }\n\n        this.functionPicker[0].selectize.clearOptions();\n        this.functionPicker[0].selectize.addOption(functionNames.length ?\n            this.adaptStructure(functionNames) : {name: 'The input does not contain functions'});\n        this.functionPicker[0].selectize.refreshOptions(false);\n\n        this.functionPicker[0].selectize.clear();\n        this.functionPicker[0].selectize.addItem(functionNames.length ?\n            this.currentFunc : 'The input does not contain any function', true);\n        this.saveState();\n    }\n};\n\nCfg.prototype.onCompiler = function (id, compiler) {\n    if (id === this.compilerId) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.supportsCfg = compiler.supportsCfg;\n        this.setTitle();\n    }\n};\n\nCfg.prototype.onFiltersChange = function (id, filters) {\n    if (this.compilerId === id) {\n        this._binaryFilter = filters.binary;\n    }\n};\n\nCfg.prototype.initButtons = function (state) {\n    this.toggles = new Toggles(this.domRoot.find('.options'), state.options);\n\n    this.toggleNavigationButton = this.domRoot.find('.toggle-navigation');\n    this.toggleNavigationTitle = this.toggleNavigationButton.prop('title');\n\n    this.togglePhysicsButton = this.domRoot.find('.toggle-physics');\n    this.togglePhysicsTitle = this.togglePhysicsButton.prop('title');\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nCfg.prototype.initCallbacks = function () {\n    this.cfgVisualiser.on('dragEnd', _.bind(this.saveState, this));\n    this.cfgVisualiser.on('zoom', _.bind(this.saveState, this));\n\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('filtersChange', this.onFiltersChange, this);\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    if (this.isEditorCfg)\n        this.eventHub.emit('codeCfgViewOpened', this.compilerId);\n    else\n        this.eventHub.emit('cfgViewOpened', this.compilerId);\n\n    this.eventHub.emit('requestFilters', this.compilerId);\n    this.eventHub.emit('requestCompiler', this.compilerId);\n\n    this.togglePhysicsButton.on('click', _.bind(function () {\n        this.networkOpts.physics.enabled = this.togglePhysicsButton.hasClass('active');\n        // change only physics.enabled option to preserve current node locations\n        this.cfgVisualiser.setOptions({\n            physics: {enabled: this.networkOpts.physics.enabled},\n        });\n    }, this));\n\n    this.toggleNavigationButton.on('click', _.bind(function () {\n        this.networkOpts.interaction.navigationButtons = this.toggleNavigationButton.hasClass('active');\n        this.cfgVisualiser.setOptions({interaction: {\n            navigationButtons: this.networkOpts.interaction.navigationButtons},\n        });\n    }, this));\n    this.toggles.on('change', _.bind(function () {\n        this.updateButtons();\n        this.saveState();\n    }, this));\n};\n\nCfg.prototype.updateButtons = function () {\n    var formatButtonTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title);\n    };\n    formatButtonTitle(this.togglePhysicsButton, this.togglePhysicsTitle);\n    formatButtonTitle(this.toggleNavigationButton, this.toggleNavigationTitle);\n};\n\nCfg.prototype.resize = function () {\n    if (this.cfgVisualiser.canvas) {\n        var height = this.domRoot.height() - this.topBar.outerHeight(true);\n        this.cfgVisualiser.setSize('100%', height.toString());\n        this.cfgVisualiser.redraw();\n    }\n};\n\nCfg.prototype.setTitle = function () {\n    var title = this.isEditorCfg ? 'Graph Viewer (Editor #' + this._editorid : this._compilerName + ' Graph Viewer (Editor #' + this._editorid + ', Compiler #' + this.compilerId + ')';\n    this.container.setTitle(title);\n};\n\nCfg.prototype.assignLevels = function (data) {\n    var nodes = [];\n    var idToIdx = [];\n    for (var i in data.nodes) {\n        var node = data.nodes[i];\n        idToIdx[node.id] = i;\n        nodes.push({\n            edges: [],\n            dagEdges: [],\n            index: i,\n            id: node.id,\n            level: 0,\n            state: 0,\n            inCount: 0,\n        });\n    }\n    var isEdgeValid = function (edge) {\n        return edge.from in idToIdx && edge.to in idToIdx;\n    };\n    data.edges.forEach(function (edge) {\n        if (isEdgeValid(edge)) {\n            nodes[idToIdx[edge.from]].edges.push(idToIdx[edge.to]);\n        }\n    });\n\n    var dfs = function (node) { // choose which edges will be back-edges\n        node.state = 1;\n        node.edges.forEach(function (targetIndex) {\n            var target = nodes[targetIndex];\n            if (target.state !== 1) {\n                if (target.state === 0) {\n                    dfs(target);\n                }\n                node.dagEdges.push(targetIndex);\n                target.inCount += 1;\n            }\n        });\n        node.state = 2;\n    };\n    var markLevels = function (node) {\n        node.dagEdges.forEach(function (targetIndex) {\n            var target = nodes[targetIndex];\n            target.level = Math.max(target.level, node.level + 1);\n            if (--target.inCount === 0) {\n                markLevels(target);\n            }\n        });\n    };\n    nodes.forEach(function (node) {\n        if (node.state === 0) {\n            dfs(node);\n            node.level = 1;\n            markLevels(node);\n        }\n    });\n    nodes.forEach(function (node) {\n        data.nodes[node.index]['level'] = node.level;\n    });\n    data.edges.forEach(function (edge) {\n        if (isEdgeValid(edge)) {\n            var nodeA = nodes[idToIdx[edge.from]];\n            var nodeB = nodes[idToIdx[edge.to]];\n            if (nodeA.level >= nodeB.level) {\n                edge.physics = false;\n            } else {\n                edge.physics = true;\n                var diff = (nodeB.level - nodeA.level);\n                edge.length = diff * (200 - 5 * (Math.min(5, diff)));\n            }\n        } else {\n            edge.physics = false;\n        }\n    });\n};\n\nCfg.prototype.showCfgResults = function (data) {\n    this.assignLevels(data);\n    this.cfgVisualiser.setData(data);\n    /* FIXME: This does not work. It's here because I suspected that not having content in the constructor was\n     * breaking the move, but it does not seem like it\n     */\n    if (this.needsMove) {\n        this.cfgVisualiser.moveTo({\n            position: this.savedPos,\n            animation: false,\n            scale: this.savedScale,\n        });\n        this.needsMove = false;\n    }\n};\n\nCfg.prototype.onCompilerClose = function (compilerId) {\n    if (this.compilerId === compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nCfg.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    if (this.isEditorCfg)\n        this.eventHub.emit('codeCfgViewClosed', this.compilerId);\n    else\n        this.eventHub.emit('cfgViewClosed', this.compilerId);\n    this.cfgVisualiser.destroy();\n};\n\nCfg.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nCfg.prototype.getEffectiveOptions = function () {\n    return this.toggles.get();\n};\n\nCfg.prototype.currentState = function () {\n    return {\n        id: this.compilerId,\n        editorid: this._editorid,\n        selectedFn: this.currentFunc,\n        pos: this.cfgVisualiser.getViewPosition(),\n        scale: this.cfgVisualiser.getScale(),\n        options: this.getEffectiveOptions(),\n    };\n};\n\nmodule.exports = {\n    Cfg: Cfg,\n};\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar\n    $ = require('jquery'),\n    _ = require('underscore'),\n    monaco = require('monaco-editor'),\n    ga = require('analytics'),\n    History = require('./history');\n\nfunction HistoryDiffState(model) {\n    this.model = model;\n    this.result = null;\n}\n\nHistoryDiffState.prototype.update = function (result) {\n    this.result = result.sources;\n    this.refresh();\n\n    return true;\n};\n\nHistoryDiffState.prototype.refresh = function () {\n    var output = this.result || [];\n    var content = '';\n    _.each(output, function (val) {\n        if (content.length > 0) {\n            content += '\\n';\n        }\n        content += '/****** ' + val.lang + ' ******/\\n';\n        content += val.source;\n    });\n    this.model.setValue(content);\n};\n\nfunction HistoryWidget() {\n    this.modal = null;\n    this.diffEditor = null;\n    this.lhs = null;\n    this.rhs = null;\n    this.currentList = [];\n}\n\nHistoryWidget.prototype.initializeIfNeeded = function () {\n    if (this.modal === null) {\n        this.modal = $('#history');\n\n        var placeholder = this.modal.find('.monaco-placeholder');\n        this.diffEditor = monaco.editor.createDiffEditor(placeholder[0], {\n            fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n            scrollBeyondLastLine: true,\n            readOnly: true,\n            language: 'c++',\n            minimap: {\n                enabled: true,\n            },\n        });\n\n        this.lhs = new HistoryDiffState(monaco.editor.createModel('', 'c++'));\n        this.rhs = new HistoryDiffState(monaco.editor.createModel('', 'c++'));\n        this.diffEditor.setModel({ original: this.lhs.model, modified: this.rhs.model });\n\n        this.modal.find('.inline-diff-checkbox').click(_.bind(function (event) {\n            var inline = $(event.target).prop('checked');\n            this.diffEditor.updateOptions({\n                renderSideBySide: !inline,\n            });\n            this.resizeLayout();\n        }, this));\n    }\n};\n\nHistoryWidget.prototype.getLanguagesFromHistoryEntry = function (entry) {\n    return _.pluck(entry.sources, 'lang');\n};\n\nHistoryWidget.prototype.populateFromLocalStorage = function () {\n    this.currentList = History.sortedList();\n    this.populate(\n        this.modal.find('.historiccode'),\n        _.map(this.currentList, _.bind(function (data) {\n            var dt = new Date(data.dt);\n            var languages = this.getLanguagesFromHistoryEntry(data).join(', ');\n            return {\n                dt: data.dt,\n                name: dt.toString().replace(/\\s\\(.*\\)/, '').concat(' (' + languages + ')'),\n                load: _.bind(function () {\n                    this.onLoad(data);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nHistoryWidget.prototype.hideRadiosAndSetDiff = function () {\n    var root = this.modal.find('.historiccode');\n    var items = root.find('li:not(.template)');\n\n    var foundbase = false;\n    var foundcomp = false;\n\n    items.each(_.bind(function (idx, elem) {\n        var li = $(elem);\n        var dt = li.data('dt');\n\n        var base = li.find('.base');\n        var comp = li.find('.comp');\n\n        var baseShouldBeVisible = true;\n        var compShouldBeVisible = true;\n\n        if (comp.prop('checked')) {\n            foundcomp = true;\n            baseShouldBeVisible = false;\n\n            var itemRight = _.find(this.currentList, function (item) {\n                return (item.dt === dt);\n            });\n\n            this.rhs.update(itemRight);\n        } else if (base.prop('checked')) {\n            foundbase = true;\n\n            var itemLeft = _.find(this.currentList, function (item) {\n                return (item.dt === dt);\n            });\n\n            this.lhs.update(itemLeft);\n        }\n\n        if (foundbase && foundcomp) {\n            compShouldBeVisible = false;\n        } else if (!foundbase && !foundcomp) {\n            baseShouldBeVisible = false;\n        }\n\n        if (compShouldBeVisible) {\n            comp.css('visibility', '');\n        } else {\n            comp.css('visibility', 'hidden');\n        }\n\n        if (baseShouldBeVisible) {\n            base.css('visibility', '');\n        } else {\n            base.css('visibility', 'hidden');\n        }\n    }, this));\n};\n\nHistoryWidget.prototype.populate = function (root, list) {\n    root.find('li:not(.template)').remove();\n    var template = root.find('.template');\n\n    var baseMarked = false;\n    var compMarked = false;\n\n    _.each(list, _.bind(function (elem) {\n        var li = template\n            .clone()\n            .removeClass('template')\n            .appendTo(root);\n\n        li.data('dt', elem.dt);\n\n        var base = li.find('.base');\n        var comp = li.find('.comp');\n\n        if (!compMarked) {\n            comp.prop('checked', 'checked');\n            compMarked = true;\n        } else if (!baseMarked) {\n            base.prop('checked', 'checked');\n            baseMarked = true;\n        }\n\n        base.click(_.bind(this.hideRadiosAndSetDiff, this));\n        comp.click(_.bind(this.hideRadiosAndSetDiff, this));\n\n        li.find('a').text(elem.name).click(elem.load);\n    }, this));\n\n    this.hideRadiosAndSetDiff();\n};\n\nHistoryWidget.prototype.resizeLayout = function () {\n    var tabcontent = this.modal.find('div.tab-content');\n    this.diffEditor.layout({\n        width: tabcontent.width(),\n        height: tabcontent.height() - 20,\n    });\n};\n\nHistoryWidget.prototype.run = function (onLoad) {\n    this.initializeIfNeeded();\n    this.populateFromLocalStorage();\n    this.onLoad = onLoad;\n\n    this.modal.on('shown.bs.modal', _.bind(function () {\n        this.resizeLayout();\n    }, this));\n\n    this.modal.modal();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'History',\n    });\n};\n\nmodule.exports = {\n    HistoryWidget: HistoryWidget,\n};\n","module.exports = \"<div class=\\\"commits-list\\\">\\n    <p>This is an automated file created by running <code>make changelog</code>.</p>\\n</div>\\n\";","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar options = require('options');\nvar Sentry = require('@sentry/browser');\n\nif (options.sentryDsn) {\n    Sentry.init({\n        dsn: options.sentryDsn,\n        release: options.release,\n        environment: options.sentryEnvironment,\n    });\n}\n\nfunction GAProxy() {\n    this.hasBeenEnabled = false;\n    this.isEnabled = false;\n\n    this.proxy = function () {};\n\n    this.initialise = function () {\n        if (!this.isEnabled && options.googleAnalyticsEnabled) {\n            // Check if this is a re-enable, as the script is already there in this case\n            if (!this.hasBeenEnabled) {\n                (function (i, s, o, g, r, a, m) {\n                    i.GoogleAnalyticsObject = r;\n                    i[r] = i[r] || function () {\n                        (i[r].q = i[r].q || []).push(arguments);\n                    };\n                    i[r].l = 1 * new Date();\n                    a = s.createElement(o);\n                    m = s.getElementsByTagName(o)[0];\n                    a.async = 1;\n                    a.src = g;\n                    m.parentNode.insertBefore(a, m);\n                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n                window.ga('set', 'anonymizeIp', true);\n                window.ga('create', options.googleAnalyticsAccount, 'auto');\n                window.ga('send', 'pageview');\n            }\n            this.proxy = function () {\n                window.ga.apply(window.ga, arguments);\n            };\n            this.isEnabled = true;\n            this.hasBeenEnabled = true;\n        } else {\n            this.isEnabled = false;\n            this.proxy = function () {};\n        }\n    };\n\n    this.toggle = function (doEnable) {\n        if (doEnable) {\n            if (!this.isEnabled) this.initialise();\n        } else {\n            this.isEnabled = false;\n            this.proxy = function () {};\n        }\n    };\n}\n\nvar ga = new GAProxy();\n\nmodule.exports = ga;\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar Alert = require('./alert');\n\n// eslint-disable-next-line\nvar Chart = require('chart.js');\n\nfunction TimingInfo() {\n    this.modal = null;\n    this.alertSystem = new Alert();\n    this.onLoad = _.identity;\n    this.base = window.httpRoot;\n    this.ctx = null;\n\n    this.data = {\n        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n        datasets: [{\n            label: 'time in ms',\n            data: [12, 19, 3, 5, 2, 3],\n            borderWidth: 1,\n            backgroundColor: [\n                'red',\n                'orange',\n                'yellow',\n                'green',\n                'blue',\n                'indigo',\n                'violet',\n            ],\n        }],\n    };\n}\n\nTimingInfo.prototype.addBuildResultToTimings = function (timings, buildResult) {\n    if (buildResult.packageDownloadAndUnzipTime) {\n        timings.push({\n            step: 'Download binary from cache',\n            time: buildResult.packageDownloadAndUnzipTime,\n        });\n    } else {\n        if (buildResult.downloads) {\n            timings = timings.concat(buildResult.downloads);\n        }\n\n        if (buildResult.buildsteps) {\n            _.forEach(buildResult.buildsteps, function (step) {\n                timings.push({\n                    step: step.step,\n                    time: step.execTime,\n                });\n            });\n        } else if (buildResult.execTime) {\n            timings.push({\n                step: 'Compilation',\n                time: buildResult.execTime,\n            });\n        }\n    }\n};\n\nTimingInfo.prototype.initializeChartDataFromResult = function (compileResult, totalTime) {\n    var timings = [];\n\n    this.data.labels = [];\n    this.data.datasets[0].barThickness = 20;\n    this.data.datasets[0].data = [];\n\n    if (compileResult.retreivedFromCache) {\n        timings.push({\n            step: 'Retreive result from cache',\n            time: compileResult.retreivedFromCacheTime,\n        });\n\n        if (compileResult.packageDownloadAndUnzipTime) {\n            timings.push({\n                step: 'Download binary from cache',\n                time: compileResult.execTime,\n            });\n        }\n\n        if (compileResult.execResult && compileResult.execResult.execTime) {\n            timings.push({\n                step: 'Execution',\n                time: compileResult.execResult.execTime,\n            });\n        }\n    } else {\n\n        if (compileResult.packageDownloadAndUnzipTime) {\n            timings.push({\n                step: 'Download binary from cache',\n                time: compileResult.execTime,\n            });\n        } else {\n\n            if (compileResult.execResult) {\n                if (compileResult.execResult.buildResult) {\n                    this.addBuildResultToTimings(timings, compileResult.execResult.buildResult);\n                }\n\n                if (compileResult.objdumpTime) {\n                    timings.push({\n                        step: 'Disassembly',\n                        time: compileResult.objdumpTime,\n                    });\n                }\n\n                if (compileResult.parsingTime) {\n                    timings.push({\n                        step: 'ASM parsing',\n                        time: compileResult.parsingTime,\n                    });\n                }\n\n                if (compileResult.execResult.execTime) {\n                    timings.push({\n                        step: 'Execution',\n                        time: compileResult.execResult.execTime,\n                    });\n                }\n\n            } else {\n                if (compileResult.downloads) {\n                    timings = timings.concat(compileResult.downloads);\n                }\n\n                if (!compileResult.didExecute && compileResult.execTime) {\n                    timings.push({\n                        step: 'Compilation',\n                        time: compileResult.execTime,\n                    });\n                }\n\n                if (compileResult.objdumpTime) {\n                    timings.push({\n                        step: 'Disassembly',\n                        time: compileResult.objdumpTime,\n                    });\n                }\n\n                if (compileResult.parsingTime) {\n                    timings.push({\n                        step: 'ASM parsing',\n                        time: compileResult.parsingTime,\n                    });\n                }\n            }\n        }\n    }\n\n    if (compileResult.didExecute) {\n        if (compileResult.buildResult) {\n            if (compileResult.buildResult.packageDownloadAndUnzipTime) {\n                timings.push({\n                    step: 'Download binary from cache',\n                    time: compileResult.buildResult.packageDownloadAndUnzipTime,\n                });\n            } else {\n                if (compileResult.execResult.buildResult) {\n                    this.addBuildResultToTimings(timings, compileResult.execResult.buildResult);\n                }\n            }\n        }\n\n        timings.push({\n            step: 'Execution',\n            time: compileResult.execTime,\n        });\n    }\n\n    var stepsTotal = 0;\n    timings.forEach(_.bind(function (timing) {\n        this.data.labels.push(timing.step);\n        this.data.datasets[0].data.push(timing.time);\n\n        stepsTotal += parseInt(timing.time, 10);\n    }, this));\n\n    this.data.labels.push('Network, JS, waiting, etc.');\n    this.data.datasets[0].data.push(totalTime - stepsTotal);\n\n    if (totalTime - stepsTotal < 0) {\n        this.data.datasets[0].data = [totalTime];\n        this.data.labels = ['Browser cache'];\n    }\n};\n\nTimingInfo.prototype.initializeIfNeeded = function () {\n    if ((this.modal === null) || (this.modal.length === 0)) {\n        this.modal = $('#timing-info');\n    }\n\n    var chartDiv = this.modal.find('#chart');\n    chartDiv.html('');\n\n    var canvas = $('<canvas id=\"timing-chart\" width=\"400\" height=\"400\"></canvas>');\n    chartDiv.append(canvas);\n\n    this.ctx = canvas[0].getContext('2d');\n    this.chart = new Chart(this.ctx, {\n        type: 'bar',\n        data: this.data,\n        options: {\n            scales: {\n                xAxes: [{\n                    ticks: {\n                        beginAtZero: true,\n                    },\n                }],\n                yAxes: [{\n                    ticks: {\n                        beginAtZero: true,\n                    },\n                }],\n            },\n        },\n    });\n};\n\nTimingInfo.prototype.run = function (onLoad, compileResult, totalTime) {\n    this.initializeChartDataFromResult(compileResult, totalTime);\n    this.initializeIfNeeded();\n    this.modal.modal('show');\n};\n\nmodule.exports = { TimingInfo: TimingInfo };\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar\n    local = require('./local'),\n    _ = require('underscore');\n\nvar maxHistoryEntries = 30;\n\nfunction extractEditorSources(content) {\n    var sources = [];\n\n    for (var i = 0; i < content.length; i++) {\n        var component = content[i];\n        if (component.content) {\n            var subsources = extractEditorSources(component.content);\n            if (subsources.length > 0) {\n                sources = sources.concat(subsources);\n            }\n        } else if (component.componentName === 'codeEditor') {\n            sources.push({\n                lang: component.componentState.lang,\n                source: component.componentState.source,\n            });\n        }\n    }\n\n    return sources;\n}\n\nfunction list() {\n    var stringifiedHistory = local.get('history');\n    return JSON.parse(stringifiedHistory ? stringifiedHistory : '[]');\n}\n\nfunction getArrayWithJustTheCode(editorSources) {\n    return _.pluck(editorSources, 'source');\n}\n\nfunction getSimilarSourcesIndex(completeHistory, sourcesToCompareTo) {\n    var duplicateIdx = -1;\n\n    for (var i = 0; i < completeHistory.length; i++) {\n        var diff = _.difference(sourcesToCompareTo, getArrayWithJustTheCode(completeHistory[i].sources));\n        if (diff.length === 0) {\n            duplicateIdx = i;\n            break;\n        }\n    }\n\n    return duplicateIdx;\n}\n\nfunction push(stringifiedConfig) {\n    var config = JSON.parse(stringifiedConfig);\n    var sources = extractEditorSources(config.content);\n    if (sources.length > 0) {\n        var completeHistory = list();\n        var duplicateIdx = getSimilarSourcesIndex(completeHistory, getArrayWithJustTheCode(sources));\n\n        if (duplicateIdx === -1) {\n            while (completeHistory.length >= maxHistoryEntries) {\n                completeHistory.shift();\n            }\n    \n            completeHistory.push({\n                dt: Date.now(),\n                sources: sources,\n                config: config,\n            });\n        } else {\n            var entry = completeHistory[duplicateIdx];\n            entry.dt = Date.now();\n        }\n\n        local.set('history', JSON.stringify(completeHistory));\n    }\n}\n\nfunction sortedList() {\n    var sorted = list();\n\n    sorted.sort(function (a, b) {\n        return b.dt - a.dt;\n    });\n\n    return sorted;\n}\n\nfunction sources(language) {\n    var sourcelist = [];\n    _.each(sortedList(), function (entry) {\n        _.each(entry.sources, function (source) {\n            if (source.lang === language) {\n                sourcelist.push({\n                    dt: entry.dt,\n                    source: source.source,\n                });\n            }\n        });\n    });\n\n    return sourcelist;\n}\n\nmodule.exports = {\n    push: _.debounce(push, 500),\n    list: list,\n    sortedList: sortedList,\n    sources: sources,\n};\n","// Copyright (c) 2017, Matt Godbolt & Rubén Rincón\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar $ = require('jquery');\n\nfunction Alert() {\n    this.yesHandler = null;\n    this.noHandler = null;\n    this.prefixMessage = '';\n    var yesNo = $('#yes-no');\n    yesNo.find('button.yes').click(_.bind(function () {\n        if (this.yesHandler) this.yesHandler();\n    }, this));\n    yesNo.find('button.no').click(_.bind(function () {\n        if (this.noHandler) this.noHandler();\n    }, this));\n}\n\nAlert.prototype.alert = function (title, body, onClose) {\n    var modal = $('#alert');\n    modal.find('.modal-title').html(title);\n    modal.find('.modal-body').html(body);\n    modal.modal();\n    if (onClose) {\n        modal.off('hidden.bs.modal');\n        modal.on('hidden.bs.modal', onClose);\n    }\n    return modal;\n};\n\n/***\n * Asks the user a two choice question, where the title, content & buttons are customizable\n *\n * @param title\n * @param question\n * @param handlers\n * @param handlers.yes {function?} Function to execute on yes press\n * @param handlers.no {function?} Function to execute on no press\n * @param handlers.yesHtml {HTML?} HTMl markup of yes button\n * @param handlers.yesClass {string?} Custom class to add to yes button\n * @param handlers.noHtml {HTML?} HTMl markup of no button\n * @param handlers.noClass {string?} Custom class to add to no button\n * @param handlers.onClose {function?} Function to execute on pane closure\n */\nAlert.prototype.ask = function (title, question, handlers) {\n    var modal = $('#yes-no');\n    this.yesHandler = handlers ? handlers.yes : function () {};\n    this.noHandler = handlers ? handlers.no : function () {};\n    modal.find('.modal-title').html(title);\n    modal.find('.modal-body').html(question);\n    if (handlers.yesHtml) {\n        modal.find('.modal-footer .yes').html(handlers.yesHtml);\n    }\n    if (handlers.yesClass) {\n        modal.find('.modal-footer .yes').addClass(handlers.yesClass);\n    }\n    if (handlers.noHtml) {\n        modal.find('.modal-footer .no').html(handlers.noHtml);\n    }\n    if (handlers.noClass) {\n        modal.find('.modal-footer .no').addClass(handlers.noClass);\n    }\n    if (handlers.onClose) {\n        modal.off('hidden.bs.modal');\n        modal.on('hidden.bs.modal', handlers.onClose);\n    }\n    return modal.modal();\n};\n\n/***\n * @typedef {number} Milliseconds\n */\n\n/***\n * Notifies the user of something by a popup which can be stacked, autodismissed etc... based on options\n *\n * @param body {string} Inner message html\n * @param options {object} Object containing some extra settings\n * @param options.group {string} What group this notification is from. Sets data-group's value.\n *  Default: \"\"\n * @param options.collapseSimilar {boolean} If set to true, other notifications with the same group\n *  will be removed before sending this one. (Note that this only has any effect if options.group is set).\n *  Default: true\n * @param options.alertClass {string} Space separated classes to give to the notification div element.\n *  Default: \"\"\n * @param options.autoDismiss {boolean} If set to true, the notification will fade out and be removed automatically.\n *  Default: true\n * @param options.dismissTime {Milliseconds} If allowed by options.autoDismiss, controls how long in the notification\n *  will be visible before being automatically removed.\n *  Default: 5000\n *  Min: 1000\n */\nAlert.prototype.notify = function (body, options) {\n    var container = $('#notifications');\n    if (!container) return;\n    var newElement = $('<div class=\"alert notification\" tabindex=\"-1\" role=\"dialog\">' +\n        '<button type=\"button\" class=\"close\" style=\"float: left;margin-right: 5px;\" data-dismiss=\"alert\">' +\n            '&times;' +\n        '</button>' +\n        '<span id=\"msg\">' + this.prefixMessage + body + '</span>' +\n        '</div>');\n    if (!options) options = {};\n    // Set defaults\n    // Collapse similar by default\n    options.collapseSimilar = ('collapseSimilar' in options) ? options.collapseSimilar : true;\n    // autoDismiss by default\n    options.autoDismiss = ('autoDismiss' in options) ? options.autoDismiss : true;\n    // Dismiss this after 5000ms by default\n    options.dismissTime = options.dismissTime ? Math.max(1000, options.dismissTime) : 5000;\n    if (options.group) {\n        if (options.collapseSimilar) {\n            // Only collapsing if a group has been specified\n            container.find('[data-group=\"' + options.group + '\"]').remove();\n        }\n        newElement.attr('data-group', options.group);  // Add the group to the data-group\n    }\n    if (options.alertClass) {  // If we want a custom class, apply it\n        newElement.addClass(options.alertClass);\n    }\n    if (options.autoDismiss) {  // Dismiss this after dismissTime\n        setTimeout(function () {\n            newElement.fadeOut('slow', function () {\n                newElement.remove();\n            });\n        }, options.dismissTime);\n    }\n    container.append(newElement);  // Add the new notification to the container\n};\n\nmodule.exports = Alert;\n","// Copyright (c) 2017, Marc Poulhiès - Kalray Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Released under the MIT license\n\n// this is mostly based on 'mylang' example from https://microsoft.github.io/monaco-editor/monarch.html\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Set defaultToken to invalid to see what you do not tokenize yet\n        // defaultToken: 'invalid',\n\n        keywords: [\n            'abstract', 'continue', 'for', 'new', 'switch', 'assert', 'goto', 'do',\n            'if', 'private', 'this', 'break', 'protected', 'throw', 'else', 'public',\n            'enum', 'return', 'catch', 'try', 'interface', 'static', 'class',\n            'finally', 'const', 'super', 'while', 'true', 'false',\n\n            // Generated using the following:\n            // #define DEF_RTL_EXPR(a,b,c,d) b,\n            // keyword: [\n            // #include <rtl.def>\n            // ],\n            // And by invoking the cpp :\n            // cpp -P -I/path/to/gcc/gcc/\n\n            // All RTL classes.\n            'UnKnown',\n            'value',\n            'debug_expr',\n            'expr_list',\n            'insn_list',\n            'int_list',\n            'sequence',\n            'address',\n            'debug_insn',\n            'insn',\n            'jump_insn',\n            'call_insn',\n            'jump_table_data',\n            'barrier',\n            'code_label',\n            'note',\n            'cond_exec',\n            'parallel',\n            'asm_input',\n            'asm_operands',\n            'unspec',\n            'unspec_volatile',\n            'addr_vec',\n            'addr_diff_vec',\n            'prefetch',\n            'set',\n            'use',\n            'clobber',\n            'call',\n            'return',\n            'simple_return',\n            'eh_return',\n            'trap_if',\n            'const_int',\n            'const_fixed',\n            'const_double',\n            'const_vector',\n            'const_string',\n            'const',\n            'pc',\n            'reg',\n            'scratch',\n            'subreg',\n            'strict_low_part',\n            'concat',\n            'concatn',\n            'mem',\n            'label_ref',\n            'symbol_ref',\n            'cc0',\n            'if_then_else',\n            'compare',\n            'plus',\n            'minus',\n            'neg',\n            'mult',\n            'ss_mult',\n            'us_mult',\n            'div',\n            'ss_div',\n            'us_div',\n            'mod',\n            'udiv',\n            'umod',\n            'and',\n            'ior',\n            'xor',\n            'not',\n            'ashift',\n            'rotate',\n            'ashiftrt',\n            'lshiftrt',\n            'rotatert',\n            'smin',\n            'smax',\n            'umin',\n            'umax',\n            'pre_dec',\n            'pre_inc',\n            'post_dec',\n            'post_inc',\n            'pre_modify',\n            'post_modify',\n            'ne',\n            'eq',\n            'ge',\n            'gt',\n            'le',\n            'lt',\n            'geu',\n            'gtu',\n            'leu',\n            'ltu',\n            'unordered',\n            'ordered',\n            'uneq',\n            'unge',\n            'ungt',\n            'unle',\n            'unlt',\n            'ltgt',\n            'sign_extend',\n            'zero_extend',\n            'truncate',\n            'float_extend',\n            'float_truncate',\n            'float',\n            'fix',\n            'unsigned_float',\n            'unsigned_fix',\n            'fract_convert',\n            'unsigned_fract_convert',\n            'sat_fract',\n            'unsigned_sat_fract',\n            'abs',\n            'sqrt',\n            'bswap',\n            'ffs',\n            'clrsb',\n            'clz',\n            'ctz',\n            'popcount',\n            'parity',\n            'sign_extract',\n            'zero_extract',\n            'high',\n            'lo_sum',\n            'vec_merge',\n            'vec_select',\n            'vec_concat',\n            'vec_duplicate',\n            'ss_plus',\n            'us_plus',\n            'ss_minus',\n            'ss_neg',\n            'us_neg',\n            'ss_abs',\n            'ss_ashift',\n            'us_ashift',\n            'us_minus',\n            'ss_truncate',\n            'us_truncate',\n            'fma',\n            'var_location',\n            'debug_implicit_ptr',\n            'entry_value',\n            'debug_parameter_ref',\n        ],\n\n        typeKeywords: [\n            'boolean', 'double', 'byte', 'int', 'short', 'char', 'void', 'long', 'float',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':', '==', '<=', '>=', '!=',\n            '&&', '||', '++', '--', '+', '-', '*', '/', '&', '|', '^', '%',\n            '<<', '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=', '^=',\n            '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n\n        // C# style strings\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // @ annotations.\n                // As an example, we emit a debugging log message on these tokens.\n                // Note: message are supressed during the first load -- change some lines to see them.\n                //  [/@\\s*[a-zA-Z_\\$][\\w\\$]*/, { token: 'annotation', log: 'annotation token: $0' }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\n                [/0[xX][0-9a-fA-F]+/, 'number.hex'],\n                [/\\d+/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, {token: 'string.quote', bracket: '@open', next: '@string'}],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment', '@push'],    // nested comment\n                ['\\\\*/', 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, {token: 'string.quote', bracket: '@close', next: '@pop'}],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/^;;.*$/, 'comment'],\n\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'gccdump-rtl-gimple'});\nmonaco.languages.setMonarchTokensProvider('gccdump-rtl-gimple', definition());\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar monaco = require('monaco-editor');\n\n// If you want to use an scheme in every theme, set `theme: ['all']`\nvar schemes = [\n    {name: 'rainbow', desc: 'Rainbow 1', count: 12, themes: ['default']},\n    {name: 'rainbow2', desc: 'Rainbow 2', count: 12, themes: ['default']},\n    {name: 'earth', desc: 'Earth tones (colourblind safe)', count: 9, themes: ['default']},\n    {name: 'green-blue', desc: 'Greens and blues (colourblind safe)', count: 4, themes: ['default']},\n    {name: 'gray-shade', desc: 'Gray shades', count: 4, themes: ['dark']},\n];\n\nfunction applyColours(editor, colours, schemeName, prevDecorations) {\n    var scheme = _.findWhere(schemes, {name: schemeName});\n    if (!scheme) {\n        scheme = schemes[0];\n    }\n    var newDecorations = _.map(colours, function (ordinal, line) {\n        line = parseInt(line) + 1;\n        return {\n            range: new monaco.Range(line, 1, line, 1),\n            options: {\n                isWholeLine: true,\n                className: 'line-linkage ' + scheme.name + '-' + (ordinal % scheme.count),\n            },\n        };\n    });\n    return editor.deltaDecorations(prevDecorations, newDecorations);\n}\n\nmodule.exports = {\n    applyColours: applyColours,\n    schemes: schemes,\n};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar loadSaveLib = require('../load-save');\nvar FontScale = require('../fontscale');\nvar Components = require('../components');\nvar monaco = require('monaco-editor');\nvar options = require('../options');\nvar Alert = require('../alert');\nvar local = require('../local');\nvar ga = require('../analytics');\nvar monacoVim = require('monaco-vim');\nvar monacoConfig = require('../monaco-config');\nrequire('../modes/cppp-mode');\nrequire('../modes/cppx-gold-mode');\nrequire('../modes/d-mode');\nrequire('../modes/ispc-mode');\nrequire('../modes/llvm-ir-mode');\nrequire('../modes/haskell-mode');\nrequire('../modes/ocaml-mode');\nrequire('../modes/clean-mode');\nrequire('../modes/cuda-mode');\nrequire('../modes/fortran-mode');\nrequire('../modes/zig-mode');\nrequire('../modes/nc-mode');\nrequire('../modes/ada-mode');\nrequire('../modes/nim-mode');\nrequire('selectize');\n\nvar loadSave = new loadSaveLib.LoadSave();\nvar languages = options.languages;\n\nfunction Editor(hub, state, container) {\n    this.id = state.id || hub.nextEditorId();\n    this.container = container;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#codeEditor').html());\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    // Should probably be its own function somewhere\n    this.settings = JSON.parse(local.get('settings', '{}'));\n    this.ourCompilers = {};\n    this.ourExecutors = {};\n    this.httpRoot = window.httpRoot;\n    this.widgetsByCompiler = {};\n    this.asmByCompiler = {};\n    this.busyCompilers = {};\n    this.colours = [];\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    this.extraDecorations = [];\n\n    this.fadeTimeoutId = -1;\n\n    this.editorSourceByLang = {};\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Editor #' + this.id + ': ';\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.langKeys = _.keys(languages);\n    this.initLanguage(state);\n\n    var root = this.domRoot.find('.monaco-placeholder');\n    var legacyReadOnly = state.options && !!state.options.readOnly;\n    this.editor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: this.currentLanguage.monaco,\n        readOnly: !!options.readOnly || legacyReadOnly || window.compilerExplorerOptions.mobileViewer,\n        glyphMargin: !options.embedded,\n    }, this.settings));\n    this.editor.getModel().setEOL(monaco.editor.EndOfLineSequence.LF);\n\n    if (state.source !== undefined) {\n        this.setSource(state.source);\n    } else {\n        this.updateEditorCode();\n    }\n\n    var startFolded = /^[/*#;]+\\s*setup.*/;\n    if (state.source && state.source.match(startFolded)) {\n        // With reference to https://github.com/Microsoft/monaco-editor/issues/115\n        // I tried that and it didn't work, but a delay of 500 seems to \"be enough\".\n        // FIXME: Currently not working - No folding is performed\n        setTimeout(_.bind(function () {\n            this.editor.setSelection(new monaco.Selection(1, 1, 1, 1));\n            this.editor.focus();\n            this.editor.getAction('editor.fold').run();\n            //this.editor.clearSelection();\n        }, this), 500);\n    }\n\n    this.initEditorActions();\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (this.settings.useVim) {\n        this.enableVim();\n    }\n\n    var usableLanguages = _.filter(languages, function (language) {\n        return hub.compilerService.compilersByLang[language.id];\n    });\n\n    this.languageBtn.selectize({\n        sortField: 'name',\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        options: _.map(usableLanguages, _.identity),\n        items: [this.currentLanguage.id],\n        dropdownParent: 'body',\n    }).on('change', _.bind(function (e) {\n        this.onLanguageChange($(e.target).val());\n    }, this));\n    this.selectize = this.languageBtn[0].selectize;\n    // We suppress posting changes until the user has stopped typing by:\n    // * Using _.debounce() to run emitChange on any key event or change\n    //   only after a delay.\n    // * Only actually triggering a change if the document text has changed from\n    //   the previous emitted.\n    this.lastChangeEmitted = null;\n    this.onSettingsChange(this.settings);\n    // this.editor.on(\"keydown\", _.bind(function () {\n    //     // Not strictly a change; but this suppresses changes until some time\n    //     // after the last key down (be it an actual change or a just a cursor\n    //     // movement etc).\n    //     this.debouncedEmitChange();\n    // }, this));\n\n    this.updateTitle();\n    this.updateState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Editor',\n    });\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'LanguageChange',\n        eventAction: this.currentLanguage.id,\n    });\n}\n\nEditor.prototype.onMotd = function (motd) {\n    this.extraDecorations = motd.decorations;\n    this.updateExtraDecorations();\n};\n\nEditor.prototype.updateExtraDecorations = function () {\n    var decorationsDirty = false;\n    _.each(this.extraDecorations, _.bind(function (decoration) {\n        if (decoration.filter && decoration.filter.indexOf(this.currentLanguage.name.toLowerCase()) < 0) return;\n        var match = this.editor.getModel().findNextMatch(decoration.regex, {\n            column: 1,\n            lineNumber: 1,\n        }, true, true, null, false);\n        if (match !== this.decorations[decoration.name]) {\n            decorationsDirty = true;\n            this.decorations[decoration.name] = match ? [{range: match.range, options: decoration.decoration}] : null;\n        }\n    }, this));\n    if (decorationsDirty)\n        this.updateDecorations();\n};\n\n// If compilerId is undefined, every compiler will be pinged\nEditor.prototype.maybeEmitChange = function (force, compilerId) {\n    var source = this.getSource();\n    if (!force && source === this.lastChangeEmitted) return;\n\n    this.updateExtraDecorations();\n\n    this.lastChangeEmitted = source;\n    this.eventHub.emit('editorChange', this.id, this.lastChangeEmitted, this.currentLanguage.id, compilerId);\n};\n\nEditor.prototype.updateState = function () {\n    var state = {\n        id: this.id,\n        source: this.getSource(),\n        lang: this.currentLanguage.id,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    this.container.setState(state);\n\n    this.updateButtons();\n};\n\nEditor.prototype.setSource = function (newSource) {\n    this.updateSource(newSource);\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        $(this.domRoot.find('.monaco-placeholder textarea')).hide();\n    }\n};\n\nEditor.prototype.onNewSource = function (editorId, newSource) {\n    if (this.id === editorId) {\n        this.setSource(newSource);\n    }\n};\n\nEditor.prototype.getSource = function () {\n    return this.editor.getModel().getValue();\n};\n\nEditor.prototype.initLanguage = function (state) {\n    this.currentLanguage = languages[this.langKeys[0]];\n    this.waitingForLanguage = state.source && !state.lang;\n    if (languages[this.settings.defaultLanguage]) {\n        this.currentLanguage = languages[this.settings.defaultLanguage];\n    }\n    if (languages[state.lang]) {\n        this.currentLanguage = languages[state.lang];\n    } else if (this.settings.newEditorLastLang && languages[this.hub.lastOpenedLangId]) {\n        this.currentLanguage = languages[this.hub.lastOpenedLangId];\n    }\n};\n\nEditor.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', _.bind(function () {\n        this.eventHub.emit('editorOpen', this.id);\n    }, this));\n    this.container.on('destroy', this.close, this);\n    this.container.layoutManager.on('initialised', function () {\n        // Once initialized, let everyone know what text we have.\n        this.maybeEmitChange();\n        // And maybe ask for a compilation (Will hit the cache most of the time)\n        this.requestCompilation();\n    }, this);\n\n    this.eventHub.on('compilerOpen', this.onCompilerOpen, this);\n    this.eventHub.on('executorOpen', this.onExecutorOpen, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('compiling', this.onCompiling, this);\n    this.eventHub.on('compileResult', this.onCompileResponse, this);\n    this.eventHub.on('selectLine', this.onSelectLine, this);\n    this.eventHub.on('editorSetDecoration', this.onEditorSetDecoration, this);\n    this.eventHub.on('editorLinkLine', this.onEditorLinkLine, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('conformanceViewOpen', this.onConformanceViewOpen, this);\n    this.eventHub.on('conformanceViewClose', this.onConformanceViewClose, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('newSource', this.onNewSource, this);\n    this.eventHub.on('motd', this.onMotd, this);\n    this.eventHub.emit('requestMotd');\n\n    this.editor.getModel().onDidChangeContent(_.bind(function () {\n        this.debouncedEmitChange();\n        this.updateState();\n    }, this));\n\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n\n    this.editor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        // workaround for issue with contextmenu not going away when tapping somewhere else on the screen\n        this.editor.onDidChangeCursorSelection(_.bind(function () {\n            var contextmenu = $('div.context-view.monaco-menu-container');\n            if (contextmenu.css('display') !== 'none') {\n                contextmenu.hide();\n            }\n        }, this));\n    }\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.editor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.eventHub.on('initialised', this.maybeEmitChange, this);\n\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.target === this.domRoot.find('.monaco-placeholder .inputarea')[0]) {\n            if (e.which === 27) {\n                this.onEscapeKey(e);\n            } else if (e.which === 45) {\n                this.onInsertKey(e);\n            }\n        }\n    }, this));\n};\n\nEditor.prototype.onMouseMove = function (e) {\n    if (e !== null && e.target !== null && this.settings.hoverShowSource && e.target.position !== null) {\n        var pos = e.target.position;\n        this.tryPanesLinkLine(pos.lineNumber, pos.column, false);\n    }\n};\n\nEditor.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nEditor.prototype.onEscapeKey = function () {\n    if (this.editor.vimInUse) {\n        var currentState = monacoVim.VimMode.Vim.maybeInitVimState_(this.vimMode);\n        if (currentState.insertMode) {\n            monacoVim.VimMode.Vim.exitInsertMode(this.vimMode);\n        } else if (currentState.visualMode) {\n            monacoVim.VimMode.Vim.exitVisualMode(this.vimMode, false);\n        }\n    }\n};\n\nEditor.prototype.onInsertKey = function (event) {\n    if (this.editor.vimInUse) {\n        var currentState = monacoVim.VimMode.Vim.maybeInitVimState_(this.vimMode);\n        if (!currentState.insertMode) {\n            var insertEvent = {\n                preventDefault: event.preventDefault,\n                stopPropagation: event.stopPropagation,\n                browserEvent: {\n                    key: 'i',\n                    defaultPrevented: false,\n                },\n                keyCode: 39,\n            };\n            this.vimMode.handleKeyDown(insertEvent);\n        }\n    }\n};\n\nEditor.prototype.enableVim = function () {\n    this.vimMode = monacoVim.initVimMode(this.editor, this.domRoot.find('#v-status')[0]);\n    this.vimFlag.prop('class', 'btn btn-info');\n    this.editor.vimInUse = true;\n};\n\nEditor.prototype.disableVim = function () {\n    this.vimMode.dispose();\n    this.domRoot.find('#v-status').html('');\n    this.vimFlag.prop('class', 'btn btn-light');\n    this.editor.vimInUse = false;\n};\n\nEditor.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.editor);\n    this.languageBtn = this.domRoot.find('.change-language');\n    // Ensure that the button is disabled if we don't have nothing to select\n    // Note that is might be disabled for other reasons beforehand\n    if (this.langKeys.length <= 1) {\n        this.languageBtn.prop('disabled', true);\n    }\n    this.topBar = this.domRoot.find('.top-bar');\n    this.hideable = this.domRoot.find('.hideable');\n\n    this.loadSaveButton = this.domRoot.find('.load-save');\n    var paneAdderDropdown = this.domRoot.find('.add-pane');\n    var addCompilerButton = this.domRoot.find('.btn.add-compiler');\n    var addExecutorButton = this.domRoot.find('.btn.add-executor');\n    this.conformanceViewerButton = this.domRoot.find('.btn.conformance');\n    this.newCfgButton = this.domRoot.find('.btn.view-cfg');\n    var addEditorButton = this.domRoot.find('.btn.add-editor');\n    var toggleVimButton = this.domRoot.find('#vim-flag');\n    var togglePaneAdder = function () {\n        paneAdderDropdown.dropdown('toggle');\n    };\n    this.vimFlag = this.domRoot.find('#vim-flag');\n    toggleVimButton.on('click', _.bind(function () {\n        if (this.editor.vimInUse) {\n            this.disableVim();\n        } else {\n            this.enableVim();\n        }\n    }, this));\n\n    // NB a new compilerConfig needs to be created every time; else the state is shared\n    // between all compilers created this way. That leads to some nasty-to-find state\n    // bugs e.g. https://github.com/compiler-explorer/compiler-explorer/issues/225\n    var getCompilerConfig = _.bind(function () {\n        return Components.getCompiler(this.id, this.currentLanguage.id);\n    }, this);\n\n    var getExecutorConfig = _.bind(function () {\n        return Components.getExecutor(this.id, this.currentLanguage.id);\n    }, this);\n\n    var getConformanceConfig = _.bind(function () {\n        return Components.getConformanceView(this.id, this.getSource(), this.currentLanguage.id);\n    }, this);\n\n    var getEditorConfig = _.bind(function () {\n        return Components.getEditor();\n    }, this);\n\n    var addDragListener = _.bind(function (dragSource, dragConfig) {\n        this.container.layoutManager\n            .createDragSource(dragSource, dragConfig)\n            ._dragListener.on('dragStart', togglePaneAdder);\n    }, this);\n\n    addDragListener(addCompilerButton, getCompilerConfig);\n    addDragListener(addExecutorButton, getExecutorConfig);\n    addDragListener(this.conformanceViewerButton, getConformanceConfig);\n    addDragListener(addEditorButton, getEditorConfig);\n\n    var bindClickEvent = _.bind(function (dragSource, dragConfig) {\n        dragSource.click(_.bind(function () {\n            var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n                this.container.layoutManager.root.contentItems[0];\n            insertPoint.addChild(dragConfig);\n        }, this));\n    }, this);\n\n    bindClickEvent(addCompilerButton, getCompilerConfig);\n    bindClickEvent(addExecutorButton, getExecutorConfig);\n    bindClickEvent(this.conformanceViewerButton, getConformanceConfig);\n    bindClickEvent(addEditorButton, getEditorConfig);\n\n    this.initLoadSaver();\n    $(this.domRoot).keydown(_.bind(function (event) {\n        if ((event.ctrlKey || event.metaKey) && String.fromCharCode(event.which).toLowerCase() === 's') {\n            event.preventDefault();\n            if (this.settings.enableCtrlS) {\n                loadSave.setMinimalOptions(this.getSource(), this.currentLanguage);\n                if (!loadSave.onSaveToFile(this.id)) {\n                    this.showLoadSaver();\n                }\n            } else {\n                this.eventHub.emit('displaySharingPopover');\n            }\n        }\n    }, this));\n\n    this.cppInsightsButton = this.domRoot.find('.open-in-cppinsights');\n    this.cppInsightsButton.on('mousedown', _.bind(function () {\n        this.updateOpenInCppInsights();\n    }, this));\n\n    this.quickBenchButton = this.domRoot.find('.open-in-quickbench');\n    this.quickBenchButton.on('mousedown', _.bind(function () {\n        this.updateOpenInQuickBench();\n    }, this));\n};\n\nEditor.prototype.updateButtons = function () {\n    if (this.currentLanguage.id === 'c++') {\n        this.cppInsightsButton.show();\n        this.quickBenchButton.show();\n    } else {\n        this.cppInsightsButton.hide();\n        this.quickBenchButton.hide();\n    }\n};\n\nEditor.prototype.b64UTFEncode = function (str) {\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, v) {\n        return String.fromCharCode(parseInt(v, 16));\n    }));\n};\n\nEditor.prototype.asciiEncodeJsonText = function (json) {\n    return json.replace(/[\\u007F-\\uFFFF]/g, function (chr) {\n        // json unicode escapes must always be 4 characters long, so pad with leading zeros\n        return '\\\\u' + ('0000' + chr.charCodeAt(0).toString(16)).substr(-4);\n    });\n};\n\nEditor.prototype.getCompilerStates = function () {\n    var states = [];\n\n    _.each(this.ourCompilers, _.bind(function (val, compilerIdStr) {\n        var compilerId = parseInt(compilerIdStr);\n\n        var glCompiler = _.find(this.container.layoutManager.root.getComponentsByName('compiler'), function (c) {\n            return c.id === compilerId;\n        });\n\n        if (glCompiler) {\n            var state = glCompiler.currentState();\n            states.push(state);\n        }\n    }, this));\n\n    return states;\n};\n\nEditor.prototype.updateOpenInCppInsights = function () {\n    var cppStd = 'cpp2a';\n\n    var compilers = this.getCompilerStates();\n    _.each(compilers, _.bind(function (compiler) {\n        if ((compiler.options.indexOf('-std=c++11') !== -1) ||\n            (compiler.options.indexOf('-std=gnu++11') !== -1)) {\n            cppStd = 'cpp11';\n        } else if ((compiler.options.indexOf('-std=c++14') !== -1) ||\n            (compiler.options.indexOf('-std=gnu++14') !== -1)) {\n            cppStd = 'cpp14';\n        } else if ((compiler.options.indexOf('-std=c++17') !== -1) ||\n            (compiler.options.indexOf('-std=gnu++17') !== -1)) {\n            cppStd = 'cpp17';\n        } else if ((compiler.options.indexOf('-std=c++2a') !== -1) ||\n            (compiler.options.indexOf('-std=gnu++2a') !== -1)) {\n            cppStd = 'cpp2a';\n        } else if (compiler.options.indexOf('-std=c++98') !== -1) {\n            cppStd = 'cpp98';\n        }\n    }, this));\n\n    var link = 'https://cppinsights.io/lnk?code=' + this.b64UTFEncode(this.getSource()) + '&std=' + cppStd + '&rev=1.0';\n\n    this.domRoot.find('.open-in-cppinsights').attr('href', link);\n};\n\nEditor.prototype.cleanupSemVer = function (semver) {\n    if (semver) {\n        var semverStr = semver.toString();\n        if ((semverStr !== '') && (semverStr.indexOf('(') === -1)) {\n            var vercomps = semverStr.split('.');\n            return vercomps[0] + '.' + (vercomps[1] ? vercomps[1] : '0');\n        }\n    }\n\n    return false;\n};\n\nEditor.prototype.updateOpenInQuickBench = function () {\n    var quickBenchState = {\n        text: this.getSource(),\n    };\n\n    var compilers = this.getCompilerStates();\n\n    _.each(compilers, _.bind(function (compiler) {\n        var knownCompiler = false;\n\n        var compilerExtInfo = this.hub.compilerService.findCompiler(this.currentLanguage.id, compiler.compiler);\n        var semver = this.cleanupSemVer(compilerExtInfo.semver);\n        var groupOrName =\n            compilerExtInfo.baseName ? compilerExtInfo.baseName :\n                compilerExtInfo.groupName ? compilerExtInfo.groupName : compilerExtInfo.name;\n\n        if (semver && groupOrName) {\n            groupOrName = groupOrName.toLowerCase();\n            if (groupOrName.indexOf('gcc') !== -1) {\n                quickBenchState.compiler = 'gcc-' + semver;\n                knownCompiler = true;\n            } else if (groupOrName.indexOf('clang') !== -1) {\n                quickBenchState.compiler = 'clang-' + semver;\n                knownCompiler = true;\n            }\n        }\n\n        if (knownCompiler) {\n            var match = compiler.options.match(/-(O([0-3sg]|fast))/);\n            if (match !== null) {\n                if (match[2] === 'fast') {\n                    quickBenchState.optim = 'F';\n                } else {\n                    quickBenchState.optim = match[2].toUpperCase();\n                }\n            }\n\n            if ((compiler.options.indexOf('-std=c++11') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++11') !== -1)) {\n                quickBenchState.cppVersion = '11';\n            } else if ((compiler.options.indexOf('-std=c++14') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++14') !== -1)) {\n                quickBenchState.cppVersion = '14';\n            } else if ((compiler.options.indexOf('-std=c++17') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++17') !== -1)) {\n                quickBenchState.cppVersion = '17';\n            } else if ((compiler.options.indexOf('-std=c++2a') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++2a') !== -1)) {\n                quickBenchState.cppVersion = '20';\n            }\n\n            if ((compiler.options.indexOf('-stdlib=libc++') !== -1)) {\n                quickBenchState.lib = 'llvm';\n            }\n        }\n    }, this));\n\n    var link = 'http://quick-bench.com/#' + btoa(this.asciiEncodeJsonText(JSON.stringify(quickBenchState)));\n    this.domRoot.find('.open-in-quickbench').attr('href', link);\n};\n\nEditor.prototype.changeLanguage = function (newLang) {\n    this.selectize.setValue(newLang);\n};\n\nEditor.prototype.clearLinkedLine = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nEditor.prototype.tryPanesLinkLine = function (thisLineNumber, column, reveal) {\n    var selectedToken = this.getTokenSpan(thisLineNumber, column);\n    _.each(this.asmByCompiler, _.bind(function (asms, compilerId) {\n        this.eventHub.emit('panesLinkLine', compilerId, thisLineNumber,\n            selectedToken.colBegin, selectedToken.colEnd, reveal);\n    }, this));\n};\n\nEditor.prototype.requestCompilation = function () {\n    this.eventHub.emit('requestCompilation', this.id);\n};\n\nEditor.prototype.initEditorActions = function () {\n    this.editor.addAction({\n        id: 'compile',\n        label: 'Compile',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function () {\n            // This change request is mostly superfluous\n            this.maybeEmitChange();\n            this.requestCompilation();\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'toggleCompileOnChange',\n        label: 'Toggle compile on change',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.Enter],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                compileOnChange: !this.settings.compileOnChange,\n            });\n            this.alertSystem\n                .notify('Compile on change has been toggled ' + (this.settings.compileOnChange ? 'ON' : 'OFF'), {\n                    group: 'togglecompile',\n                    alertClass: this.settings.compileOnChange ? 'notification-on' : 'notification-off',\n                    dismissTime: 3000,\n                });\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'clang-format',\n        label: 'Format text',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F9],\n        keybindingContext: null,\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        run: _.bind(this.formatCurrentText, this),\n    });\n\n    this.editor.addAction({\n        id: 'toggleColourisation',\n        label: 'Toggle colourisation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.F1],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                colouriseAsm: !this.settings.colouriseAsm,\n            });\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'viewasm',\n        label: 'Reveal linked code',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var pos = ed.getPosition();\n            this.tryPanesLinkLine(pos.lineNumber, pos.column, true);\n        }, this),\n    });\n\n    this.isCpp = this.editor.createContextKey('isCpp', true);\n    this.isCpp.set(this.currentLanguage.id === 'c++');\n\n    this.editor.addAction({\n        id: 'cpprefsearch',\n        label: 'Search on Cppreference',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F8],\n        keybindingContext: null,\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        precondition: 'isCpp',\n        run: _.bind(this.searchOnCppreference, this),\n    });\n};\n\nEditor.prototype.searchOnCppreference = function (ed) {\n    var pos = ed.getPosition();\n    var word = ed.getModel().getWordAtPosition(pos);\n    if (!word || !word.word) return;\n\n    var url = 'https://en.cppreference.com/mwiki/index.php?search=' + encodeURIComponent(word.word);\n    window.open(url, '_blank', 'noopener');\n};\n\nEditor.prototype.doesMatchEditor = function (otherSource) {\n    return otherSource === this.getSource();\n};\n\nEditor.prototype.confirmOverwrite = function (yes) {\n    this.alertSystem.ask('Changes were made to the code',\n        'Changes were made to the code while it was being processed. Overwrite changes?',\n        {yes: yes, no: null});\n};\n\nEditor.prototype.updateSource = function (newSource) {\n    // Create something that looks like an edit operation for the whole text\n    var operation = {\n        range: this.editor.getModel().getFullModelRange(),\n        forceMoveMarkers: true,\n        text: newSource,\n    };\n    var nullFn = function () {\n        return null;\n    };\n    var viewState = this.editor.saveViewState();\n    // Add a undo stop so we don't go back further than expected\n    this.editor.pushUndoStop();\n    // Apply de edit. Note that we lose cursor position, but I've not found a better alternative yet\n    this.editor.getModel().pushEditOperations(viewState.cursorState, [operation], nullFn);\n    this.numberUsedLines();\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            /*\n             * this setTimeout is a really crap workaround to fix #2150\n             * the TL;DR; is that we reach this point *before* GL has laid\n             * out the window, so we have no height\n             *\n             * If we revealLinesInCenter at this point the editor \"does the right thing\"\n             * and scrolls itself all the way to the line we requested.\n             *\n             * Unfortunately the editor thinks it is very small, so the \"center\"\n             * is the first line, and when the editor does resize eventually things are off.\n             *\n             * The workaround is to just delay things \"long enough\"\n             *\n             * This is bad and I feel bad.\n             */\n            setTimeout(_.bind(function () {\n                this.editor.setSelection(this.selection);\n                this.editor.revealLinesInCenter(this.selection.startLineNumber,\n                    this.selection.endLineNumber);\n            }, this), 500);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nEditor.prototype.formatCurrentText = function () {\n    var previousSource = this.getSource();\n\n    $.ajax({\n        type: 'POST',\n        url: window.location.origin + this.httpRoot + 'api/format/clangformat',\n        dataType: 'json',  // Expected\n        contentType: 'application/json',  // Sent\n        data: JSON.stringify({\n            source: previousSource,\n            base: this.settings.formatBase,\n        }),\n        success: _.bind(function (result) {\n            if (result.exit === 0) {\n                if (this.doesMatchEditor(previousSource)) {\n                    this.updateSource(result.answer);\n                } else {\n                    this.confirmOverwrite(_.bind(function () {\n                        this.updateSource(result.answer);\n                    }, this), null);\n                }\n            } else {\n                // Ops, the formatter itself failed!\n                this.alertSystem.notify('We encountered an error formatting your code: ' + result.answer, {\n                    group: 'formatting',\n                    alertClass: 'notification-error',\n                });\n            }\n        }, this),\n        error: _.bind(function (xhr, e_status, error) {\n            // Hopefully we have not exploded!\n            if (xhr.responseText) {\n                try {\n                    var res = JSON.parse(xhr.responseText);\n                    error = res.answer || error;\n                } catch (e) {\n                    // continue regardless of error\n                }\n            }\n            error = error || 'Unknown error';\n            this.alertSystem.notify('We ran into some issues while formatting your code: ' + error, {\n                group: 'formatting',\n                alertClass: 'notification-error',\n            });\n        }, this),\n        cache: true,\n    });\n};\n\nEditor.prototype.resize = function () {\n    var topBarHeight = this.updateAndCalcTopBarHeight();\n\n    this.editor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n    // Only update the options if needed\n    if (this.settings.wordWrap) {\n        this.editor.updateOptions({\n            wordWrapColumn: this.editor.getLayoutInfo().viewportColumn,\n        });\n    }\n};\n\nEditor.prototype.updateAndCalcTopBarHeight = function () {\n    var width = this.domRoot.width();\n    if (width === this.cachedTopBarHeightAtWidth && !this.topBar.hasClass('d-none')) {\n        return this.cachedTopBarHeight;\n    }\n\n    var topBarHeight = 0;\n    var topBarHeightMax = 0;\n    var topBarHeightMin = 0;\n\n    if (!this.topBar.hasClass('d-none')) {\n        this.hideable.show();\n        topBarHeightMax = this.topBar.outerHeight(true);\n        this.hideable.hide();\n        topBarHeightMin = this.topBar.outerHeight(true);\n        topBarHeight = topBarHeightMin;\n        if (topBarHeightMin === topBarHeightMax) {\n            this.hideable.show();\n            topBarHeight = topBarHeightMax;\n        }\n    }\n\n    this.cachedTopBarHeight = topBarHeight;\n    this.cachedTopBarHeightAtWidth = width;\n    return topBarHeight;\n};\n\nEditor.prototype.onSettingsChange = function (newSettings) {\n    var before = this.settings;\n    var after = newSettings;\n    this.settings = _.clone(newSettings);\n\n    this.editor.updateOptions({\n        autoIndent: this.settings.autoIndent ? 'advanced' : 'none',\n        autoClosingBrackets: this.settings.autoCloseBrackets,\n        useVim: this.settings.useVim,\n        quickSuggestions: this.settings.showQuickSuggestions,\n        contextmenu: this.settings.useCustomContextMenu,\n        minimap: {\n            enabled: this.settings.showMinimap && !options.embedded,\n        },\n        fontFamily: this.settings.editorsFFont,\n        fontLigatures: this.settings.editorsFLigatures,\n        wordWrap: this.settings.wordWrap ? 'bounded' : 'off',\n        wordWrapColumn: this.editor.getLayoutInfo().viewportColumn, // Ensure the column count is up to date\n    });\n\n    // Unconditionally send editor changes. The compiler only compiles when needed\n    this.debouncedEmitChange = _.debounce(_.bind(function () {\n        this.maybeEmitChange();\n    }, this), after.delayAfterChange);\n\n    if (before.hoverShowSource && !after.hoverShowSource) {\n        this.onEditorSetDecoration(this.id, -1, false);\n    }\n\n    if (after.useVim && !before.useVim) {\n        this.enableVim();\n    } else if (!after.useVim && before.useVim) {\n        this.disableVim();\n    }\n\n    if (this.editor.getModel()) {\n        this.editor.getModel().updateOptions({\n            tabSize: this.settings.tabWidth,\n            insertSpaces: this.settings.useSpaces,\n        });\n    }\n\n    this.numberUsedLines();\n};\n\nEditor.prototype.numberUsedLines = function () {\n    var result = {};\n    // First, note all lines used.\n    _.each(this.asmByCompiler, function (asm) {\n        _.each(asm, function (asmLine) {\n            // If the line has a source indicator, and the source indicator is null (i.e. the\n            // user's input file), then tag it as used.\n            if (asmLine.source && asmLine.source.file === null && asmLine.source.line > 0)\n                result[asmLine.source.line - 1] = true;\n        });\n    });\n    // Now assign an ordinal to each used line.\n    var ordinal = 0;\n    _.each(result, function (v, k) {\n        result[k] = ordinal++;\n    });\n\n    if (_.any(this.busyCompilers)) return;\n    this.updateColours(this.settings.colouriseAsm ? result : []);\n};\n\nEditor.prototype.updateColours = function (colours) {\n    this.colours = colour.applyColours(this.editor, colours, this.settings.colourScheme, this.colours);\n    this.eventHub.emit('colours', this.id, colours, this.settings.colourScheme);\n};\n\nEditor.prototype.onCompilerOpen = function (compilerId, editorId) {\n    if (editorId === this.id) {\n        // On any compiler open, rebroadcast our state in case they need to know it.\n        if (this.waitingForLanguage) {\n            var glCompiler = _.find(this.container.layoutManager.root.getComponentsByName('compiler'), function (c) {\n                return c.id === compilerId;\n            });\n            if (glCompiler) {\n                var selected = _.find(options.compilers, function (compiler) {\n                    return compiler.id === glCompiler.originalCompilerId;\n                });\n                if (selected) {\n                    this.changeLanguage(selected.lang);\n                }\n            }\n        }\n        this.maybeEmitChange(true, compilerId);\n        this.ourCompilers[compilerId] = true;\n    }\n};\n\nEditor.prototype.onExecutorOpen = function (executorId, editorId) {\n    if (editorId === this.id) {\n        this.maybeEmitChange(true);\n        this.ourExecutors[executorId] = true;\n    }\n};\n\nEditor.prototype.onCompilerClose = function (compilerId) {\n    if (this.ourCompilers[compilerId]) {\n        monaco.editor.setModelMarkers(this.editor.getModel(), compilerId, []);\n        delete this.widgetsByCompiler[compilerId];\n        delete this.asmByCompiler[compilerId];\n        delete this.busyCompilers[compilerId];\n        delete this.ourCompilers[compilerId];\n        this.numberUsedLines();\n    }\n};\n\nEditor.prototype.onExecutorClose = function (id) {\n    if (this.ourExecutors[id]) {\n        delete this.ourExecutors[id];\n    }\n};\n\nEditor.prototype.onCompiling = function (compilerId) {\n    if (!this.ourCompilers[compilerId]) return;\n    this.busyCompilers[compilerId] = true;\n};\n\nEditor.prototype.onCompileResponse = function (compilerId, compiler, result) {\n    if (!this.ourCompilers[compilerId]) return;\n    this.busyCompilers[compilerId] = false;\n    var output = (result.stdout || []).concat(result.stderr || []);\n    var widgets = _.compact(_.map(output, function (obj) {\n        if (!obj.tag) return;\n        var severity = 3; // error\n        if (obj.tag.text.match(/^warning/)) severity = 2;\n        if (obj.tag.text.match(/^note/)) severity = 1;\n        var colBegin = 0;\n        var colEnd = Infinity;\n        if (obj.tag.column) {\n            var span = this.getTokenSpan(obj.tag.line, obj.tag.column);\n            colBegin = obj.tag.column;\n            if (span.colEnd === obj.tag.column) colEnd = -1;\n            else colEnd = span.colEnd + 1;\n        }\n        return {\n            severity: severity,\n            message: obj.tag.text,\n            source: compiler.name + ' #' + compilerId,\n            startLineNumber: obj.tag.line,\n            startColumn: colBegin,\n            endLineNumber: obj.tag.line,\n            endColumn: colEnd,\n        };\n    }, this));\n    monaco.editor.setModelMarkers(this.editor.getModel(), compilerId, widgets);\n    this.decorations.tags = _.map(widgets, function (tag) {\n        return {\n            range: new monaco.Range(tag.startLineNumber, tag.startColumn, tag.startLineNumber + 1, 1),\n            options: {\n                isWholeLine: false,\n                inlineClassName: 'error-code',\n            },\n        };\n    }, this);\n    this.updateDecorations();\n    this.asmByCompiler[compilerId] = result.asm;\n    this.numberUsedLines();\n};\n\nEditor.prototype.onSelectLine = function (id, lineNum) {\n    if (Number(id) === this.id) {\n        this.editor.setSelection({line: lineNum - 1, ch: 0}, {line: lineNum, ch: 0});\n    }\n};\n\n// Returns a half-segment [a, b) for the token on the line lineNum\n// that spans across the column.\n// a - colStart points to the first character of the token\n// b - colEnd points to the character immediately following the token\n// e.g.: \"this->callableMethod ( x, y );\"\n//              ^a   ^column  ^b\nEditor.prototype.getTokenSpan = function (lineNum, column) {\n    var model = this.editor.getModel();\n    var line = model.getLineContent(lineNum);\n    if (0 < column && column < line.length) {\n        var tokens = monaco.editor.tokenize(line, model.getModeId());\n        if (tokens.length > 0) {\n            var lastOffset = 0;\n            var lastWasString = false;\n            for (var i = 0; i < tokens[0].length; ++i) {\n                // Treat all the contiguous string tokens as one,\n                // For example \"hello \\\" world\" is treated as one token\n                // instead of 3 \"string.cpp\", \"string.escape.cpp\", \"string.cpp\"\n                if (tokens[0][i].type.startsWith('string')) {\n                    if (lastWasString) {\n                        continue;\n                    }\n                    lastWasString = true;\n                } else {\n                    lastWasString = false;\n                }\n                var currentOffset = tokens[0][i].offset;\n                if (column <= currentOffset) {\n                    return { colBegin : lastOffset, colEnd : currentOffset };\n                } else {\n                    lastOffset = currentOffset;\n                }\n            }\n            return { colBegin : lastOffset, colEnd : line.length };\n        }\n    }\n    return { colBegin : column, colEnd : column + 1 };\n};\n\nEditor.prototype.onEditorLinkLine = function (editorId, lineNum, columnBegin, columnEnd, reveal) {\n    if (Number(editorId) === this.id) {\n        if (reveal && lineNum) this.editor.revealLineInCenter(lineNum);\n        this.decorations.linkedCode = lineNum === -1 || !lineNum ? [] : [{\n            range: new monaco.Range(lineNum, 1, lineNum, 1),\n            options: {\n                isWholeLine: true,\n                linesDecorationsClassName: 'linked-code-decoration-margin',\n                className: 'linked-code-decoration-line',\n            },\n        }];\n\n        if (lineNum > 0 && columnBegin !== -1) {\n            var lastTokenSpan = this.getTokenSpan(lineNum, columnEnd);\n            this.decorations.linkedCode.push({\n                range: new monaco.Range(lineNum, columnBegin, lineNum, lastTokenSpan.colEnd + 1),\n                options: {\n                    isWholeLine: false,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            });\n        }\n\n        if (this.fadeTimeoutId !== -1) {\n            clearTimeout(this.fadeTimeoutId);\n        }\n        this.fadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLine();\n            this.fadeTimeoutId = -1;\n        }, this), 5000);\n\n        this.updateDecorations();\n    }\n};\n\nEditor.prototype.onEditorSetDecoration = function (id, lineNum, reveal) {\n    if (Number(id) === this.id) {\n        if (reveal && lineNum) this.editor.revealLineInCenter(lineNum);\n        this.decorations.linkedCode = lineNum === -1 || !lineNum ? [] : [{\n            range: new monaco.Range(lineNum, 1, lineNum, 1),\n            options: {\n                isWholeLine: true,\n                linesDecorationsClassName: 'linked-code-decoration-margin',\n                inlineClassName: 'linked-code-decoration-inline',\n            },\n        }];\n        this.updateDecorations();\n    }\n};\n\nEditor.prototype.updateDecorations = function () {\n    this.prevDecorations = this.editor.deltaDecorations(\n        this.prevDecorations,\n        _.compact(_.flatten(_.values(this.decorations))));\n};\n\nEditor.prototype.onConformanceViewOpen = function (editorId) {\n    if (editorId === this.id) {\n        this.conformanceViewerButton.attr('disabled', true);\n    }\n};\n\nEditor.prototype.onConformanceViewClose = function (editorId) {\n    if (editorId === this.id) {\n        this.conformanceViewerButton.attr('disabled', false);\n    }\n};\n\nEditor.prototype.showLoadSaver = function () {\n    this.loadSaveButton.click();\n};\n\nEditor.prototype.initLoadSaver = function () {\n    this.loadSaveButton\n        .off('click')\n        .click(_.bind(function () {\n            loadSave.run(_.bind(function (text) {\n                this.setSource(text);\n                this.updateState();\n                this.maybeEmitChange(true);\n                this.requestCompilation();\n            }, this), this.getSource(), this.currentLanguage);\n        }, this));\n};\n\nEditor.prototype.onLanguageChange = function (newLangId) {\n    if (languages[newLangId]) {\n        if (newLangId !== this.currentLanguage.id) {\n            var oldLangId = this.currentLanguage.id;\n            this.currentLanguage = languages[newLangId];\n            if (!this.waitingForLanguage && !this.settings.keepSourcesOnLangChange) {\n                this.editorSourceByLang[oldLangId] = this.getSource();\n                this.updateEditorCode();\n            }\n            this.initLoadSaver();\n            monaco.editor.setModelLanguage(this.editor.getModel(), this.currentLanguage.monaco);\n            this.isCpp.set(this.currentLanguage.id === 'c++');\n            this.updateTitle();\n            this.updateState();\n            // Broadcast the change to other panels\n            this.eventHub.emit('languageChange', this.id, newLangId);\n            this.maybeEmitChange(true);\n            this.requestCompilation();\n            ga.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'LanguageChange',\n                eventAction: newLangId,\n            });\n        }\n        this.waitingForLanguage = false;\n    }\n};\n\nEditor.prototype.getPaneName = function () {\n    return this.currentLanguage.name + ' source #' + this.id;\n};\n\nEditor.prototype.updateTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\n// Called every time we change language, so we get the relevant code\nEditor.prototype.updateEditorCode = function () {\n    this.setSource(this.editorSourceByLang[this.currentLanguage.id] || languages[this.currentLanguage.id].example);\n};\n\nEditor.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('editorClose', this.id);\n    this.editor.dispose();\n};\n\nmodule.exports = {\n    Editor: Editor,\n};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar\n    local = require('./local');\n\nvar _currentPresentation = null;\n\nfunction Presentation() {\n    this.maxSlides = 0;\n    this.currentSlide = 0;\n    this.originallocation = window.location.href;\n}\n\nPresentation.prototype.init = function (maxSlides, callback) {\n    this.maxSlides = maxSlides;\n    this.currentSlide = parseInt(local.get('presentationCurrentSlide', 0));\n    if (callback !== undefined) callback();\n};\n\nPresentation.prototype.first = function () {\n    this.currentSlide = 0;\n    local.set('presentationCurrentSlide', this.currentSlide);\n    this.show();\n};\n\nPresentation.prototype.next = function () {\n    if (this.currentSlide + 1 < this.maxSlides) {\n        this.currentSlide++;\n        local.set('presentationCurrentSlide', this.currentSlide);\n        this.show();\n    }\n};\n\nPresentation.prototype.prev = function () {\n    if (this.currentSlide > 0) {\n        this.currentSlide--;\n        local.set('presentationCurrentSlide', this.currentSlide);\n        this.show();\n    }\n};\n\nPresentation.prototype.show = function () {\n    window.hasUIBeenReset = true;\n    if (window.location.href === this.originallocation) {\n        window.location.reload();\n    } else {\n        window.location.href = this.originallocation;\n    }\n};\n\nfunction init(maxSlides, callback) {\n    if (!_currentPresentation) {\n        _currentPresentation = new Presentation();\n        _currentPresentation.init(maxSlides, callback);\n    } else {\n        callback();\n    }\n}\n\nfunction first() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.first();\n}\n\nfunction next() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.next();\n}\n\nfunction prev() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.prev();\n}\n\nfunction getCurrentSlide() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    return _currentPresentation.currentSlide;\n}\n\nfunction setCurrentSlide(idx) {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.currentSlide = idx;\n}\n\nmodule.exports = {\n    init: init,\n    first: first,\n    next: next,\n    prev: prev,\n    getCurrentSlide: getCurrentSlide,\n    setCurrentSlide: setCurrentSlide,\n};\n","// Copyright (c) 2017, Jared Wyles\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale');\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics');\nvar monacoConfig = require('../monaco-config');\n\nrequire('../modes/asm-mode');\nrequire('selectize');\n\nfunction Opt(hub, container, state) {\n    state = state || {};\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#opt').html());\n    this.source = state.source || '';\n    this._currentDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.optEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        value: this.source,\n        language: 'plaintext',\n        readOnly: true,\n        glyphMargin: true,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.isCompilerSupported = false;\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (state && state.optOutput) {\n        this.showOptResults(state.optOutput);\n    }\n    this.setTitle();\n    this.eventHub.emit('optViewOpened', this._compilerid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Opt',\n    });\n}\n\nOpt.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.optEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nOpt.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.container.on('destroy', this.close, this);\n    this.eventHub.emit('requestSettings');\n    this.eventHub.emit('findCompilers');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.optEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nOpt.prototype.onCompileResult = function (id, compiler, result, lang) {\n    if (this._compilerid !== id || !this.isCompilerSupported) return;\n    this.source = result.source;\n    this.optEditor.setValue(this.source);\n    if (result.hasOptOutput) {\n        this.showOptResults(result.optOutput);\n    }\n    if (lang && lang.monaco && this.getCurrentEditorLanguage() !== lang.monaco) {\n        monaco.editor.setModelLanguage(this.optEditor.getModel(), lang.monaco);\n    }\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.optEditor.setSelection(this.selection);\n            this.optEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\n// Monaco language id of the current editor\nOpt.prototype.getCurrentEditorLanguage = function () {\n    return this.optEditor.getModel().getModeId();\n};\n\nOpt.prototype.setTitle = function () {\n    this.container.setTitle(\n        this._compilerName + ' Opt Viewer (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')');\n};\n\nOpt.prototype.getDisplayableOpt = function (optResult) {\n    return {\n        value: '**' + optResult.optType + '** - ' + optResult.displayString,\n        isTrusted: false,\n    };\n};\n\nOpt.prototype.showOptResults = function (results) {\n    var opt = [];\n\n    results = _.filter(results, function (x) {\n        return x.DebugLoc !== undefined;\n    });\n\n    results = _.groupBy(results, function (x) {\n        return x.DebugLoc.Line;\n    });\n\n    _.mapObject(results, function (value, key) {\n        var linenumber = Number(key);\n        var className = value.reduce(function (acc, x) {\n            if (x.optType === 'Missed' || acc === 'Missed') {\n                return 'Missed';\n            } else if (x.optType === 'Passed' || acc === 'Passed') {\n                return 'Passed';\n            }\n            return x.optType;\n        }, '');\n        var contents = _.map(value, this.getDisplayableOpt, this);\n        opt.push({\n            range: new monaco.Range(linenumber, 1, linenumber, Infinity),\n            options: {\n                isWholeLine: true,\n                glyphMarginClassName: 'opt-decoration.' + className.toLowerCase(),\n                hoverMessage: contents,\n                glyphMarginHoverMessage: contents,\n            },\n        });\n    }, this);\n\n    this._currentDecorations = this.optEditor.deltaDecorations(this._currentDecorations, opt);\n};\n\nOpt.prototype.onCompiler = function (id, compiler) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.setTitle();\n        this.isCompilerSupported = compiler ? compiler.supportsOptOutput : false;\n        if (!this.isCompilerSupported) {\n            this.optEditor.setValue('<OPT output is not supported for this compiler>');\n        }\n    }\n};\n\nOpt.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.optEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nOpt.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nOpt.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nOpt.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('optViewClosed', this._compilerid);\n    this.optEditor.dispose();\n};\n\nOpt.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nOpt.prototype.onSettingsChange = function (newSettings) {\n    this.optEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nOpt.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nmodule.exports = {\n    Opt: Opt,\n};\n","/* eslint-disable header/header */\n\n// Copyright (c) 2012 Rob Burns\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n\n// Converted from https://github.com/rburns/ansi-to-html\n// Includes patches from https://github.com/rburns/ansi-to-html/pull/84\n\n'use strict';\n\nvar _ = require('underscore');\n\nvar defaults = {\n    fg: '#FFF',\n    bg: '#000',\n    newline: false,\n    escapeXML: false,\n    stream: false,\n    colors: getDefaultColors(),\n};\n\nfunction getDefaultColors() {\n    var colors = {\n        0: '#000',\n        1: '#A00',\n        2: '#0A0',\n        3: '#A50',\n        4: '#00A',\n        5: '#A0A',\n        6: '#0AA',\n        7: '#AAA',\n        8: '#555',\n        9: '#F55',\n        10: '#5F5',\n        11: '#FF5',\n        12: '#55F',\n        13: '#F5F',\n        14: '#5FF',\n        15: '#FFF',\n    };\n\n    range(0, 5).forEach(function (red) {\n        range(0, 5).forEach(function (green) {\n            range(0, 5).forEach(function (blue) {\n                return setStyleColor(red, green, blue, colors);\n            });\n        });\n    });\n\n    range(0, 23).forEach(function (gray) {\n        var c = gray + 232;\n        var l = toHexString(gray * 10 + 8);\n\n        colors[c] = '#' + l + l + l;\n    });\n\n    return colors;\n}\n\n/**\n * @param {number} red\n * @param {number} green\n * @param {number} blue\n * @param {object} colors\n */\nfunction setStyleColor(red, green, blue, colors) {\n    var c = 16 + red * 36 + green * 6 + blue;\n    var r = red > 0 ? red * 40 + 55 : 0;\n    var g = green > 0 ? green * 40 + 55 : 0;\n    var b = blue > 0 ? blue * 40 + 55 : 0;\n\n    colors[c] = toColorHexString([r, g, b]);\n}\n\n/**\n * Converts from a number like 15 to a hex string like 'F'\n *\n * @param {number} num\n * @returns {string}\n */\nfunction toHexString(num) {\n    var str = num.toString(16);\n\n    while (str.length < 2) {\n        str = '0' + str;\n    }\n\n    return str;\n}\n\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n *\n * @param {number[]} ref\n * @returns {string}\n */\nfunction toColorHexString(ref) {\n    var results = [];\n\n    for (var j = 0, len = ref.length; j < len; j++) {\n        results.push(toHexString(ref[j]));\n    }\n\n    return '#' + results.join('');\n}\n\n/**\n * @param {Array} stack\n * @param {string} token\n * @param {*} data\n * @param {object} options\n */\nfunction generateOutput(stack, token, data, options) {\n    var result;\n\n    if (token === 'text') {\n        result = pushText(data, options);\n    } else if (token === 'display') {\n        result = handleDisplay(stack, data, options);\n    } else if (token === 'xterm256') {\n        result = handleXterm256(stack, data, options);\n    }\n\n    return result;\n}\n\nfunction handleXterm256(stack, data, options) {\n    data = data.substring(2).slice(0, -1);\n    var operation = +data.substr(0, 2);\n    var color = +data.substr(5);\n    if (operation === 38) {\n        return pushForegroundColor(stack, options.colors[color]);\n    } else {\n        return pushBackgroundColor(stack, options.colors[color]);\n    }\n}\n\n/**\n * @param {Array} stack\n * @param {number} code\n * @param {object} options\n * @returns {*}\n */\nfunction handleDisplay(stack, code, options) {\n    code = parseInt(code, 10);\n    var result;\n\n    var codeMap = {\n        '-1': function _() {\n            return '<br/>';\n        },\n        0: function _() {\n            return stack.length && resetStyles(stack);\n        },\n        1: function _() {\n            return pushTag(stack, 'b');\n        },\n        2: function _() {\n            return pushStyle(stack, 'opacity:0.6');\n        },\n        3: function _() {\n            return pushTag(stack, 'i');\n        },\n        4: function _() {\n            return pushTag(stack, 'u');\n        },\n        8: function _() {\n            return pushStyle(stack, 'display:none');\n        },\n        9: function _() {\n            return pushTag(stack, 'strike');\n        },\n        22: function _() {\n            return closeTag(stack, 'b');\n        },\n        23: function _() {\n            return closeTag(stack, 'i');\n        },\n        24: function _() {\n            return closeTag(stack, 'u');\n        },\n        39: function _() {\n            return pushForegroundColor(stack, options.fg);\n        },\n        49: function _() {\n            return pushBackgroundColor(stack, options.bg);\n        },\n    };\n\n    if (codeMap[code]) {\n        result = codeMap[code]();\n    } else if (4 < code && code < 7) {\n        result = pushTag(stack, 'blink');\n    } else if (29 < code && code < 38) {\n        result = pushForegroundColor(stack, options.colors[code - 30]);\n    } else if (39 < code && code < 48) {\n        result = pushBackgroundColor(stack, options.colors[code - 40]);\n    } else if (89 < code && code < 98) {\n        result = pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n    } else if (99 < code && code < 108) {\n        result = pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n    }\n\n    return result;\n}\n\n/**\n * Clear all the styles\n *\n * @returns {string}\n */\nfunction resetStyles(stack) {\n    var stackClone = stack.slice(0);\n\n    stack.length = 0;\n\n    return stackClone.reverse().map(function (tag) {\n        return '</' + tag + '>';\n    }).join('');\n}\n\n/**\n * Creates an array of numbers ranging from low to high\n *\n * @param {number} low\n * @param {number} high\n * @returns {Array}\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\nfunction range(low, high) {\n    var results = [];\n\n    for (var j = low; j <= high; j++) {\n        results.push(j);\n    }\n\n    return results;\n}\n\n/**\n * Returns a new function that is true if value is NOT the same category\n *\n * @param {string} category\n * @returns {Function}\n */\nfunction notCategory(category) {\n    return function (e) {\n        return (category === null || e.category !== category) && category !== 'all';\n    };\n}\n\n/**\n * Converts a code into an ansi token type\n *\n * @param {number} code\n * @returns {string}\n */\nfunction categoryForCode(code) {\n    code = parseInt(code, 10);\n    var result = null;\n\n    if (code === 0) {\n        result = 'all';\n    } else if (code === 1) {\n        result = 'bold';\n    } else if (2 < code && code < 5) {\n        result = 'underline';\n    } else if (4 < code && code < 7) {\n        result = 'blink';\n    } else if (code === 8) {\n        result = 'hide';\n    } else if (code === 9) {\n        result = 'strike';\n    } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n        result = 'foreground-color';\n    } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n        result = 'background-color';\n    }\n\n    return result;\n}\n\n/**\n * @param {string} text\n * @param {object} options\n * @returns {string}\n */\nfunction pushText(text, options) {\n    if (options.escapeXML) {\n        return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n\n    return text;\n}\n\n/**\n * @param {Array} stack\n * @param {string} tag\n * @param {string} [style='']\n * @returns {string}\n */\nfunction pushTag(stack, tag, style) {\n    if (!style) {\n        style = '';\n    }\n\n    stack.push(tag);\n\n    return ['<' + tag, style ? ' style=\"' + style + '\"' : void 0, '>'].join('');\n}\n\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\nfunction pushStyle(stack, style) {\n    return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack, color) {\n    return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack, color) {\n    return pushTag(stack, 'span', 'background-color:' + color);\n}\n\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\nfunction closeTag(stack, style) {\n    var last;\n\n    if (stack.slice(-1)[0] === style) {\n        last = stack.pop();\n    }\n\n    if (last) {\n        return '</' + style + '>';\n    }\n}\n\n/**\n * @param {string} text\n * @param {object} options\n * @param {Function} callback\n * @returns {Array}\n */\nfunction tokenize(text, options, callback) {\n    var ansiMatch = false;\n    var ansiHandler = 3;\n\n    function remove() {\n        return '';\n    }\n\n    function removeXterm256(m) {\n        callback('xterm256', m);\n        return '';\n    }\n\n    function newline(m) {\n        if (options.newline) {\n            callback('display', -1);\n        } else {\n            callback('text', m);\n        }\n\n        return '';\n    }\n\n    function ansiMess(m, g1) {\n        ansiMatch = true;\n        if (g1.trim().length === 0) {\n            g1 = '0';\n        }\n\n        g1 = g1.replace(/;+$/, '').split(';');\n\n        for (var o = 0, len = g1.length; o < len; o++) {\n            callback('display', g1[o]);\n        }\n\n        return '';\n    }\n\n    function realText(m) {\n        callback('text', m);\n\n        return '';\n    }\n\n    /* eslint no-control-regex:0 */\n    var tokens = [{\n        pattern: /^\\x08+/,\n        sub: remove,\n    }, {\n        pattern: /^\\x1b\\[[012]?K/,\n        sub: remove,\n    }, {\n        pattern: /^\\x1b\\[[34]8;5;(\\d+)m/,\n        sub: removeXterm256,\n    }, {\n        pattern: /^\\n/,\n        sub: newline,\n    }, {\n        pattern: /^\\x1b\\[((?:\\d{1,3};)*\\d{1,3}|)m/,\n        sub: ansiMess,\n    }, {\n        pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n        sub: remove,\n    }, {\n        pattern: /^([^\\x1b\\x08\\n]+)/,\n        sub: realText,\n    }];\n\n    function process(handler, i) {\n        if (i > ansiHandler && ansiMatch) {\n            return;\n        }\n\n        ansiMatch = false;\n\n        text = text.replace(handler.pattern, handler.sub);\n    }\n\n    var handler;\n    var results1 = [];\n    var length = text.length;\n\n    outer: while (length > 0) {\n        for (var i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n            handler = tokens[i];\n            process(handler, i);\n\n            if (text.length !== length) {\n                // We matched a token and removed it from the text. We need to\n                // start matching *all* tokens against the new text.\n                length = text.length;\n                continue outer;\n            }\n        }\n\n        if (text.length === length) {\n            break;\n        } else {\n            results1.push(0);\n        }\n\n        length = text.length;\n    }\n\n    return results1;\n}\n\n/**\n * If streaming, then the stack is \"sticky\"\n *\n * @param {Array} stickyStack\n * @param {string} token\n * @param {*} data\n * @returns {Array}\n */\nfunction updateStickyStack(stickyStack, token, data) {\n    if (token !== 'text') {\n        stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n        stickyStack.push({token: token, data: data, category: categoryForCode(data)});\n    }\n\n    return stickyStack;\n}\n\nfunction Filter(options) {\n    options = options || {};\n\n    if (options.colors) {\n        options.colors = _.extend(defaults.colors, options.colors);\n    }\n    this.opts = _.extend({}, defaults, options);\n    this.stack = [];\n    this.stickyStack = [];\n}\n\nFilter.prototype = {\n    toHtml: function toHtml(input) {\n        var _this = this;\n\n        input = typeof input === 'string' ? [input] : input;\n        var stack = this.stack;\n        var options = this.opts;\n        var buf = [];\n\n        this.stickyStack.forEach(function (element) {\n            var output = generateOutput(stack, element.token, element.data, options);\n\n            if (output) {\n                buf.push(output);\n            }\n        });\n\n        tokenize(input.join(''), options, function (token, data) {\n            var output = generateOutput(stack, token, data, options);\n\n            if (output) {\n                buf.push(output);\n            }\n\n            if (options.stream) {\n                _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n            }\n        });\n\n        if (stack.length) {\n            buf.push(resetStyles(stack));\n        }\n\n        return buf.join('');\n    },\n};\n\nmodule.exports = Filter;\n","// Copyright (c) 2018, Forschungzentrum Juelich GmbH, Juelich Supercomputing Centre\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// The lists of keywords, operator, functions, and subroutines have been adopted from\n//    vs.language.fortran, Copyright (c) 2015, Thomas E. Dunn\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Fortran is case insensitive, so ignore case...\n        ignoreCase: true,\n\n        defaultToken: 'invalid',\n\n        keywords: [\n            'abstract',\n            'all',\n            'allocatable',\n            'allocate',\n            'assign',\n            'assignment',\n            'asynchronous',\n            'backspace',\n            'bind',\n            'block',\n            'blockdata',\n            'character',\n            'close',\n            'common',\n            'complex',\n            'concurrent',\n            'contiguous',\n            'call',\n            'case',\n            'class',\n            'codimension',\n            'contains',\n            'continue',\n            'cycle',\n            'data',\n            'deallocate',\n            'deferred',\n            'dimension',\n            'do',\n            'double',\n            'doubleprecision',\n            'elemental',\n            'else',\n            'elsewhere',\n            'end',\n            'endblock',\n            'endblockdata',\n            'enddo',\n            'endenum',\n            'endfile',\n            'endforall',\n            'endfunction',\n            'endif',\n            'endinterface',\n            'endmodule',\n            'endprogram',\n            'endselect',\n            'endsubmodule',\n            'endsubroutine',\n            'endtype',\n            'endwhere',\n            'endwhile',\n            'entry',\n            'enum',\n            'enumerator',\n            'equivalence',\n            'error',\n            'exit',\n            'external',\n            'final',\n            'flush',\n            'forall',\n            'format',\n            'function',\n            'generic',\n            'go',\n            'goto',\n            'if',\n            'implicit',\n            'import',\n            'in',\n            'include',\n            'inout',\n            'inquire',\n            'intent',\n            'interface',\n            'intrinsic',\n            'is',\n            'logical',\n            'module',\n            'non_overridable',\n            'none',\n            'nopass',\n            'nullify',\n            'only',\n            'open',\n            'operator',\n            'optional',\n            'out',\n            'parameter',\n            'pass',\n            'pause',\n            'pointer',\n            'precision',\n            'print',\n            'private',\n            'procedure',\n            'program',\n            'protected',\n            'public',\n            'pure',\n            'read',\n            'real',\n            'recursive',\n            'result',\n            'return',\n            'rewind',\n            'save',\n            'select',\n            'sequence',\n            'stop',\n            'submodule',\n            'subroutine',\n            'target',\n            'then',\n            'to',\n            'type',\n            'use',\n            'value',\n            'volatile',\n            'wait',\n            'where',\n            'while',\n            'write',\n        ],\n\n        typeKeywords: [\n            'logical',\n            'character',\n            'real',\n            'integer',\n            'complex',\n            'type',\n            'class',\n            // add non-type keywords that make sense when combined w/ types\n            'intent',\n            'dimension',\n            'allocatable',\n            'parameter',\n            'private',\n            'public',\n        ],\n\n        operators: [\n            '=',\n            '==',\n            '/=',\n            '>',\n            '>=',\n            '<',\n            '<=',\n            '=>',\n            '+',\n            '-',\n            '*',\n            '/',\n            '**',\n            '//',\n            '.and.',\n            '.eq.',\n            '.eqv.',\n            '.le.',\n            '.lt.',\n            '.ge.',\n            '.gt.',\n            '.ne.',\n            '.neqv.',\n            '.not.',\n            '.or.',\n        ],\n\n        functions: [\n            'abs',\n            'achar',\n            'acos',\n            'acosh',\n            'adjustl',\n            'adjustr',\n            'aimag',\n            'aint',\n            'all',\n            'allocated',\n            'anint',\n            'any',\n            'asin',\n            'asinh',\n            'associated',\n            'atan',\n            'atan2',\n            'atanh',\n            'bessel_j0',\n            'bessel_j1',\n            'bessel_jn',\n            'bessel_y0',\n            'bessel_y1',\n            'bessel_yn',\n            'bge',\n            'bgt',\n            'bit_size',\n            'ble',\n            'blt',\n            'btest',\n            'c_associated',\n            'c_funloc',\n            'c_loc',\n            'c_sizeof',\n            'ceiling',\n            'char',\n            'cmplx',\n            'command_argument_count',\n            'compiler_options',\n            'compiler_version',\n            'conjg',\n            'cos',\n            'cosh',\n            'count',\n            'cshift',\n            'dble',\n            'digits',\n            'dim',\n            'dot_product',\n            'dprod',\n            'dshiftl',\n            'dshiftr',\n            'eoshift',\n            'epsilon',\n            'erf',\n            'erfc',\n            'erfc_scaled',\n            'exp',\n            'exponent',\n            'extends_type_of',\n            'findloc',\n            'floor',\n            'fraction',\n            'gamma',\n            'huge',\n            'hypot',\n            'iachar',\n            'iall',\n            'iand',\n            'iany',\n            'ibclr',\n            'ibits',\n            'ibset',\n            'ichar',\n            'ieee_class',\n            'ieee_copy_sign',\n            'ieee_is_finite',\n            'ieee_is_nan',\n            'ieee_is_normal',\n            'ieee_logb',\n            'ieee_next_after',\n            'ieee_rem',\n            'ieee_rint',\n            'ieee_scalb',\n            'ieee_selected_real_kind',\n            'ieee_support_datatype',\n            'ieee_support_denormal',\n            'ieee_support_divide',\n            'ieee_support_flag',\n            'ieee_support_halting',\n            'ieee_support_inf',\n            'ieee_support_io',\n            'ieee_support_nan',\n            'ieee_support_rounding',\n            'ieee_support_sqrt',\n            'ieee_support_standard',\n            'ieee_support_underflow_control',\n            'ieee_unordered',\n            'ieee_value',\n            'ieor',\n            'image_index',\n            'index',\n            'int',\n            'ior',\n            'iparity',\n            'ishft',\n            'ishftc',\n            'is_contiguous',\n            'is_iostat_end',\n            'is_iostat_eor',\n            'kind',\n            'lbound',\n            'lcobound',\n            'leadz',\n            'len',\n            'len_trim',\n            'lge',\n            'lgt',\n            'lle',\n            'llt',\n            'log',\n            'log_gamma',\n            'log10',\n            'logical',\n            'maskl',\n            'maskr',\n            'matmul',\n            'max',\n            'maxexponent',\n            'maxloc',\n            'maxval',\n            'merge',\n            'merge_bits',\n            'min',\n            'minexponent',\n            'minloc',\n            'minval',\n            'mod',\n            'modulo',\n            'nearest',\n            'new_line',\n            'nint',\n            'norm2',\n            'not',\n            'null',\n            'num_images',\n            'pack',\n            'parity',\n            'popcnt',\n            'poppar',\n            'precision',\n            'present',\n            'product',\n            'radix',\n            'range',\n            'real',\n            'repeat',\n            'reshape',\n            'rrspacing',\n            'same_type_as',\n            'scale',\n            'scan',\n            'selected_char_kind',\n            'selected_int_kind',\n            'selected_real_kind',\n            'set_exponent',\n            'shape',\n            'shifta',\n            'shiftl',\n            'shiftr',\n            'sign',\n            'sin',\n            'sinh',\n            'size',\n            'spacing',\n            'spread',\n            'sqrt',\n            'storage_size',\n            'sum',\n            'tan',\n            'tanh',\n            'this_image',\n            'tiny',\n            'trailz',\n            'transfer',\n            'transpose',\n            'trim',\n            'ubound',\n            'ucobound',\n            'unpack',\n            'verify',\n        ],\n\n        subroutines: [\n            'c_f_pointer',\n            'c_f_procpointer',\n            'cpu_time',\n            'date_and_time',\n            'execute_command_line',\n            'get_command',\n            'get_command_argument',\n            'get_environment_variable',\n            'ieee_get_flag',\n            'ieee_get_halting_mode',\n            'ieee_get_rounding_mode',\n            'ieee_get_status',\n            'ieee_get_underflow_mode',\n            'ieee_set_flag',\n            'ieee_set_halting_mode',\n            'ieee_set_rounding_mode',\n            'ieee_set_status',\n            'ieee_set_underflow_mode',\n            'move_alloc',\n            'mvbits',\n            'random_number',\n            'random_seed',\n            'system_clock',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identify type declarations (also functions)\n                [/[a-zA-Z][\\w$]*(?=.*(::|function))/, {\n                    cases: {\n                        '@typeKeywords': 'type.identifier',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                // identifiers and keywords\n                [/[a-zA-Z][\\w$]*/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@functions': 'keyword',\n                        '@subroutines': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                // comments\n                [/!.*$/, 'comment'],\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eEdD][-+]?\\d+)?/, 'number.float'],\n                [/[zZ]['\"][0-9a-fA-F]*[0-9a-fA-F]['\"]/, 'number.hex'],\n                [/[oO]['\"][0-7]*[0-7]['\"]/, 'number.octal'],\n                [/[bB]['\"][0-1]*[0-1]['\"]/, 'number.binary'],\n                [/\\d/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n            ],\n\n            comment: [\n                [/!/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '!',\n        },\n\n        brackets: [\n            ['(/', '/)'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`', notIn: ['string','comment']},\n            {open: \"'\", close: \"'\", notIn: ['string','comment']},\n            {open: '\"', close: '\"', notIn: ['string']},\n        ],\n\n        surroundingPairs: [\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`'},\n            {open: \"'\", close: \"'\"},\n            {open: '\"', close: '\"'},\n        ],\n\n        indentationRules: {\n            decreaseIndentPattern: /(end\\s*(do|if|function|subroutine|program|module|block|associate|forall|select))|else|(^((?!select).)*(case))/,\n            increaseIndentPattern: /(^((?!end).)*(do\\s|if(\\s|\\().*then|function\\s|subroutine\\s|program\\s|module\\s|block\\s*|associate(\\s|\\()|forall|case)|else)/,\n            unIndentedLinePattern: null,\n        },\n    };\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'fortran'});\nmonaco.languages.setMonarchTokensProvider('fortran', def);\nmonaco.languages.setLanguageConfiguration('fortran', configuration());\n\nmodule.exports = def;\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar FontScale = require('../fontscale');\nvar AnsiToHtml = require('../ansi-to-html');\nvar Toggles = require('../toggles');\nvar ga = require('../analytics');\nvar monaco = require('monaco-editor');\nvar monacoConfig = require('../monaco-config');\nvar ceoptions = require('../options');\nrequire('../modes/asm6502-mode');\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\nfunction Tool(hub, container, state) {\n    this.container = container;\n    this.compilerId = state.compiler;\n    this.editorId = state.editor;\n    this.toolId = state.toolId;\n    this.toolName = 'Tool';\n    this.compilerService = hub.compilerService;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#tool-output').html());\n    this.editorContentRoot = this.domRoot.find('.monaco-placeholder');\n    this.plainContentRoot = this.domRoot.find('pre.content');\n    this.optionsToolbar = this.domRoot.find('.options-toolbar');\n    this.badLangToolbar = this.domRoot.find('.bad-lang');\n    this.compilerName = '';\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.optionsField = this.domRoot.find('input.options');\n    this.stdinField = this.domRoot.find('textarea.tool-stdin');\n\n    this.outputEditor = monaco.editor.create(this.editorContentRoot[0], monacoConfig.extendConfig({\n        readOnly: true,\n        language: 'text',\n        fontFamily: 'courier new',\n        lineNumbersMinChars: 5,\n        renderIndentGuides: false,\n    }));\n\n    this.fontScale = new FontScale(this.domRoot, state, '.content');\n    this.fontScale.on('change', _.bind(function () {\n        this.saveState();\n    }, this));\n\n    this.initButtons(state);\n    this.options = new Toggles(this.domRoot.find('.options'), state);\n    this.options.on('change', _.bind(this.onOptionsChange, this));\n\n    this.initArgs(state);\n    this.initCallbacks();\n\n    this.onOptionsChange();\n    this.updateCompilerName();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Tool',\n    });\n\n    this.eventHub.emit('toolOpened', this.compilerId, this.currentState());\n    this.eventHub.emit('requestSettings');\n}\n\nTool.prototype.initCallbacks = function () {\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('destroy', this.close, this);\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.toggleArgs.on('click', _.bind(function () {\n        this.togglePanel(this.toggleArgs, this.panelArgs);\n    }, this));\n\n    this.toggleStdin.on('click', _.bind(function () {\n        this.togglePanel(this.toggleStdin, this.panelStdin);\n    }, this));\n\n    if (MutationObserver !== undefined) {\n        new MutationObserver(_.bind(this.resize, this)).observe(this.stdinField[0], {\n            attributes: true, attributeFilter: ['style'],\n        });\n    }\n};\n\nTool.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (this.editorId === editorId) {\n        var tools = ceoptions.tools[newLangId];\n        this.toggleUsable(tools && tools[this.toolId]);\n    }\n};\n\nTool.prototype.toggleUsable = function (isUsable) {\n    if (isUsable) {\n        this.plainContentRoot.css('opacity', '1');\n        this.badLangToolbar.hide();\n        this.optionsToolbar.show();\n    } else {\n        this.plainContentRoot.css('opacity', '0.5');\n        this.optionsToolbar.hide();\n        this.badLangToolbar.show();\n    }\n};\n\nTool.prototype.onSettingsChange = function (newSettings) {\n    this.outputEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nTool.prototype.initArgs = function (state) {\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n\n        this.eventHub.emit('toolSettingsChange', this.compilerId);\n    }, this), 800);\n\n    if (this.optionsField) {\n        this.optionsField\n            .on('change', optionsChange)\n            .on('keyup', optionsChange);\n\n        if (state.args) {\n            this.optionsField.val(state.args);\n        }\n    }\n\n    if (this.stdinField) {\n        this.stdinField\n            .on('change', optionsChange)\n            .on('keyup', optionsChange);\n\n        if (state.stdin) {\n            this.stdinField.val(state.stdin);\n        }\n    }\n};\n\nTool.prototype.getInputArgs = function () {\n    if (this.optionsField) {\n        return this.optionsField.val();\n    } else {\n        return '';\n    }\n};\n\nTool.prototype.getInputStdin = function () {\n    if (this.stdinField) {\n        return this.stdinField.val();\n    } else {\n        return '';\n    }\n};\n\nTool.prototype.getEffectiveOptions = function () {\n    return this.options.get();\n};\n\nTool.prototype.resize = function () {\n    var barsHeight = this.optionsToolbar.outerHeight() + 2;\n    if (!this.panelArgs.hasClass('d-none')) {\n        barsHeight += this.panelArgs.outerHeight();\n    }\n    if (!this.panelStdin.hasClass('d-none')) {\n        barsHeight += this.panelStdin.outerHeight();\n    }\n\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - barsHeight,\n    });\n\n    this.plainContentRoot.height(this.domRoot.height() - barsHeight);\n};\n\nTool.prototype.onOptionsChange = function () {\n    var options = this.getEffectiveOptions();\n    this.plainContentRoot.toggleClass('wrap', options.wrap);\n    this.wrapButton.prop('title', '[' + (options.wrap ? 'ON' : 'OFF') + '] ' + this.wrapTitle);\n\n    this.saveState();\n};\n\nTool.prototype.initButtons = function (state) {\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n\n    this.panelArgs = this.domRoot.find('.panel-args');\n    this.panelStdin = this.domRoot.find('.panel-stdin');\n\n    this.initToggleButtons(state);\n};\n\nTool.prototype.initToggleButtons = function (state) {\n    this.toggleArgs = this.domRoot.find('.toggle-args');\n    this.toggleStdin = this.domRoot.find('.toggle-stdin');\n\n    if (state.argsPanelShown === true) {\n        this.showPanel(this.toggleArgs, this.panelArgs);\n    }\n\n    if (state.stdinPanelShown === true) {\n        this.showPanel(this.toggleStdin, this.panelStdin);\n    }\n};\n\nTool.prototype.showPanel = function (button, panel) {\n    panel.removeClass('d-none');\n    button.addClass('active');\n    this.resize();\n};\n\nTool.prototype.hidePanel = function (button, panel) {\n    panel.addClass('d-none');\n    button.removeClass('active');\n    this.resize();\n};\n\nTool.prototype.togglePanel = function (button, panel) {\n    if (panel.hasClass('d-none')) {\n        this.showPanel(button, panel);\n    } else {\n        this.hidePanel(button, panel);\n    }\n    this.saveState();\n};\n\nTool.prototype.currentState = function () {\n    var options = this.getEffectiveOptions();\n    var state = {\n        compiler: this.compilerId,\n        editor: this.editorId,\n        wrap: options.wrap,\n        toolId: this.toolId,\n        args: this.getInputArgs(),\n        stdin: this.getInputStdin(),\n        stdinPanelShown: !this.panelStdin.hasClass('d-none'),\n        argsPanelShow: !this.panelArgs.hasClass('d-none'),\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nTool.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nTool.prototype.setLanguage = function (languageId) {\n    if (languageId) {\n        this.options.enableToggle('wrap', false);\n        monaco.editor.setModelLanguage(this.outputEditor.getModel(), languageId);\n        this.outputEditor.setValue('');\n        this.fontScale.setTarget(this.outputEditor);\n        $(this.plainContentRoot).hide();\n        $(this.editorContentRoot).show();\n    } else {\n        this.options.enableToggle('wrap', true);\n        this.plainContentRoot.empty();\n        this.fontScale.setTarget('.content');\n        $(this.editorContentRoot).hide();\n        $(this.plainContentRoot).show();\n    }\n};\n\nTool.prototype.onCompileResult = function (id, compiler, result) {\n    try{\n        if (id !== this.compilerId) return;\n        if (compiler) this.compilerName = compiler.name;\n\n        var foundTool = _.find(compiler.tools, function (tool) {\n            return (tool.tool.id === this.toolId);\n        }, this);\n\n        this.toggleUsable(foundTool);\n\n        var toolResult = null;\n        if (result && result.tools) {\n            toolResult = _.find(result.tools, function (tool) {\n                return (tool.id === this.toolId);\n            }, this);\n        }\n\n        var toolInfo = null;\n        if (compiler && compiler.tools) {\n            toolInfo = _.find(compiler.tools, function (tool) {\n                return (tool.tool.id === this.toolId);\n            }, this);\n        }\n\n        if (toolInfo) {\n            this.toggleStdin.prop('disabled', false);\n\n            if (toolInfo.tool.stdinHint) {\n                this.stdinField.prop('placeholder', toolInfo.tool.stdinHint);\n                if (toolInfo.tool.stdinHint === 'disabled') {\n                    this.toggleStdin.prop('disabled', true);\n                } else {\n                    this.showPanel(this.toggleStdin, this.panelStdin);\n                }\n            } else {\n                this.stdinField.prop('placeholder', 'Tool stdin...');\n            }\n        }\n\n        if (toolResult) {\n            if (toolResult.languageId && (toolResult.languageId === 'stderr')) {\n                toolResult.languageId = false;\n            }\n\n            this.setLanguage(toolResult.languageId);\n\n            if (toolResult.languageId) {\n                this.setEditorContent(_.pluck(toolResult.stdout, 'text').join('\\n'));\n            } else {\n                _.each((toolResult.stdout || []).concat(toolResult.stderr || []), function (obj) {\n                    if (obj.text === '') {\n                        this.add('<br/>');\n                    } else {\n                        this.add(this.normalAnsiToHtml.toHtml(obj.text), obj.tag ? obj.tag.line : obj.line);\n                    }\n                }, this);\n            }\n\n            this.toolName = toolResult.name;\n            this.updateCompilerName();\n\n            if (toolResult.sourcechanged) {\n                this.eventHub.emit('newSource', this.editorId, toolResult.newsource);\n            }\n        } else {\n            this.setEditorContent('No tool result');\n        }\n    } catch(e) {\n        this.setLanguage(false);\n        this.add('javascript error: ' + e.message);\n    }\n};\n\nTool.prototype.add = function (msg, lineNum) {\n    var elem = $('<div/>').appendTo(this.plainContentRoot);\n    if (lineNum) {\n        elem.html(\n            $('<a></a>')\n                .prop('href', 'javascript:;')\n                .html(msg)\n                .click(_.bind(function (e) {\n                    this.eventHub.emit('editorSetDecoration', this.editorId, lineNum, true);\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    this.eventHub.emit('editorSetDecoration', this.editorId, lineNum, false);\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nTool.prototype.setEditorContent = function (content) {\n    if (!this.outputEditor || !this.outputEditor.getModel()) return;\n    var editorModel = this.outputEditor.getModel();\n    var visibleRanges = this.outputEditor.getVisibleRanges();\n    var currentTopLine = visibleRanges.length > 0 ? visibleRanges[0].startLineNumber : 1;\n    editorModel.setValue(content);\n    this.outputEditor.revealLine(currentTopLine);\n    this.setNormalContent();\n};\n\nTool.prototype.setNormalContent = function () {\n    this.outputEditor.updateOptions({\n        lineNumbers: true,\n        codeLens: false,\n    });\n    if (this.codeLensProvider) {\n        this.codeLensProvider.dispose();\n    }\n};\n\nTool.prototype.updateCompilerName = function () {\n    var name = this.toolName + ' #' + this.compilerId;\n    if (this.compilerName) name += ' with ' + this.compilerName;\n    this.container.setTitle(name);\n};\n\nTool.prototype.onCompilerClose = function (id) {\n    if (id === this.compilerId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nTool.prototype.close = function () {\n    this.eventHub.emit('toolClosed', this.compilerId, this.currentState());\n    this.eventHub.unsubscribe();\n    this.outputEditor.dispose();\n};\n\nmodule.exports = {\n    Tool: Tool,\n};\n","// Copyright (c) 2017, Rubén Rincón\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\n// We need to create a new definition for cpp so we can remove invalid keywords\n\nfunction definition() {\n    var cppp = $.extend(true, {}, cpp.language); // deep copy\n\n    function removeKeyword(keyword) {\n        var index = cppp.keywords.indexOf(keyword);\n        if (index > -1) {\n            cppp.keywords.splice(index, 1);\n        }\n    }\n\n    function removeKeywords(keywords) {\n        for (var i = 0; i < keywords.length; ++i) {\n            removeKeyword(keywords[i]);\n        }\n    }\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cppp.keywords.push(keywords[i]);\n        }\n    }\n\n    // We remove everything that's not an identifier, underscore reserved name and not an official C++ keyword...\n    // Regarding #617, final is a identifier with special meaning, not a fully qualified keyword\n    removeKeywords(['abstract', 'amp', 'array', 'cpu', 'delegate', 'each', 'event', 'finally', 'gcnew',\n        'generic', 'in', 'initonly', 'interface', 'interior_ptr', 'internal', 'literal', 'partial', 'pascal',\n        'pin_ptr', 'property', 'ref', 'restrict', 'safe_cast', 'sealed', 'title_static', 'where']);\n\n    addKeywords(['alignas', 'alignof', 'and', 'and_eq', 'asm', 'bitand', 'bitor', 'char8_t', 'char16_t',\n        'char32_t', 'compl', 'concept', 'consteval', 'constinit', 'co_await', 'co_return', 'co_yield', 'not', 'not_eq',\n        'or', 'or_eq', 'requires', 'xor', 'xor_eq']);\n\n    return cppp;\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'cppp'});\nmonaco.languages.setLanguageConfiguration('cppp', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cppp', def);\n\nmodule.exports = def;\n","// Copyright (c) 2019, Ray Imber \n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    // Nim language definition\n    \n    return {\n        keywords: [\n            'addr', 'as', 'asm',\n            'bind', 'block', 'break',\n            'case', 'cast', 'concept', 'const', 'continue', 'converter',\n            'defer', 'discard', 'distinct', 'div', 'do',\n            'elif', 'else', 'end', 'enum', 'except', 'export',\n            'finally', 'for', 'from', 'func',\n            'if', 'import', 'include', 'interface', 'iterator',\n            'let',\n            'macro', 'method', 'mixin', 'mod',\n            'nil',\n            'object', 'out',\n            'proc', 'ptr',\n            'raise', 'ref', 'return',\n            'static',\n            'template', 'try', 'tuple', 'type',\n            'using',\n            'var',\n            'when', 'while',\n            'yield',\n            'push', 'pop',\n        ],\n        operators: [\n            '=', '+', '-', '*', '/', '<', '>',\n            '@', '$', '~', '&', '%', '|',\n            '!', '?', '^', '.', ':', '\\\\',\n        ],\n        wordOperators: [\n            'and', 'or', 'not', 'xor', 'shl', 'shr', 'div', 'mod', 'in', 'notin', 'is', 'isnot', 'of',\n        ],\n        symbols: /[=><!~&|+\\-*/^%]+/,\n        escapes: /\\\\(p|r|c|n|l|f|t|v|a|b|e|\\\\|\"|'|\\d+|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\\{[0-9a-fA-F]+\\})/,\n        charEscapes: /\\\\(r|c|n|l|f|t|v|a|b|e|\\\\|\"|'|x[0-9a-fA-F]{2})/,\n        \n        hexNumber: /0(x|X)[0-9a-fA-F](_?[0-9a-fA-F])*/,\n        decNumber: /\\d(_?\\d)*/, \n        octNumber: /0o[0-7](_?[0-7])*/,\n        binNumber: /0(b|B)[0-1](_?[0-1])*/,\n        exponent: /(e|E)(\\+|-)?\\d(_?\\d)*/,\n        brackets: [\n            ['{','}','delimiter.curly'],\n            ['{.','.}','delimiter.curly'],\n            ['[',']','delimiter.square'],\n            ['[:',']','delimiter.square'],\n            ['[.','.]','delimiter.square'],\n            ['(',')','delimiter.parenthesis'],\n            ['(.','.)','delimiter.parenthesis'],\n            ['<','>','delimiter.angle'],\n        ],\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                [/[A-Za-z]([_]?\\w)*/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@wordOperators': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                {include: '@whitespace'},\n                [/([:|[[{(]\\.|\\.[\\]})]|[[\\]{}()])/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // number literals\n                // floats\n                [/@decNumber(\\.@decNumber(@exponent)|@exponent)(')?(f|F|d|D)(32|64)?/, 'number.float'], \n                [/(@decNumber|@octNumber|@binNumber)(')?(f|F|d|D)(32|64)?/, 'number.float'],\n                [/@hexNumber'(f|F|d|D)(32|64)?/, 'number.float'],\n\n                // ints\n                [/@hexNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.hex'],\n                [/@octNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.octal'],\n                [/@binNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.binary'],\n\n                [/@decNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number'],\n              \n                // char literals\n                [/'/, 'string', '@character'],\n\n                // strings\n                [/(r|R)\"/, 'string', '@rawString'],\n                [/\"\"\"/, 'string', '@tripleQuoteString'],\n                [/\"(?!\")/, 'string', '@string'],\n            ],\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/#\\[/, 'comment', '@comment'],\n                [/#.*$/, 'comment'],\n            ],\n            comment: [\n                [/[^\\]#]/, 'comment'],\n                [/\\]#/, 'comment', '@pop'],\n            ],\n            string: [\n                [/@escapes/, 'string.escape'],\n                [/\"/, 'string', '@pop'],\n            ],\n            tripleQuoteString: [\n                [/\"\"\"/, 'string', '@pop'],\n            ],\n            rawString: [\n                [/\"/, 'string', '@pop'],\n            ],\n            character: [\n                [/@charEscapes/, 'string.escape'],\n                [/'/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'nim'});\nmonaco.languages.setMonarchTokensProvider('nim', definition());\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: 'invalid',\n\n        keywords: [\n            'abstract',\n            'alias',\n            'align',\n            'asm',\n            'assert',\n            'auto',\n            'body',\n            'bool',\n            'break',\n            'byte',\n            'case',\n            'cast',\n            'catch',\n            'cdouble',\n            'cent',\n            'cfloat',\n            'char',\n            'class',\n            'const',\n            'continue',\n            'creal',\n            'dchar',\n            'debug',\n            'default',\n            'delegate',\n            'delete ',\n            'deprecated',\n            'do',\n            'double',\n            'else',\n            'enum',\n            'export',\n            'extern',\n            'false',\n            'final',\n            'finally',\n            'float',\n            'for',\n            'foreach',\n            'foreach_reverse',\n            'function',\n            'goto',\n            'idouble',\n            'if',\n            'ifloat',\n            'immutable',\n            'import',\n            'in',\n            'inout',\n            'int',\n            'interface',\n            'invariant',\n            'ireal',\n            'is',\n            'lazy',\n            'long',\n            'macro',\n            'mixin',\n            'module',\n            'new',\n            'nothrow',\n            'null',\n            'out',\n            'override',\n            'package',\n            'pragma',\n            'private',\n            'protected',\n            'public',\n            'pure',\n            'real',\n            'ref',\n            'return',\n            'scope',\n            'shared',\n            'short',\n            'static',\n            'struct',\n            'super',\n            'switch',\n            'synchronized',\n            'template',\n            'this',\n            'throw',\n            'true',\n            'try',\n            'typedef',\n            'typeid',\n            'typeof',\n            'ubyte',\n            'ucent',\n            'uint',\n            'ulong',\n            'union',\n            'unittest',\n            'ushort',\n            'version',\n            'void',\n            'volatile',\n            'wchar',\n            'while',\n            'with',\n            '__FILE__',\n            '__FILE_FULL_PATH__',\n            '__MODULE__',\n            '__LINE__',\n            '__FUNCTION__',\n            '__PRETTY_FUNCTION__',\n            '__gshared',\n            '__traits',\n            '__vector',\n            '__parameters'],\n\n        typeKeywords: [\n            'bool', 'byte', 'ubyte', 'short', 'ushort', 'int', 'uint', 'long', 'ulong', 'char', 'wchar', 'dchar',\n            'float', 'double', 'real', 'ifloat', 'idouble', 'ireal', 'cfloat', 'cdouble', 'creal', 'void',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':',\n            '==', '<=', '>=', '!=', '&&', '||', '++', '--',\n            '+', '-', '*', '/', '&', '|', '^', '%', '<<',\n            '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=',\n            '^=', '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+[lL]?/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n                [/`/, 'string', '@rawstring'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\+/, 'comment', '@nestingcomment'],\n                [/\\/\\/.*$/, 'comment'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            nestingcomment: [\n                [/[^/+]+/, 'comment'],\n                [/\\/\\+/, 'comment', '@push'],\n                [/\\/\\+/, 'comment.invalid'],\n                [/\\+\\//, 'comment', '@pop'],\n                [/[/+]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n\n            rawstring: [\n                [/[^`]/, 'string'],\n                [/`/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '//',\n            blockComment: ['/*', '*/'],\n        },\n\n        brackets: [\n            ['{', '}'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            {open: '{', close: '}'},\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`', notIn: ['string']},\n            {open: '\"', close: '\"', notIn: ['string']},\n            {open: '\\'', close: '\\'', notIn: ['string', 'comment']},\n        ],\n\n        surroundingPairs: [\n            {open: '{', close: '}'},\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`'},\n            {open: '\"', close: '\"'},\n            {open: '\\'', close: '\\''},\n        ],\n    };\n}\n\nmonaco.languages.register({id: 'd'});\nmonaco.languages.setMonarchTokensProvider('d', definition());\nmonaco.languages.setLanguageConfiguration('d', configuration());\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\n// setup analytics before anything else so we can capture any future errors in sentry\nvar analytics = require('./analytics');\n\n// eslint-disable-next-line requirejs/no-js-extension\nrequire('popper.js');\nrequire('bootstrap');\nrequire('bootstrap-slider');\n\nvar sharing = require('./sharing');\nvar _ = require('underscore');\nvar cloneDeep = require('lodash.clonedeep');\nvar $ = require('jquery');\nvar GoldenLayout = require('golden-layout');\nvar Components = require('./components');\nvar url = require('./url');\nvar clipboard = require('clipboard');\nvar Hub = require('./hub');\nvar Sentry = require('@sentry/browser');\nvar settings = require('./settings');\nvar local = require('./local');\nvar Alert = require('./alert');\nvar themer = require('./themes');\nvar motd = require('./motd');\nvar jsCookie = require('js-cookie');\nvar SimpleCook = require('./simplecook');\nvar History = require('./history');\nvar HistoryWidget = require('./history-widget').HistoryWidget;\nvar presentation = require('./presentation');\n\n//css\nrequire('bootstrap/dist/css/bootstrap.min.css');\nrequire('golden-layout/src/css/goldenlayout-base.css');\nrequire('selectize/dist/css/selectize.bootstrap2.css');\nrequire('bootstrap-slider/dist/css/bootstrap-slider.css');\nrequire('./colours.scss');\nrequire('./explorer.scss');\n\n// Check to see if the current unload is a UI reset.\n// Forgive me the global usage here\nvar hasUIBeenReset = false;\nvar simpleCooks = new SimpleCook();\nvar historyWidget = new HistoryWidget();\n\n// Polyfill includes for IE11 - From MDN\nif (!String.prototype.includes) {\n    String.prototype.includes = function (search, start) {\n        if (search instanceof RegExp) {\n            throw TypeError('first argument must not be a RegExp');\n        }\n        if (start === undefined) {\n            start = 0;\n        }\n        return this.indexOf(search, start) !== -1;\n    };\n}\n\nfunction setupSettings(hub) {\n    var eventHub = hub.layout.eventHub;\n    var defaultSettings = {\n        defaultLanguage: hub.defaultLangId,\n    };\n    var currentSettings = JSON.parse(local.get('settings', null)) || defaultSettings;\n\n    function onChange(newSettings) {\n        if (currentSettings.theme !== newSettings.theme) {\n            analytics.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'ThemeChange',\n                eventAction: newSettings.theme,\n            });\n        }\n        if (currentSettings.colourScheme !== newSettings.colourScheme) {\n            analytics.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'ColourSchemeChange',\n                eventAction: newSettings.colourScheme,\n            });\n        }\n        currentSettings = newSettings;\n        local.set('settings', JSON.stringify(newSettings));\n        eventHub.emit('settingsChange', newSettings);\n    }\n\n    new themer.Themer(eventHub, currentSettings);\n\n    eventHub.on('requestSettings', function () {\n        eventHub.emit('settingsChange', currentSettings);\n    });\n\n    var setSettings = settings($('#settings'), currentSettings, onChange, hub.subdomainLangId);\n    eventHub.on('modifySettings', function (newSettings) {\n        setSettings(_.extend(currentSettings, newSettings));\n    });\n    return currentSettings;\n}\n\nfunction hasCookieConsented(options) {\n    return jsCookie.get(options.policies.cookies.key) === options.policies.cookies.hash;\n}\n\nfunction isMobileViewer() {\n    return window.compilerExplorerOptions.mobileViewer;\n}\n\nfunction calcLocaleChangedDate(policyModal) {\n    var timestamp = policyModal.find('#changed-date');\n    timestamp.text(new Date(timestamp.attr('datetime')).toLocaleString());\n}\n\nfunction setupButtons(options) {\n    var alertSystem = new Alert();\n\n    // I'd like for this to be the only function used, but it gets messy to pass the callback function around,\n    // so we instead trigger a click here when we want it to open with this effect. Sorry!\n    if (options.policies.privacy.enabled) {\n        $('#privacy').click(function (event, data) {\n            var modal = alertSystem.alert(\n                data && data.title ? data.title : 'Privacy policy',\n                require('./policies/privacy.html')\n            );\n            calcLocaleChangedDate(modal);\n            // I can't remember why this check is here as it seems superfluous\n            if (options.policies.privacy.enabled) {\n                jsCookie.set(options.policies.privacy.key, options.policies.privacy.hash, {expires: 365});\n            }\n        });\n    }\n\n    if (options.policies.cookies.enabled) {\n        var getCookieTitle = function () {\n            return 'Cookies &amp; related technologies policy<br><p>Current consent status: <span style=\"color:' +\n                (hasCookieConsented(options) ? 'green' : 'red') + '\">' +\n                (hasCookieConsented(options) ? 'Granted' : 'Denied') + '</span></p>';\n        };\n        $('#cookies').click(function () {\n            var modal = alertSystem.ask(getCookieTitle(), $(require('./policies/cookies.html')), {\n                yes: function () {\n                    simpleCooks.callDoConsent.apply(simpleCooks);\n                },\n                yesHtml: 'Consent',\n                no: function () {\n                    simpleCooks.callDontConsent.apply(simpleCooks);\n                },\n                noHtml: 'Do NOT consent',\n            });\n            calcLocaleChangedDate(modal);\n        });\n    }\n\n    $('#ui-reset').click(function () {\n        local.remove('gl');\n        hasUIBeenReset = true;\n        window.history.replaceState(null, null, window.httpRoot);\n        window.location.reload();\n    });\n\n    $('#ui-duplicate').click(function () {\n        window.open('/', '_blank');\n    });\n\n    $('#changes').click(function () {\n        alertSystem.alert('Changelog', $(require('./changelog.html')));\n    });\n\n    $('#ces').click(function () {\n        $.get(window.location.origin + window.httpRoot + 'bits/sponsors.html')\n            .done(function (data) {\n                alertSystem.alert('Compiler Explorer Sponsors', data);\n                analytics.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Sponsors',\n                    eventAction: 'open',\n                });\n            })\n            .fail(function (err) {\n                var result = err.responseText || JSON.stringify(err);\n                alertSystem.alert('Compiler Explorer Sponsors',\n                    '<div>Unable to fetch sponsors:</div><div>' + result + '</div>');\n            });\n    });\n\n    $('#ui-history').click(function () {\n        historyWidget.run(function (data) {\n            local.set('gl', JSON.stringify(data.config));\n            hasUIBeenReset = true;\n            window.history.replaceState(null, null, window.httpRoot);\n            window.location.reload();\n        });\n\n        $('#history').modal();\n    });\n\n    if (isMobileViewer() && window.compilerExplorerOptions.slides && window.compilerExplorerOptions.slides.length > 1) {\n        $('#share').remove();\n        $('.ui-presentation-control').removeClass('d-none');\n        $('.ui-presentation-first').click(presentation.first);\n        $('.ui-presentation-prev').click(presentation.prev);\n        $('.ui-presentation-next').click(presentation.next);\n    }\n}\n\nfunction findConfig(defaultConfig, options) {\n    var config = null;\n    if (!options.embedded) {\n        if (options.slides) {\n            presentation.init(window.compilerExplorerOptions.slides.length);\n            var currentSlide = presentation.getCurrentSlide();\n            if (currentSlide < options.slides.length) {\n                config = options.slides[currentSlide];\n            } else {\n                presentation.setCurrentSlide(0);\n                config = options.slides[0];\n            }\n        } else {\n            if (options.config) {\n                config = options.config;\n            } else {\n                config = url.deserialiseState(window.location.hash.substr(1));\n            }\n\n            if (config) {\n                // replace anything in the default config with that from the hash\n                config = _.extend(defaultConfig, config);\n            }\n            if (!config) {\n                var savedState = local.get('gl', null);\n                config = savedState !== null ? JSON.parse(savedState) : defaultConfig;\n            }\n        }\n    } else {\n        config = _.extend(defaultConfig, {\n            settings: {\n                showMaximiseIcon: false,\n                showCloseIcon: false,\n                hasHeaders: false,\n            },\n        }, sharing.configFromEmbedded(window.location.hash.substr(1)));\n    }\n    return config;\n}\n\nfunction initializeResetLayoutLink() {\n    var currentUrl = document.URL;\n    if (currentUrl.includes('/z/')) {\n        $('#ui-brokenlink').attr('href', currentUrl.replace('/z/', '/resetlayout/'));\n        $('#ui-brokenlink').show();\n    } else {\n        $('#ui-brokenlink').hide();\n    }\n}\n\nfunction initPolicies(options) {\n    // Ensure old cookies are removed, to avoid user confusion\n    jsCookie.remove('fs_uid');\n    jsCookie.remove('cookieconsent_status');\n    if (options.policies.privacy.enabled) {\n        if (jsCookie.get(options.policies.privacy.key) == null) {\n            $('#privacy').trigger('click', {\n                title: 'New Privacy Policy. Please take a moment to read it',\n            });\n        } else if (options.policies.privacy.hash !== jsCookie.get(options.policies.privacy.key)) {\n            // When the user has already accepted the privacy, just show a pretty notification.\n            var ppolicyBellNotification = $('#policyBellNotification');\n            var pprivacyBellNotification = $('#privacyBellNotification');\n            var pcookiesBellNotification = $('#cookiesBellNotification');\n            ppolicyBellNotification.removeClass('d-none');\n            pprivacyBellNotification.removeClass('d-none');\n            $('#privacy').on('click', function () {\n                // Only hide if the other policy does not also have a bell\n                if (pcookiesBellNotification.hasClass('d-none')) {\n                    ppolicyBellNotification.addClass('d-none');\n                }\n                pprivacyBellNotification.addClass('d-none');\n            });\n        }\n    }\n    simpleCooks.onDoConsent = function () {\n        jsCookie.set(options.policies.cookies.key, options.policies.cookies.hash, {expires: 365});\n        analytics.toggle(true);\n    };\n    simpleCooks.onDontConsent = function () {\n        analytics.toggle(false);\n        jsCookie.set(options.policies.cookies.key, '');\n    };\n    simpleCooks.onHide = function () {\n        var spolicyBellNotification = $('#policyBellNotification');\n        var sprivacyBellNotification = $('#privacyBellNotification');\n        var scookiesBellNotification = $('#cookiesBellNotification');\n        // Only hide if the other policy does not also have a bell\n        if (sprivacyBellNotification.hasClass('d-none')) {\n            spolicyBellNotification.addClass('d-none');\n        }\n        scookiesBellNotification.addClass('d-none');\n        $(window).trigger('resize');\n    };\n    // '' means no consent. Hash match means consent of old. Null means new user!\n    var storedCookieConsent = jsCookie.get(options.policies.cookies.key);\n    if (options.policies.cookies.enabled) {\n        if (storedCookieConsent !== '' && options.policies.cookies.hash !== storedCookieConsent) {\n            simpleCooks.show();\n            var cpolicyBellNotification = $('#policyBellNotification');\n            var cprivacyBellNotification = $('#privacyBellNotification');\n            var ccookiesBellNotification = $('#cookiesBellNotification');\n            cpolicyBellNotification.removeClass('d-none');\n            ccookiesBellNotification.removeClass('d-none');\n            $('#cookies').on('click', function () {\n                if (cprivacyBellNotification.hasClass('d-none')) {\n                    cpolicyBellNotification.addClass('d-none');\n                }\n                ccookiesBellNotification.addClass('d-none');\n            });\n        } else if (hasCookieConsented(options)) {\n            analytics.initialise();\n        }\n    }\n}\n\nfunction filterComponentState(config, keysToRemove) {\n    function filterComponentStateImpl(component) {\n        if (component.content) {\n            for (var i = 0; i < component.content.length; i++) {\n                filterComponentStateImpl(component.content[i], keysToRemove);\n            }\n        }\n\n        if (component.componentState) {\n            Object.keys(component.componentState)\n                .filter(function (key) { return keysToRemove.includes(key); })\n                .forEach(function (key) { delete component.componentState[key]; });\n        }\n    }\n\n    config = cloneDeep(config);\n    filterComponentStateImpl(config);\n    return config;\n}\n\n/*\n * this nonsense works around a bug in goldenlayout where a config can be generated\n * that contains a flag indicating there is a maximized item which does not correspond\n * to any items that actually exist in the config.\n *\n * See https://github.com/compiler-explorer/compiler-explorer/issues/2056\n */\nfunction removeOrphanedMaximisedItemFromConfig(config) {\n    // nothing to do if the maximised item id is not set\n    if (config.maximisedItemId !== '__glMaximised') return;\n\n    var found = false;\n    function impl(component) {\n        if (component.id === '__glMaximised') {\n            found = true;\n            return;\n        }\n\n        if (component.content) {\n            for (var i = 0; i < component.content.length; i++) {\n                impl(component.content[i]);\n                if (found) return;\n            }\n        }\n    }\n\n    impl(config);\n\n    if (!found) {\n        config.maximisedItemId = null;\n    }\n}\n\n// eslint-disable-next-line max-statements\nfunction start() {\n    initializeResetLayoutLink();\n\n    var options = require('options');\n\n    var hostnameParts = window.location.hostname.split('.');\n    var subLangId = undefined;\n    // Only set the subdomain lang id if it makes sense to do so\n    if (hostnameParts.length > 0) {\n        var subdomainPart = hostnameParts[0];\n        var langBySubdomain = _.find(options.languages, function (lang) {\n            return lang.id === subdomainPart || lang.alias.indexOf(subdomainPart) !== -1;\n        });\n        if (langBySubdomain) {\n            subLangId = langBySubdomain.id;\n        }\n    }\n    var defaultLangId = subLangId;\n    if (!defaultLangId) {\n        if (options.languages['c++']) {\n            defaultLangId = 'c++';\n        } else {\n            defaultLangId = _.keys(options.languages)[0];\n        }\n    }\n\n    // Cookie domains are matched as a RE against the window location. This allows a flexible\n    // way that works across multiple domains (e.g. godbolt.org and compiler-explorer.com).\n    // We allow this to be configurable so that (for example), gcc.godbolt.org and d.godbolt.org\n    // share the same cookie domain for some settings.\n    var cookieDomain = new RegExp(options.cookieDomainRe).exec(window.location.hostname);\n    if (cookieDomain && cookieDomain[0]) {\n        cookieDomain = cookieDomain[0];\n        jsCookie.defaults.domain = cookieDomain;\n    }\n\n    var defaultConfig = {\n        settings: {showPopoutIcon: false},\n        content: [{\n            type: 'row',\n            content: [\n                Components.getEditor(1, defaultLangId),\n                Components.getCompiler(1, defaultLangId),\n            ],\n        }],\n    };\n\n    $(window).bind('hashchange', function () {\n        // punt on hash events and just reload the page if there's a hash\n        if (window.location.hash.substr(1)) window.location.reload();\n    });\n\n    // Which buttons act as a linkable popup\n    var linkablePopups = ['#ces', '#sponsors', '#changes', '#cookies', '#setting', '#privacy'];\n    var hashPart = linkablePopups.indexOf(window.location.hash) > -1 ? window.location.hash : null;\n    if (hashPart) {\n        window.location.hash = '';\n        // Handle the time we renamed sponsors to ces to work around issues with blockers.\n        if (hashPart === '#sponsors') hashPart = '#ces';\n    }\n\n    var config = findConfig(defaultConfig, options);\n    removeOrphanedMaximisedItemFromConfig(config);\n\n    var root = $('#root');\n\n    var layout;\n    var hub;\n    try {\n        layout = new GoldenLayout(config, root);\n        hub = new Hub(layout, subLangId, defaultLangId);\n    } catch (e) {\n        Sentry.captureException(e);\n\n        if (document.URL.includes('/z/')) {\n            document.location = document.URL.replace('/z/', '/resetlayout/');\n        }\n\n        layout = new GoldenLayout(defaultConfig, root);\n        hub = new Hub(layout, subLangId, defaultLangId);\n    }\n\n    var lastState = null;\n    var storedPaths = {};  // TODO maybe make this an LRU cache?\n\n    layout.on('stateChanged', function () {\n        var config = filterComponentState(layout.toConfig(), ['selection']);\n        var stringifiedConfig = JSON.stringify(config);\n        if (stringifiedConfig !== lastState) {\n            if (storedPaths[stringifiedConfig]) {\n                window.history.replaceState(null, null, storedPaths[stringifiedConfig]);\n            } else if (window.location.pathname !== window.httpRoot) {\n                window.history.replaceState(null, null, window.httpRoot);\n                // TODO: Add this state to storedPaths, but with a upper bound on the stored state count\n            }\n            lastState = stringifiedConfig;\n\n            History.push(stringifiedConfig);\n        }\n        if (options.embedded) {\n            var strippedToLast = window.location.pathname;\n            strippedToLast = strippedToLast.substr(0, strippedToLast.lastIndexOf('/') + 1);\n            $('a.link').attr('href', strippedToLast + '#' + url.serialiseState(config));\n        }\n    });\n\n    function sizeRoot() {\n        var height = $(window).height() - (root.position().top || 0) - ($('#simplecook:visible').height() || 0);\n        root.height(height);\n        layout.updateSize();\n    }\n\n    $(window)\n        .resize(sizeRoot)\n        .on('beforeunload', function () {\n            // Only preserve state in localStorage in non-embedded mode.\n            var shouldSave = !window.hasUIBeenReset && !hasUIBeenReset;\n            if (!options.embedded && !isMobileViewer() && shouldSave) {\n                local.set('gl', JSON.stringify(layout.toConfig()));\n            }\n        });\n\n    new clipboard('.btn.clippy');\n\n    var settings = setupSettings(hub);\n\n    // We assume no consent for embed users\n    if (!options.embedded) {\n        setupButtons(options);\n    }\n\n    function storeCurrentConfig(config, extra) {\n        window.history.pushState(null, null, extra);\n        storedPaths[JSON.stringify(config)] = extra;\n    }\n\n    sharing.initShareButton($('#shareShort'), layout, storeCurrentConfig, 'Short');\n    sharing.initShareButton($('#shareFull'), layout, storeCurrentConfig, 'Full');\n    sharing.initShareButton($('#shareEmbed'), layout, storeCurrentConfig, 'Embed');\n\n    layout.eventHub.on('displaySharingPopover', function () {\n        $('#shareShort').trigger('click');\n    });\n\n    function setupAdd(thing, func) {\n        layout.createDragSource(thing, func);\n        thing.click(function () {\n            hub.addAtRoot(func());\n        });\n    }\n\n    setupAdd($('#add-editor'), function () {\n        return Components.getEditor();\n    });\n    setupAdd($('#add-diff'), function () {\n        return Components.getDiff();\n    });\n\n    if (hashPart) {\n        var element = $(hashPart);\n        if (element) element.click();\n    }\n    initPolicies(options);\n\n    // Skip some steps if using embedded mode\n    if (!options.embedded) {\n        // Only fetch MOTD when not embedded.\n        motd.initialise(options.motdUrl, $('#motd'), subLangId, settings.enableCommunityAds,\n            function (data) {\n                var sendMotd = function () {\n                    hub.layout.eventHub.emit('motd', data);\n                };\n                hub.layout.eventHub.on('requestMotd', sendMotd);\n                sendMotd();\n            },\n            function () {\n                hub.layout.eventHub.emit('modifySettings', {\n                    enableCommunityAds: false,\n                });\n            });\n\n        // Don't try to update Version tree link\n        var release = window.compilerExplorerOptions.gitReleaseCommit;\n        var versionLink = 'https://github.com/compiler-explorer/compiler-explorer/';\n        if (release) {\n            versionLink += 'tree/' + release;\n        }\n        $('#version-tree').prop('href', versionLink);\n    }\n\n    if (options.hideEditorToolbars) {\n        $('[name=\"editor-btn-toolbar\"]').addClass('d-none');\n    }\n\n    window.onSponsorClick = function (sponsor) {\n        analytics.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'Sponsors',\n            eventAction: 'click',\n            eventLabel: sponsor.url,\n            transport: 'beacon',\n        });\n        window.open(sponsor.url);\n    };\n\n    sizeRoot();\n    var initialConfig = JSON.stringify(filterComponentState(layout.toConfig(), ['selection']));\n    lastState = initialConfig;\n    storedPaths[initialConfig] = window.location.href;\n}\n\n$(start);\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar saveAs = require('file-saver').saveAs;\nvar Alert = require('./alert');\nvar local = require('./local');\nvar Promise = require('es6-promise').Promise;\nvar ga = require('./analytics');\nvar history = require('./history');\n\nfunction getLocalFiles() {\n    return JSON.parse(local.get('files', '{}'));\n}\n\nfunction setLocalFile(name, file) {\n    var files = getLocalFiles();\n    files[name] = file;\n    local.set('files', JSON.stringify(files));\n}\n\nfunction LoadSave() {\n    this.modal = null;\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Load-Saver: ';\n    this.onLoad = _.identity;\n    this.editorText = '';\n    this.extension = '.txt';\n    this.base = window.httpRoot;\n    this.fetchBuiltins();\n}\n\nLoadSave.prototype.initializeIfNeeded = function () {\n    if ((this.modal === null) || (this.modal.length === 0)) {\n        this.modal = $('#load-save');\n\n        this.modal.find('.local-file').change(_.bind(this.onLocalFile, this));\n        this.modal.find('.save-button').click(_.bind(this.onSaveToBrowserStorage, this));\n        this.modal.find('.save-file').click(_.bind(this.onSaveToFile, this));\n    }\n};\n\nLoadSave.prototype.fetchBuiltins = function () {\n    return new Promise(_.bind(function (resolve) {\n        $.getJSON(window.location.origin + this.base + 'source/builtin/list', function (list) {\n            resolve(list);\n        });\n    }, this));\n};\n\nLoadSave.prototype.populateBuiltins = function () {\n    var isVisible = _.bind(function (entry) {\n        return this.currentLanguage && this.currentLanguage.id === entry.lang;\n    }, this);\n    return this.fetchBuiltins()\n        .then(_.bind(function (builtins) {\n            this.populate(this.modal.find('.examples'),\n                _.map(_.filter(builtins, isVisible), _.bind(function (elem) {\n                    return {\n                        name: elem.name,\n                        load: _.bind(function () {\n                            this.doLoad(elem);\n                        }, this),\n                    };\n                }, this))\n            );\n        }, this));\n};\n\nLoadSave.prototype.populateLocalStorage = function () {\n    this.populate(\n        this.modal.find('.local-storage'),\n        _.map(getLocalFiles(), _.bind(function (data, name) {\n            return {\n                name: name,\n                load: _.bind(function () {\n                    this.onLoad(data);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nLoadSave.prototype.populateLocalHistory = function () {\n    this.populate(\n        this.modal.find('.local-history'),\n        _.map(history.sources(this.currentLanguage.id), _.bind(function (data) {\n            var dt = new Date(data.dt);\n            return {\n                name: dt.toString().replace(/\\s\\(.*\\)/, ''),\n                load: _.bind(function () {\n                    this.onLoad(data.source);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nLoadSave.prototype.populate = function (root, list) {\n    root.find('li:not(.template)').remove();\n    var template = root.find('.template');\n    _.each(list, _.bind(function (elem) {\n        template\n            .clone()\n            .removeClass('template')\n            .appendTo(root)\n            .find('a')\n            .text(elem.name)\n            .click(elem.load);\n    }, this));\n};\n\nLoadSave.prototype.onLocalFile = function (event) {\n    var files = event.target.files;\n    if (files.length !== 0) {\n        var file = files[0];\n        var reader = new FileReader();\n        reader.onload = _.bind(function () {\n            this.onLoad(reader.result);\n        }, this);\n        reader.readAsText(file);\n    }\n    this.modal.modal('hide');\n};\n\nLoadSave.prototype.run = function (onLoad, editorText, currentLanguage) {\n    this.initializeIfNeeded();\n    this.populateLocalStorage();\n    this.setMinimalOptions(editorText, currentLanguage);\n    this.populateLocalHistory();\n    this.onLoad = onLoad;\n    this.modal.find('.local-file').attr('accept', _.map(currentLanguage.extensions, function (extension) {\n        return extension + ', ';\n    }, this));\n    this.populateBuiltins().then(_.bind(function () {\n        this.modal.modal();\n    }, this));\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'LoadSave',\n    });\n};\n\nLoadSave.prototype.onSaveToBrowserStorage = function () {\n    var name = this.modal.find('.save-name').val();\n    if (!name) {\n        this.alertSystem.alert('Save name', 'Invalid save name');\n        return;\n    }\n    name += ' (' + this.currentLanguage.name + ')';\n    var done = _.bind(function () {\n        setLocalFile(name, this.editorText);\n    }, this);\n    if (getLocalFiles()[name] !== undefined) {\n        this.modal.modal('hide');\n        this.alertSystem.ask(\n            'Replace current?',\n            \"Do you want to replace the existing saved file '\" + name + \"'?\",\n            { yes: done });\n    } else {\n        done();\n        this.modal.modal('hide');\n    }\n};\n\nLoadSave.prototype.setMinimalOptions = function (editorText, currentLanguage) {\n    this.editorText = editorText;\n    this.currentLanguage = currentLanguage;\n    this.extension = currentLanguage.extensions[0] || '.txt';\n};\n\nLoadSave.prototype.onSaveToFile = function (fileEditor) {\n    try {\n        var fileLang = this.currentLanguage.name;\n        var name = fileLang !== undefined && fileEditor !== undefined ?\n            (fileLang + ' Editor #' + fileEditor + ' ') : '';\n        saveAs(\n            new Blob([this.editorText], { type: 'text/plain;charset=utf-8' }),\n            'Compiler Explorer ' + name + 'Code' + this.extension);\n        return true;\n    } catch (e) {\n        this.alertSystem.notify('Error while saving your code. Use the clipboard instead.', {\n            group: 'savelocalerror',\n            alertClass: 'notification-error',\n            dismissTime: 5000,\n        });\n        return false;\n    }\n};\n\nLoadSave.prototype.doLoad = function (element) {\n    // TODO: handle errors. consider promises...\n    $.getJSON(window.location.origin + this.base + 'source/builtin/load/' + element.lang + '/' + element.file,\n        _.bind(function (response) {\n            this.onLoad(response.file);\n        }, this));\n    this.modal.modal('hide');\n};\n\n\nmodule.exports = { LoadSave: LoadSave };\n","/* eslint-disable */\n// Taken from https://github.com/Nanonid/rison at 917679fb6cafa15e2a186cd5a47163792899b321\n// Uses CommonJS, AMD or browser globals to create a module.\n// Based on: https://github.com/umdjs/umd/blob/master/commonjsStrict.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['exports'], factory);\n    } else if (typeof exports === 'object') {\n        // CommonJS\n        factory(exports);\n    } else {\n        // Browser globals\n        factory((root.rison = {}));\n    }\n}(this, function (exports) {\n    var rison = exports;\n\n//////////////////////////////////////////////////\n//\n//  the stringifier is based on\n//    http://json.org/json.js as of 2006-04-28 from json.org\n//  the parser is based on \n//    http://osteele.com/sources/openlaszlo/json\n//\n\n    if (typeof rison == 'undefined')\n        window.rison = {};\n\n    /**\n     *  rules for an uri encoder that is more tolerant than encodeURIComponent\n     *\n     *  encodeURIComponent passes  ~!*()-_.'\n     *\n     *  we also allow              ,:@$/\n     *\n     */\n    rison.uri_ok = {  // ok in url paths and in form query args\n        '~': true, '!': true, '*': true, '(': true, ')': true,\n        '-': true, '_': true, '.': true, ',': true,\n        ':': true, '@': true, '$': true,\n        \"'\": true, '/': true\n    };\n\n    /*\n     * we divide the uri-safe glyphs into three sets\n     *   <rison> - used by rison                         ' ! : ( ) ,\n     *   <reserved> - not common in strings, reserved    * @ $ & ; =\n     *\n     * we define <identifier> as anything that's not forbidden\n     */\n\n    /**\n     * punctuation characters that are legal inside ids.\n     */\n// this var isn't actually used\n//rison.idchar_punctuation = \"_-./~\";  \n\n    (function () {\n        var l = [];\n        for (var hi = 0; hi < 16; hi++) {\n            for (var lo = 0; lo < 16; lo++) {\n                if (hi + lo == 0) continue;\n                var c = String.fromCharCode(hi * 16 + lo);\n                if (!/\\w|[-_.\\/~]/.test(c))\n                    l.push('\\\\u00' + hi.toString(16) + lo.toString(16));\n            }\n        }\n        /**\n         * characters that are illegal inside ids.\n         * <rison> and <reserved> classes are illegal in ids.\n         *\n         */\n        rison.not_idchar = l.join('')\n        //idcrx = new RegExp('[' + rison.not_idchar + ']');\n        //console.log('NOT', (idcrx.test(' ')) );\n    })();\n//rison.not_idchar  = \" \\t\\r\\n\\\"<>[]{}'!=:(),*@$;&\";\n    rison.not_idchar = \" '!:(),*@$\";\n\n\n    /**\n     * characters that are illegal as the start of an id\n     * this is so ids can't look like numbers.\n     */\n    rison.not_idstart = \"-0123456789\";\n\n\n    (function () {\n        var idrx = '[^' + rison.not_idstart + rison.not_idchar +\n            '][^' + rison.not_idchar + ']*';\n\n        rison.id_ok = new RegExp('^' + idrx + '$');\n\n        // regexp to find the end of an id when parsing\n        // g flag on the regexp is necessary for iterative regexp.exec()\n        rison.next_id = new RegExp(idrx, 'g');\n    })();\n\n    /**\n     * this is like encodeURIComponent() but quotes fewer characters.\n     *\n     * @see rison.uri_ok\n     *\n     * encodeURIComponent passes   ~!*()-_.'\n     * rison.quote also passes   ,:@$/\n     *   and quotes \" \" as \"+\" instead of \"%20\"\n     */\n    rison.quote = function (x) {\n        if (/^[-A-Za-z0-9~!*()_.',:@$\\/]*$/.test(x))\n            return x;\n\n        return encodeURIComponent(x)\n            .replace(/%2C/g, ',')\n            .replace(/%3A/g, ':')\n            .replace(/%40/g, '@')\n            .replace(/%24/g, '$')\n            .replace(/%2F/g, '/')\n            .replace(/%20/g, '+');\n    };\n\n\n//\n//  based on json.js 2006-04-28 from json.org\n//  license: http://www.json.org/license.html\n//\n//  hacked by nix for use in uris.\n//\n\n    (function () {\n        var sq = { // url-ok but quoted in strings\n                \"'\": true, '!': true\n            },\n            enc = function (v) {\n                if (v && typeof v.toJSON === 'function') v = v.toJSON();\n                var fn = s[typeof v];\n                if (fn) return fn(v);\n            },\n            s = {\n                array: function (x) {\n                    var a = ['!('], b, f, i, l = x.length, v;\n                    for (i = 0; i < l; i += 1) {\n                        v = enc(x[i]);\n                        if (typeof v == 'string') {\n                            if (b) {\n                                a[a.length] = ',';\n                            }\n                            a[a.length] = v;\n                            b = true;\n                        }\n                    }\n                    a[a.length] = ')';\n                    return a.join('');\n                },\n                'boolean': function (x) {\n                    if (x)\n                        return '!t';\n                    return '!f'\n                },\n                'null': function (x) {\n                    return \"!n\";\n                },\n                number: function (x) {\n                    if (!isFinite(x))\n                        return '!n';\n                    // strip '+' out of exponent, '-' is ok though\n                    return String(x).replace(/\\+/, '');\n                },\n                object: function (x) {\n                    if (x) {\n                        if (x instanceof Array) {\n                            return s.array(x);\n                        }\n                        // WILL: will this work on non-Firefox browsers?\n                        if (typeof x.__prototype__ === 'object' && typeof x.__prototype__.encode_rison !== 'undefined')\n                            return x.encode_rison();\n\n                        var a = ['('], b, f, i, v, ki, ks = [];\n                        for (i in x)\n                            ks[ks.length] = i;\n                        ks.sort();\n                        for (ki = 0; ki < ks.length; ki++) {\n                            i = ks[ki];\n                            v = enc(x[i]);\n                            if (typeof v == 'string') {\n                                if (b) {\n                                    a[a.length] = ',';\n                                }\n                                a.push(s.string(i), ':', v);\n                                b = true;\n                            }\n                        }\n                        a[a.length] = ')';\n                        return a.join('');\n                    }\n                    return '!n';\n                },\n                string: function (x) {\n                    if (x == '')\n                        return \"''\";\n\n                    if (rison.id_ok.test(x))\n                        return x;\n\n                    x = x.replace(/(['!])/g, function (a, b) {\n                        if (sq[b]) return '!' + b;\n                        return b;\n                    });\n                    return \"'\" + x + \"'\";\n                },\n                undefined: function (x) {\n                    // ignore undefined just like JSON\n                }\n            };\n\n\n        /**\n         * rison-encode a javascript structure\n         *\n         *  implemementation based on Douglas Crockford's json.js:\n         *    http://json.org/json.js as of 2006-04-28 from json.org\n         *\n         */\n        rison.encode = function (v) {\n            return enc(v);\n        };\n\n        /**\n         * rison-encode a javascript object without surrounding parens\n         *\n         */\n        rison.encode_object = function (v) {\n            if (typeof v != 'object' || v === null || v instanceof Array)\n                throw new Error(\"rison.encode_object expects an object argument\");\n            var r = s[typeof v](v);\n            return r.substring(1, r.length - 1);\n        };\n\n        /**\n         * rison-encode a javascript array without surrounding parens\n         *\n         */\n        rison.encode_array = function (v) {\n            if (!(v instanceof Array))\n                throw new Error(\"rison.encode_array expects an array argument\");\n            var r = s[typeof v](v);\n            return r.substring(2, r.length - 1);\n        };\n\n        /**\n         * rison-encode and uri-encode a javascript structure\n         *\n         */\n        rison.encode_uri = function (v) {\n            return rison.quote(s[typeof v](v));\n        };\n\n    })();\n\n\n//\n// based on openlaszlo-json and hacked by nix for use in uris.\n//\n// Author: Oliver Steele\n// Copyright: Copyright 2006 Oliver Steele.  All rights reserved.\n// Homepage: http://osteele.com/sources/openlaszlo/json\n// License: MIT License.\n// Version: 1.0\n\n\n    /**\n     * parse a rison string into a javascript structure.\n     *\n     * this is the simplest decoder entry point.\n     *\n     *  based on Oliver Steele's OpenLaszlo-JSON\n     *     http://osteele.com/sources/openlaszlo/json\n     */\n    rison.decode = function (r) {\n        var errcb = function (e) {\n            throw Error('rison decoder error: ' + e);\n        };\n        var p = new rison.parser(errcb);\n        return p.parse(r);\n    };\n\n    /**\n     * parse an o-rison string into a javascript structure.\n     *\n     * this simply adds parentheses around the string before parsing.\n     */\n    rison.decode_object = function (r) {\n        return rison.decode('(' + r + ')');\n    };\n\n    /**\n     * parse an a-rison string into a javascript structure.\n     *\n     * this simply adds array markup around the string before parsing.\n     */\n    rison.decode_array = function (r) {\n        return rison.decode('!(' + r + ')');\n    };\n\n\n    /**\n     * construct a new parser object for reuse.\n     *\n     * @constructor\n     * @class A Rison parser class.  You should probably\n     *        use rison.decode instead.\n     * @see rison.decode\n     */\n    rison.parser = function (errcb) {\n        this.errorHandler = errcb;\n    };\n\n    /**\n     * a string containing acceptable whitespace characters.\n     * by default the rison decoder tolerates no whitespace.\n     * to accept whitespace set rison.parser.WHITESPACE = \" \\t\\n\\r\\f\";\n     */\n    rison.parser.WHITESPACE = \"\";\n\n// expose this as-is?\n    rison.parser.prototype.setOptions = function (options) {\n        if (options['errorHandler'])\n            this.errorHandler = options.errorHandler;\n    };\n\n    /**\n     * parse a rison string into a javascript structure.\n     */\n    rison.parser.prototype.parse = function (str) {\n        this.string = str;\n        this.index = 0;\n        this.message = null;\n        var value = this.readValue();\n        if (!this.message && this.next())\n            value = this.error(\"unable to parse string as rison: '\" + rison.encode(str) + \"'\");\n        if (this.message && this.errorHandler)\n            this.errorHandler(this.message, this.index);\n        return value;\n    };\n\n    rison.parser.prototype.error = function (message) {\n        if (typeof(console) != 'undefined')\n            console.log('rison parser error: ', message);\n        this.message = message;\n        return undefined;\n    };\n\n    rison.parser.prototype.readValue = function () {\n        var c = this.next();\n        var fn = c && this.table[c];\n\n        if (fn)\n            return fn.apply(this);\n\n        // fell through table, parse as an id\n\n        var s = this.string;\n        var i = this.index - 1;\n\n        // Regexp.lastIndex may not work right in IE before 5.5?\n        // g flag on the regexp is also necessary\n        rison.next_id.lastIndex = i;\n        var m = rison.next_id.exec(s);\n\n        // console.log('matched id', i, r.lastIndex);\n\n        if (m.length > 0) {\n            var id = m[0];\n            this.index = i + id.length;\n            return id;  // a string\n        }\n\n        if (c) return this.error(\"invalid character: '\" + c + \"'\");\n        return this.error(\"empty expression\");\n    };\n\n    rison.parser.parse_array = function (parser) {\n        var ar = [];\n        var c;\n        while ((c = parser.next()) != ')') {\n            if (!c) return parser.error(\"unmatched '!('\");\n            if (ar.length) {\n                if (c != ',')\n                    parser.error(\"missing ','\");\n            } else if (c == ',') {\n                return parser.error(\"extra ','\");\n            } else\n                --parser.index;\n            var n = parser.readValue();\n            if (typeof n == \"undefined\") return undefined;\n            ar.push(n);\n        }\n        return ar;\n    };\n\n    rison.parser.bangs = {\n        t: true,\n        f: false,\n        n: null,\n        '(': rison.parser.parse_array\n    };\n\n    rison.parser.prototype.table = {\n        '!': function () {\n            var s = this.string;\n            var c = s.charAt(this.index++);\n            if (!c) return this.error('\"!\" at end of input');\n            var x = rison.parser.bangs[c];\n            if (typeof(x) == 'function') {\n                return x.call(null, this);\n            } else if (typeof(x) == 'undefined') {\n                return this.error('unknown literal: \"!' + c + '\"');\n            }\n            return x;\n        },\n        '(': function () {\n            var o = {};\n            var c;\n            var count = 0;\n            while ((c = this.next()) != ')') {\n                if (count) {\n                    if (c != ',')\n                        this.error(\"missing ','\");\n                } else if (c == ',') {\n                    return this.error(\"extra ','\");\n                } else\n                    --this.index;\n                var k = this.readValue();\n                if (typeof k == \"undefined\") return undefined;\n                if (this.next() != ':') return this.error(\"missing ':'\");\n                var v = this.readValue();\n                if (typeof v == \"undefined\") return undefined;\n                o[k] = v;\n                count++;\n            }\n            return o;\n        },\n        \"'\": function () {\n            var s = this.string;\n            var i = this.index;\n            var start = i;\n            var segments = [];\n            var c;\n            while ((c = s.charAt(i++)) != \"'\") {\n                //if (i == s.length) return this.error('unmatched \"\\'\"');\n                if (!c) return this.error('unmatched \"\\'\"');\n                if (c == '!') {\n                    if (start < i - 1)\n                        segments.push(s.slice(start, i - 1));\n                    c = s.charAt(i++);\n                    if (\"!'\".indexOf(c) >= 0) {\n                        segments.push(c);\n                    } else {\n                        return this.error('invalid string escape: \"!' + c + '\"');\n                    }\n                    start = i;\n                }\n            }\n            if (start < i - 1)\n                segments.push(s.slice(start, i - 1));\n            this.index = i;\n            return segments.length == 1 ? segments[0] : segments.join('');\n        },\n        // Also any digit.  The statement that follows this table\n        // definition fills in the digits.\n        '-': function () {\n            var s = this.string;\n            var i = this.index;\n            var start = i - 1;\n            var state = 'int';\n            var permittedSigns = '-';\n            var transitions = {\n                'int+.': 'frac',\n                'int+e': 'exp',\n                'frac+e': 'exp'\n            };\n            do {\n                var c = s.charAt(i++);\n                if (!c) break;\n                if ('0' <= c && c <= '9') continue;\n                if (permittedSigns.indexOf(c) >= 0) {\n                    permittedSigns = '';\n                    continue;\n                }\n                state = transitions[state + '+' + c.toLowerCase()];\n                if (state == 'exp') permittedSigns = '-';\n            } while (state);\n            this.index = --i;\n            s = s.slice(start, i);\n            if (s == '-') return this.error(\"invalid number\");\n            return Number(s);\n        }\n    };\n// copy table['-'] to each of table[i] | i <- '0'..'9':\n    (function (table) {\n        for (var i = 0; i <= 9; i++)\n            table[String(i)] = table['-'];\n    })(rison.parser.prototype.table);\n\n// return the next non-whitespace character, or undefined\n    rison.parser.prototype.next = function () {\n        var c;\n        var s = this.string;\n        var i = this.index;\n        do {\n            if (i == s.length) return undefined;\n            c = s.charAt(i++);\n        } while (rison.parser.WHITESPACE.indexOf(c) >= 0);\n        this.index = i;\n        return c;\n    };\n\n// End of UMD module wrapper\n}));\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar GoldenLayout = require('golden-layout');\nvar rison = require('rison');\nvar $ = require('jquery');\nvar Components = require('components');\nvar lzstring = require('lz-string');\nvar _ = require('underscore');\n\nfunction convertOldState(state) {\n    var sc = state.compilers[0];\n    if (!sc) throw new Error('Unable to determine compiler from old state');\n    var content = [];\n    var source;\n    if (sc.sourcez) {\n        source = lzstring.decompressFromBase64(sc.sourcez);\n    } else {\n        source = sc.source;\n    }\n    var options = {compileOnChange: true, colouriseAsm: state.filterAsm.colouriseAsm};\n    var filters = _.clone(state.filterAsm);\n    delete filters.colouriseAsm;\n    content.push(Components.getEditorWith(1, source, options));\n    content.push(Components.getCompilerWith(1, filters, sc.options, sc.compiler));\n    return {version: 4, content: [{type: 'row', content: content}]};\n}\n\nfunction loadState(state) {\n    if (!state || state.version === undefined) return false;\n    switch (state.version) {\n        case 1:\n            state.filterAsm = {};\n            state.version = 2;\n        /* falls through */\n        case 2:\n            state.compilers = [state];\n            state.version = 3;\n        /* falls through */\n        case 3:\n            state = convertOldState(state);\n            break;  // no fall through\n        case 4:\n            state = GoldenLayout.unminifyConfig(state);\n            break;\n        default:\n            throw new Error(\"Invalid version '\" + state.version + \"'\");\n    }\n    return state;\n}\n\nfunction risonify(obj) {\n    return rison.quote(rison.encode_object(obj));\n}\n\nfunction unrisonify(text) {\n    return rison.decode_object(decodeURIComponent(text.replace(/\\+/g, '%20')));\n}\n\nfunction deserialiseState(stateText) {\n    var state;\n    var exception;\n    try {\n        state = unrisonify(stateText);\n        if (state && state.z) {\n            state = unrisonify(lzstring.decompressFromBase64(state.z));\n        }\n    } catch (ex) {\n        exception = ex;\n    }\n\n    if (!state) {\n        try {\n            state = $.parseJSON(decodeURIComponent(stateText));\n        } catch (ex) {\n            if (!exception) exception = ex;\n        }\n    }\n    if (!state && exception) throw exception;\n    return loadState(state);\n}\n\nfunction serialiseState(stateText) {\n    var ctx = GoldenLayout.minifyConfig({content: stateText.content});\n    ctx.version = 4;\n    var uncompressed = risonify(ctx);\n    var compressed = risonify({z: lzstring.compressToBase64(uncompressed)});\n    var MinimalSavings = 0.20;  // at least this ratio smaller\n    if (compressed.length < uncompressed.length * (1.0 - MinimalSavings)) {\n        return compressed;\n    } else {\n        return uncompressed;\n    }\n}\n\nmodule.exports = {\n    deserialiseState: deserialiseState,\n    serialiseState: serialiseState,\n    unrisonify: unrisonify,\n    risonify: risonify,\n};\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        tokenizer: {\n            root: [\n                [/^[a-zA-Z_][a-zA-Z_0-9]*/, { token: 'type.identifier' }],\n                [/^\\s+/, { token: 'whitespace', next: '@opcode' }],\n                [/^\\.[a-zA-Z]+\\s*/, { token: 'type.identifier', next: '@arguments' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n                [/\\s*,\\s*/, { token: 'delimiter', next: '@arguments' }],\n            ],\n\n            opcode: [\n                [/[a-zA-Z]+$/, { token: 'keyword', next: '@root' }],\n                [/[a-zA-Z]+\\s*/, { token: 'keyword', next: '@arguments' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n            ],\n\n            arguments: [\n                [/\\$#[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#<[0-9]+\\(%[a-zA-Z]+\\)/, { token: 'number', next: '@root' }],\n                [/#>[0-9]+\\(%[a-zA-Z]+\\)/, { token: 'number', next: '@root' }],\n                [/#<\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#>\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#%[0-1]+/, { token: 'number', next: '@root' }],\n                [/#[0-9]+/, { token: 'number', next: '@root' }],\n                [/[a-zA-Z_][a-zA-Z_0-9]*/, { token: 'type.identifier', next: '@root' }],\n                [/[0-9]+/, { token: 'number', next: '@root' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n            ],\n        },\n    };\n}\n\nvar def = definition();\nmonaco.languages.register({ id: 'asm6502' });\nmonaco.languages.setMonarchTokensProvider('asm6502', def);\n\nmodule.exports = def;\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","// Copyright (c) 2017, Simon Brand\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale');\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar ga = require('../analytics');\nvar monacoConfig = require('../monaco-config');\n\nfunction Ast(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#ast').html());\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n    this.astEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: 'plaintext',\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.settings = {};\n\n    this.colours = [];\n    this.astCode = [];\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (state && state.astOutput) {\n        this.showAstResults(state.astOutput);\n    }\n    this.setTitle();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Ast',\n    });\n}\n\nAst.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.astEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nAst.prototype.initCallbacks = function () {\n    this.linkedFadeTimeoutId = -1;\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.astEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('destroy', this.close, this);\n\n    var onColoursOnCompile = this.eventHub.mediateDependentCalls(this.onColours, this.onCompileResult);\n\n    this.eventHub.on('compileResult', onColoursOnCompile.dependencyProxy, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('colours', onColoursOnCompile.dependentProxy, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.emit('astViewOpened', this._compilerid);\n    this.eventHub.emit('requestSettings');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.astEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\n// TODO: de-dupe with compiler etc\nAst.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.astEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nAst.prototype.onCompileResult = function (id, compiler, result, lang) {\n    if (this._compilerid !== id) return;\n\n    if (result.hasAstOutput) {\n        this.showAstResults(result.astOutput);\n    }\n    else if (compiler.supportsAstView) {\n        this.showAstResults([{text: '<No output>'}]);\n    }\n\n    if (lang && lang.monaco && this.getCurrentEditorLanguage() !== lang.monaco) {\n        monaco.editor.setModelLanguage(this.astEditor.getModel(), lang.monaco);\n    }\n};\n\n// Monaco language id of the current editor\nAst.prototype.getCurrentEditorLanguage = function () {\n    return this.astEditor.getModel().getModeId();\n};\n\nAst.prototype.getPaneName = function () {\n    return this._compilerName + ' Ast Viewer (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')';\n};\n\nAst.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nAst.prototype.getDisplayableAst = function (astResult) {\n    return '**' + astResult.astType + '** - ' + astResult.displayString;\n};\n\nAst.prototype.showAstResults = function (results) {\n    var fullText = results.map(function (x) { return x.text; }).join('\\n');\n    this.astEditor.setValue(fullText);\n    this.astCode = results;\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.astEditor.setSelection(this.selection);\n            this.astEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nAst.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this._editorid = editorid;\n        this.setTitle();\n        if (compiler && !compiler.supportsAstView) {\n            this.astEditor.setValue('<AST output is not supported for this compiler>');\n        }\n    }\n};\n\nAst.prototype.onColours = function (id, colours, scheme) {\n    if (id === this._compilerid) {\n        var astColours = {};\n        _.each(this.astCode, function (x, index) {\n            if (x.source && x.source.from.line && x.source.to.line &&\n                x.source.from.line <= x.source.to.line && x.source.to.line < x.source.from.line + 100) {\n                var i;\n                for (i = x.source.from.line; i <= x.source.to.line; ++i) {\n                    if (colours[i - 1] !== undefined) {\n                        astColours[index] = colours[i - 1];\n                        break;\n                    }\n                }\n            }\n        });\n        this.colours = colour.applyColours(this.astEditor, astColours, scheme, this.colours);\n    }\n};\n\n\nAst.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nAst.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nAst.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nAst.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nAst.prototype.onSettingsChange = function (newSettings) {\n    this.settings = newSettings;\n    this.astEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nAst.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.astCode) {\n        this.clearLinkedLines();\n        var hoverCode = this.astCode[e.target.position.lineNumber - 1];\n        if (hoverCode) {\n            var sourceLine = -1;\n            var colBegin = -1;\n            var colEnd = -1;\n            // We check that we actually have something to show at this point!\n            if (hoverCode.source && hoverCode.source.from) {\n                sourceLine = hoverCode.source.from.line;\n                // Highlight part of a line corresponding to the node if it fits on one line\n                if (hoverCode.source.to && hoverCode.source.from.line === hoverCode.source.to.line) {\n                    colBegin = hoverCode.source.from.col;\n                    colEnd = hoverCode.source.to.col;\n                }\n            }\n            this.eventHub.emit('editorLinkLine', this._editorid, sourceLine, colBegin, colEnd, false);\n            this.eventHub.emit('panesLinkLine', this._compilerid, sourceLine,\n                colBegin, colEnd, false, this.getPaneName());\n        }\n    }\n};\n\nAst.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nAst.prototype.updateDecorations = function () {\n    this.prevDecorations = this.astEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nAst.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nAst.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender) {\n    if (Number(compilerId) === this._compilerid) {\n        var lineNums = [];\n        var singleNodeLines = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.astCode, function (astLine, i) {\n            if (astLine.source\n                && astLine.source.from.line <= lineNumber && lineNumber <= astLine.source.to.line) {\n                var line = i + 1;\n                lineNums.push(line);\n                if (signalFromAnotherPane &&\n                    astLine.source.from.line === lineNumber && astLine.source.to.line === lineNumber &&\n                    astLine.source.from.col <= colEnd && colBegin <= astLine.source.to.col) {\n                    singleNodeLines.push(line);\n                }\n            }\n        });\n        if (revealLine && lineNums[0]) this.astEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = signalFromAnotherPane ? 'linked-code-decoration-line' : '';\n        var contextLines = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLines = _.map(singleNodeLines, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = contextLines.concat(directlyLinkedLines);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nAst.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('astViewClosed', this._compilerid);\n    this.astEditor.dispose();\n};\n\nmodule.exports = {\n    Ast: Ast,\n};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery'),\n    _ = require('underscore'),\n    ga = require('analytics');\n\nfunction handleMotd(motd, motdNode, subLang, adsEnabled, onHide) {\n    if (motd.motd) {\n        motdNode.find('.content').html(motd.motd);\n        motdNode.removeClass('d-none');\n        motdNode.find('.close')\n            .on('click', function () {\n                motdNode.addClass('d-none');\n            })\n            .prop('title', 'Hide message');\n    } else if (adsEnabled) {\n        var applicableAds = _.filter(motd.ads, function (ad) {\n            return !subLang || !ad.filter || ad.filter.length === 0 || ad.filter.indexOf(subLang) >= 0;\n        });\n        var randomAd = applicableAds[_.random(applicableAds.length - 1)];\n        if (randomAd) {\n            motdNode.find('.content').html(randomAd.html);\n            motdNode.find('.close').on('click', function () {\n                ga.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Ads',\n                    eventLabel: 'Visibility',\n                    eventAction: 'Hide',\n                });\n                motdNode.addClass('d-none');\n                onHide();\n            });\n            motdNode.find('a').on('click', function () {\n                ga.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Ads',\n                    eventAction: 'Click',\n                    eventLabel: this.href,\n                });\n            });\n            motdNode.removeClass('d-none');\n        }\n    }\n}\n\nfunction initialise(url, motdNode, defaultLanguage, adsEnabled, onMotd, onHide) {\n    if (!url) return;\n    $.getJSON(url)\n        .then(function (res) {\n            onMotd(res);\n            handleMotd(res, motdNode, defaultLanguage, adsEnabled, onHide);\n        })\n        .catch(function () {\n            // do nothing! we've long tried to find out why this might fail, and it seems page load cancels or ad\n            // blockers might reasonably cause a failure here, and it's no big deal.\n            // Some history at https://github.com/compiler-explorer/compiler-explorer/issues/1057\n        });\n}\n\nmodule.exports = {\n    initialise: initialise,\n};\n","// Copyright (c) 2018, Marc Tiehuis\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: 'invalid',\n\n        keywords: [\n            'const', 'var', 'extern', 'packed', 'export', 'pub', 'noalias', 'inline',\n            'comptime', 'nakedcc', 'stdcallcc', 'volatile', 'align', 'section', 'linksection',\n            'struct', 'enum', 'union',\n            'break', 'return', 'continue', 'asm', 'defer', 'errdefer', 'unreachable',\n            'try', 'catch', 'async', 'await', 'suspend', 'resume', 'cancel',\n            'if', 'else', 'switch', 'and', 'or', 'orelse',\n            'while', 'for',\n            'null', 'undefined',\n            'fn', 'usingnamespace', 'use', 'test',\n            'this',\n        ],\n        typeKeywords: [\n            'bool', 'f32', 'f64', 'f128', 'void', 'noreturn', 'type', 'error', 'anyerror', 'promise', 'anyframe',\n            'isize', 'usize', 'c_short', 'c_ushort', 'c_int', 'c_uint', 'c_long', 'c_ulong',\n            'c_longlong', 'c_ulonglong', 'c_longdouble', 'c_void',\n        ],\n        operators: [\n            '+', '+%', '-', '-%', '/', '*', '*%', '=', '^', '&', '?', '|',\n            '!', '>', '<', '%', '<<', '<<%', '>>',\n            '+=', '+%=', '-=', '-%=', '/=', '*=', '*%=', '==', '^=', '&=',\n            '?=', '|=', '!=', '>=', '<=', '%=', '<<=', '<<%=', '>>=',\n        ],\n\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        tokenizer: {\n            root: [\n                // u0/i0 integer types\n                [/[iu]\\d+/, 'keyword'],\n\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                [/@[a-zA-Z_$]*/, 'builtin.identifier'],\n\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0o[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/c?\\\\\\\\.*$/, 'string'],\n                [/c?\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\+/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/\\t/, 'comment.invalid'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment.invalid'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'zig'});\nmonaco.languages.setMonarchTokensProvider('zig', definition());\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar EventEmitter = require('events');\n\n\nfunction Togglesv2(root, state) {\n    EventEmitter.call(this);\n    var buttons = root.find('.button-checkbox');\n    var self = this;\n    this.buttons = buttons;\n    this.state = _.extend({}, state);\n    // Based on https://bootsnipp.com/snippets/featured/jquery-checkbox-buttons\n    buttons.each(function () {\n        // Settings\n        var $widget = $(this),\n            $button = $widget.find('button'),\n            $checkbox = $widget.find('input:checkbox'),\n            bind = $button.data('bind'),\n            settings = {\n                on: {\n                    icon: 'far fa-check-square',\n                },\n                off: {\n                    icon: 'far fa-square',\n                },\n            };\n\n        // Event Handlers\n        $button.on('click', function (e) {\n            $checkbox.prop('checked', !$checkbox.is(':checked'));\n            $checkbox.triggerHandler('change');\n            e.stopPropagation();\n        });\n        $checkbox.on('change', function () {\n            updateDisplay();\n        });\n\n        // Actions\n        function updateDisplay(forcedState) {\n            if (forcedState !== undefined) {\n                $checkbox.prop('checked', forcedState);\n            }\n            var isChecked = $checkbox.is(':checked');\n\n            // Set the button's state\n            $button.data('state', (isChecked) ? 'on' : 'off');\n\n            // Set the button's icon\n            $button.find('.state-icon')\n                .removeClass()\n                .addClass('state-icon ' + settings[$button.data('state')].icon);\n\n            // Update the button's color\n            $button.toggleClass('active', isChecked);\n            if (forcedState === undefined) {\n                self.set(bind, isChecked);\n            }\n        }\n\n        // Initialization\n        function init() {\n            updateDisplay(self.state[bind]);\n\n            // Inject the icon if applicable\n            if ($button.find('.state-icon').length === 0) {\n                $button.prepend('<i class=\"state-icon ' + settings[$button.data('state')].icon + '\"></i> ');\n            }\n        }\n        init();\n    });\n}\n\n_.extend(Togglesv2.prototype, EventEmitter.prototype);\n\nTogglesv2.prototype.get = function () {\n    return _.clone(this.state);\n};\n\nTogglesv2.prototype.set = function (key, value) {\n    this._change(function () {\n        this.state[key] = value;\n    }.bind(this));\n};\n\nTogglesv2.prototype.enableToggle = function (key, enable) {\n    this.buttons.each(function () {\n        var widget = $(this);\n        var button = $(widget.find('button'));\n        var bind = button.data('bind');\n        if (bind === key) {\n            button.prop('disabled', !enable);\n        }\n    });\n};\n\nTogglesv2.prototype._change = function (update) {\n    var before = this.get();\n    update();\n    this.emit('change', before, this.get());\n};\n\nmodule.exports = Togglesv2;\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar $ = require('jquery');\n\nfunction SimpleCook() {\n    this.elem = $('#simplecook');\n    this.elem.hide();\n\n    this.onDoConsent = function () {\n\n    };\n    this.onDontConsent = function () {\n\n    };\n    this.onHide = function () {\n\n    };\n    this.elem.find('.cookies').on('click', function () {\n        $('#cookies').trigger('click');\n    });\n    this.elem.find('.cook-do-consent').on('click', this.callDoConsent.bind(this));\n    this.elem.find('.cook-dont-consent').on('click', this.callDontConsent.bind(this));\n}\n\nSimpleCook.prototype.show = function () {\n    this.elem.show();\n};\n\nSimpleCook.prototype.hide = function () {\n    this.elem.hide();\n    this.onHide();\n};\n\nSimpleCook.prototype.callDoConsent = function () {\n    this.hide();\n    this.onDoConsent();\n};\n\nSimpleCook.prototype.callDontConsent = function () {\n    this.hide();\n    this.onDontConsent();\n};\n\nmodule.exports = SimpleCook;\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar colour = require('./colour');\nvar themes = require('./themes').themes;\nvar options = require('./options');\n\nfunction Setting(elem, name, Control, param) {\n    this.elem = elem;\n    this.name = name;\n    this.control = new Control(elem, param);\n}\n\nSetting.prototype.getUi = function () {\n    return this.control.getUi(this.elem);\n};\nSetting.prototype.putUi = function (value) {\n    this.control.putUi(this.elem, value);\n};\n\nfunction Checkbox() {\n}\n\nCheckbox.prototype.getUi = function (elem) {\n    return !!elem.prop('checked');\n};\nCheckbox.prototype.putUi = function (elem, value) {\n    elem.prop('checked', !!value);\n};\n\nfunction Select(elem, populate) {\n    elem.empty();\n    _.each(populate, function (e) {\n        elem.append($('<option value=\"' + e.label + '\">' + e.desc + '</option>'));\n    });\n}\n\nSelect.prototype.getUi = function (elem) {\n    return elem.val();\n};\nSelect.prototype.putUi = function (elem, value) {\n    elem.val(value);\n};\n\nfunction Slider(elem, sliderSettings) {\n    elem.slider(sliderSettings);\n}\n\nSlider.prototype.getUi = function (elem) {\n    return elem.slider('getValue');\n};\n\nSlider.prototype.putUi = function (elem, value) {\n    elem.slider('setValue', value);\n};\n\nfunction Textbox() {\n}\n\nTextbox.prototype.getUi = function (elem) {\n    return elem.val();\n};\n\nTextbox.prototype.putUi = function (elem, value) {\n    elem.val(value);\n};\n\nfunction Numeric(elem, params) {\n    this.min = params.min;\n    this.max = params.max;\n    elem.attr('min', params.min)\n        .attr('max', params.max);\n}\n\nNumeric.prototype.getUi = function (elem) {\n    var val = parseInt(elem.val());\n    if (val < this.min) return this.min;\n    if (val > this.max) return this.max;\n    return val;\n};\n\nNumeric.prototype.putUi = function (elem, value) {\n    if (value < this.min) value = this.min;\n    if (value > this.max) value = this.max;\n    elem.val(value);\n};\n\n// Ignore max statements, there's no limit as to how many settings we need\n// eslint-disable-next-line max-statements\nfunction setupSettings(root, settings, onChange, subLangId) {\n    settings = settings || {};\n    // Ensure the default language is not \"null\" but undefined. Temporary patch for a previous bug :(\n    settings.defaultLanguage = settings.defaultLanguage === null ? undefined : settings.defaultLanguage;\n    var settingsObjs = [];\n\n    function onUiChange() {\n        var settings = {};\n        _.each(settingsObjs, function (s) {\n            settings[s.name] = s.getUi();\n        });\n        onChange(settings);\n    }\n\n    function onSettingsChange(settings) {\n        _.each(settingsObjs, function (s) {\n            s.putUi(settings[s.name]);\n        });\n    }\n\n    function add(elem, key, defaultValue, Type, param) {\n        if (settings[key] === undefined)\n            settings[key] = defaultValue;\n        settingsObjs.push(new Setting(elem, key, Type, param));\n        elem.change(onUiChange);\n    }\n\n    add(root.find('.colourise'), 'colouriseAsm', true, Checkbox);\n    add(root.find('.autoCloseBrackets'), 'autoCloseBrackets', true, Checkbox);\n    var colourSchemeSelect = root.find('.colourScheme');\n    add(colourSchemeSelect, 'colourScheme', colour.schemes[0].name, Select,\n        _.map(colour.schemes, function (scheme) {\n            return {label: scheme.name, desc: scheme.desc};\n        })\n    );\n    // Handle older settings\n    if (settings.delayAfterChange === 0) {\n        settings.delayAfterChange = 750;\n        settings.compileOnChange = false;\n    }\n    add(root.find('.compileOnChange'), 'compileOnChange', true, Checkbox);\n    add(root.find('.delay'), 'delayAfterChange', 750, Slider, {\n        max: 3000,\n        step: 250,\n        min: 250,\n        formatter: function (x) {\n            return (x / 1000.0).toFixed(2) + 's';\n        },\n    });\n    add(root.find('.enableCommunityAds'), 'enableCommunityAds', true, Checkbox);\n    add(root.find('.hoverShowSource'), 'hoverShowSource', true, Checkbox);\n    add(root.find('.hoverShowAsmDoc'), 'hoverShowAsmDoc', true, Checkbox);\n\n    var themeSelect = root.find('.theme');\n\n    var defaultThemeId = themes.default.id;\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        defaultThemeId = themes.dark.id;\n    }\n\n    add(themeSelect, 'theme', defaultThemeId, Select,\n        _.map(themes, function (theme) {\n            return {label: theme.id, desc: theme.name};\n        })\n    );\n    add(root.find('.showQuickSuggestions'), 'showQuickSuggestions', false, Checkbox);\n    add(root.find('.useCustomContextMenu'), 'useCustomContextMenu', true, Checkbox);\n    add(root.find('.showMinimap'), 'showMinimap', true, Checkbox);\n\n    function handleThemes() {\n        var newTheme = themeSelect.val();\n        // Store the scheme of the old theme\n        $.data(themeSelect, 'theme-' + $.data(themeSelect, 'last-theme'), colourSchemeSelect.val());\n        // Get the scheme of the new theme\n        var newThemeStoredScheme = $.data(themeSelect, 'theme-' + newTheme);\n        var isStoredUsable = false;\n        colourSchemeSelect.empty();\n        _.each(colour.schemes, function (scheme) {\n            if (!scheme.themes || scheme.themes.length === 0 || scheme.themes.indexOf(newTheme) !== -1 ||\n                scheme.themes.indexOf('all') !== -1) {\n\n                colourSchemeSelect.append($('<option value=\"' + scheme.name + '\">' + scheme.desc + '</option>'));\n                if (newThemeStoredScheme === scheme.name) {\n                    isStoredUsable = true;\n                }\n            }\n        });\n        if (colourSchemeSelect.children().length >= 1) {\n            colourSchemeSelect.val(isStoredUsable ? newThemeStoredScheme : colourSchemeSelect.first().val());\n        } else {\n            // This should never happen. In case it does, lets use the default one\n            colourSchemeSelect.append(\n                $('<option value=\"' + colour.schemes[0].name + '\">' + colour.schemes[0].desc + '</option>'));\n            colourSchemeSelect.val(colourSchemeSelect.first().val());\n        }\n        colourSchemeSelect.trigger('change');\n    }\n\n    var langs = options.languages;\n\n    var defaultLanguageSelector = root.find('.defaultLanguage');\n    var defLang = settings.defaultLanguage || _.keys(langs)[0] || 'c++';\n    add(defaultLanguageSelector, 'defaultLanguage', defLang, Select,\n        _.map(langs, function (lang) {\n            return {label: lang.id, desc: lang.name};\n        })\n    );\n    if (subLangId) {\n        defaultLanguageSelector\n            .prop('disabled', true)\n            .prop('title', 'Default language inherited from subdomain')\n            .css('cursor', 'not-allowed');\n    }\n\n    add(root.find('.newEditorLastLang'), 'newEditorLastLang', true, Checkbox);\n\n    var formats = ['Google', 'LLVM', 'Mozilla', 'Chromium', 'WebKit'];\n    add(root.find('.formatBase'), 'formatBase', formats[0], Select,\n        _.map(formats, function (format) {\n            return {label: format, desc: format};\n        }));\n    //add(root.find('.formatOverrides'), 'formatOverrides', \"\", TextAreaInput);\n    add(root.find('.wordWrap'), 'wordWrap', false, Checkbox);\n\n    function setSettings(settings) {\n        onSettingsChange(settings);\n        onChange(settings);\n    }\n    add(root.find('.useSpaces'), 'useSpaces', true, Checkbox);\n    add(root.find('.tabWidth'), 'tabWidth', 4, Numeric, {min: 1, max: 80});\n    add(root.find('.enableCtrlS'), 'enableCtrlS', true, Checkbox);\n    add(root.find('.editorsFFont'), 'editorsFFont', 'Consolas, \"Liberation Mono\", Courier, monospace', Textbox);\n    add(root.find('.editorsFLigatures'), 'editorsFLigatures', false, Checkbox);\n    add(root.find('.allowStoreCodeDebug'), 'allowStoreCodeDebug', true, Checkbox);\n    add(root.find('.useVim'), 'useVim', false, Checkbox);\n    add(root.find('.autoIndent'), 'autoIndent', true, Checkbox);\n    add(root.find('.keepSourcesOnLangChange'), 'keepSourcesOnLangChange', false, Checkbox);\n\n    setSettings(settings);\n    handleThemes();\n    themeSelect.change(function () {\n        handleThemes();\n        $.data(themeSelect, 'last-theme', themeSelect.val());\n    });\n    $.data(themeSelect, 'last-theme', themeSelect.val());\n    return setSettings;\n}\n\nmodule.exports = setupSettings;\n","module.exports = \"<!DOCTYPE html>\\n\\n<!--\\nBe aware: modifying this file in any way will cause a pop-up to users telling them the privacy policy has changed.\\n-->\\n\\n<html lang=\\\"en\\\">\\n<body>\\n\\n<!--\\nNo need to update this! It's done by the CLI build process\\n-->\\n<span id=\\\"last-changed\\\"></span>\\n<h2>Compiler Explorer Privacy Policy</h2>\\n\\n<p>\\n    Thanks for your interest in what Compiler Explorer does with your data. Data protection is really\\n    important to the Compiler Explorer team, and we want to be very clear about what we do with your data.\\n</p>\\n\\n<h3>Who we are</h3>\\n\\n<p>\\n    Compiler Explorer was created by and is primarily administrated by\\n    <a href=\\\"mailto:matt@godbolt.org\\\">Matt Godbolt</a>,\\n    along with a number of volunteers (including, but not limited to those listed in our \\\"<a\\n        href=\\\"https://github.com/compiler-explorer/compiler-explorer/blob/main/AUTHORS.md\\\" target=\\\"_blank\\\"\\n        rel=\\\"noreferrer noopener\\\">Authors</a>\\\" documentation).\\n    It is run on a best-effort basis, and is not a commercial product. We do our best\\n    to keep your data safe, but welcome help from the community: See our\\n    <a href=\\\"https://github.com/compiler-explorer/compiler-explorer\\\" target=\\\"_blank\\\"\\n       rel=\\\"noreferrer noopener\\\">GitHub project page</a> if you wish to help.\\n</p>\\n\\n<h3>Your data</h3>\\n\\n<p>\\n    In order to process compilation and execution requests, your browser sends the source code you typed in the editor\\n    window along with your chosen compiler and options to the Compiler Explorer servers. There, the source code is\\n    written to disk and your chosen compiler is invoked on it. If your request was to have your code executed, the\\n    resulting executable is run. The outputs from compilation and execution are processed and sent back to your web\\n    browser, where they're shown. Shortly after this process completes, your source code is deleted from disk. If, in\\n    processing your query, an issue with Compiler Explorer is found, your code may be kept for up to a week in order to\\n    help debug and diagnose the problem. Only the Compiler Explorer team will have access to your code, and only for the\\n    purposes of debugging the site: we will never share your code with anyone.\\n</p>\\n\\n<p>\\n    If you choose a Microsoft compiler, then your code may be sent to and compiled on a machine administrated by\\n    Microsoft. Such code is covered by the <a href=\\\"https://privacy.microsoft.com/en-US/\\\" target=\\\"_blank\\\">Microsoft\\n    Privacy Policy.</a>\\n</p>\\n\\n<p>\\n    The source code and options are also subject to a one-way hash, which is used to cache the results to speed up\\n    subsequent compilations of the same code. The cache is in-memory and on-disk. It's impossible to reconstruct the\\n    source code from the hash, but the resulting assembly code or binary output (the compilation result) is stored as\\n    plain text. There's no way to enumerate the in-memory cache contents. In exceptional cases, administrator members of\\n    the Compiler Explorer team may be able to enumerate the disk caches and retrieve the compilation output, but with no\\n    way to trace it back to the source code.\\n</p>\\n\\n<p>\\n    In short: your source code is stored in plaintext for the minimum time feasible to be able to process your request.\\n    After that, it is discarded and is inaccessible. In very rare cases your code may be kept for a little longer (at\\n    most a week) to help debug issues in Compiler Explorer.\\n</p>\\n\\n<h4>Short links</h4>\\n\\n<p>\\n    If you choose to share your code using the \\\"Share\\\" dropdown, then the user interface state including the source code\\n    is stored. For a \\\"Full\\\" link, this information is encoded into the URL as a URL hash (e.g.\\n    <code>https://godbolt.org/#ui_state_and_code</code>). For short URLs, the interface state is stored on Compiler\\n    Explorer's servers, and a shortened name uniquely referring to this data is returned. The shortened name comes from\\n    a secure hash of the state, and without knowing the name it is infeasible to access the data. Only Compiler Explorer\\n    administrators can access this data directly. Obfuscated IP addresses and creation time are stored alongside this\\n    data, to enable spam detection. Links of this form look like <code>https://godbolt.org/z/SHORTNAME</code>.\\n</p>\\n\\n<p>\\n    Prior to storing data itself, Compiler Explorer used an external URL shortening service\\n    (<a href=\\\"https://goo.gl/\\\" target=\\\"_blank\\\">goo.gl</a>) and the resulting short URL was rewritten as\\n    <code>https://godbolt.org/g/SHORTURLPART</code>. The storage for the user experience state in this case remains with\\n    the short URL provider, not Compiler Explorer.\\n</p>\\n\\n<h4>Application, web and error logs</h4>\\n\\n<p>\\n    Compiler Explorer keeps application logs, which contain semi-anonymised IP addresses, but no other personally\\n    identifying information. When a long URL is clicked, the hash part of the URL is not sent to the server, so the user\\n    state (including the source code) is NOT exposed in the web log. If a user clicks a short URL, then the short form\\n    IS exposed in the web log (as <code>https://godbolt.org/g/SHORTURLPART</code>) and from this the source code can be\\n    retrieved. As such, if you create a short URL of your code, your source code and other user state can in principle\\n    be retrieved from the web log of Compiler Explorer.\\n</p>\\n\\n<p>\\n    Compiler Explorer uses Amazon's web serving, load balancing and edge caching systems. In order to debug and diagnose\\n    Compiler Explorer, to help track down and block Denial of Service attacks, and to gather statistics about Compiler\\n    Explorer's performance and usage, the logs from these systems are archived. These logs contain the full IP addresses\\n    of requests. They are kept for no more than one month, after which they are permanently deleted.\\n</p>\\n\\n<p>\\n    If your web browser experiences an error, we use a third party reporting system (<a\\n        href=\\\"https://sentry.io/\\\">Sentry</a>). This keeps information, including your IP address and web browser user\\n    agent, for no more than 90 days.\\n</p>\\n\\n<h4>Executing your code</h4>\\n\\n<p>\\n    For certain configurations, we may support executing the results of your compilation on the Compiler Explorer\\n    servers. Execution occurs in a heavily locked-down, isolated environment. We have made reasonable efforts to protect\\n    both the Compiler Explorer site and other concurrently-processed requests from information leakage due to rogue\\n    executions.\\n</p>\\n\\n<h4>Cookies</h4>\\n\\n<p>\\n    Separately, Compiler Explorer uses small pieces of information stored on your computer: Cookies and Browser Local\\n    Storage. Cookies are only used with the user's permission, and are used with external analytics services (e.g.\\n    Google Analytics) to gather statistics on Compiler Explorer usage. This information is used to help the Compiler\\n    Explorer team plan for future updates and hardware upgrades in order to ensure the site remains stable and\\n    responsive. Local storage is used to remember the user's settings, source code and user interface configuration, so\\n    that it's available when the user visits the Compiler Explorer site again. This information is not transmitted to\\n    Compiler Explorer, except as described above in order to fulfil the user's requests. There is a\\n    <a href=\\\"#cookies\\\" rel=\\\"noreferrer noopener\\\">separate document</a> covering more on this. Statistics tracking\\n    information is kept for 14 months, after which it is removed.\\n</p>\\n\\n<h3>Your choices</h3>\\n\\n<p>\\n    Compiler Explorer is an open source project. If you are concerned about any of the data protection measures outlined\\n    above, or about what happens to your source code, you are encouraged to run your own local instance of Compiler\\n    Explorer. Instructions on how to do this are on the\\n    <a href=\\\"https://github.com/compiler-explorer/compiler-explorer\\\" target=\\\"_blank\\\"\\n       rel=\\\"noreferrer noopener\\\">GitHub project page</a>.\\n</p>\\n\\n<h3>Compiler Explorer and the GDPR</h3>\\n\\n<p>\\n    The Compiler Explorer team believes the Compiler Explorer site is compliant with the EU's General Data Protection\\n    Regulation (GDPR). Specifically, we store no personally identifying information, we anonymise the little data that\\n    we do have and we do not permanently store any user data.\\n</p>\\n\\n<h4>Name and Address of the controller</h4>\\n<p>\\n    The Controller for the purposes of the General Data Protection Regulation (GDPR), other data protection laws\\n    applicable in Member states of the European Union and other provisions related to data protection is:\\n</p>\\n\\n<div>\\n    Matt Godbolt<br>\\n    2626 Orrington Ave<br>\\n    Evanston IL 60201 USA<br>\\n    +1 312 792-7931<br>\\n    <a href=\\\"mailto:matt@godbolt.org\\\">matt@godbolt.org</a>\\n</div>\\n\\n</body>\\n</html>\\n\";","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625758778405\n      var cssReload = require(\"/Users/bhargavi/Desktop/compiler-explorer-main/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"publicPath\":\"./\",\"hmr\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar options = require('./options');\nvar Components = require('./components');\nvar url = require('./url');\nvar ga = require('./analytics');\n\nvar shareServices = {\n    twitter: {\n        embedValid: false,\n        logoClass: 'fab fa-twitter',\n        cssClass: 'share-twitter',\n        getLink: function (title, url) {\n            return 'https://twitter.com/intent/tweet?text=' +\n                encodeURIComponent(title) + '&url=' + encodeURIComponent(url) + '&via=CompileExplore';\n        },\n        text: 'Tweet',\n    },\n    reddit: {\n        embedValid: false,\n        logoClass: 'fab fa-reddit',\n        cssClass: 'share-reddit',\n        getLink: function (title, url) {\n            return 'http://www.reddit.com/submit?url=' +\n                encodeURIComponent(url) + '&title=' + encodeURIComponent(title);\n        },\n        text: 'Share on Reddit',\n    },\n};\n\nfunction configFromEmbedded(embeddedUrl) {\n    // Old-style link?\n    var params;\n    try {\n        params = url.unrisonify(embeddedUrl);\n    } catch (e) {\n        // Ignore this, it's not a problem\n    }\n    if (params && params.source && params.compiler) {\n        var filters = _.chain((params.filters || '').split(','))\n            .map(function (o) {\n                return [o, true];\n            })\n            .object()\n            .value();\n        return {\n            content: [\n                {\n                    type: 'row',\n                    content: [\n                        Components.getEditorWith(1, params.source, filters),\n                        Components.getCompilerWith(1, filters, params.options, params.compiler),\n                    ],\n                },\n            ],\n        };\n    } else {\n        return url.deserialiseState(embeddedUrl);\n    }\n}\n\nfunction updateShares(container, url) {\n    var baseTemplate = $('#share-item');\n    _.each(shareServices, function (service, serviceName) {\n        var newElement = baseTemplate.children('a.share-item').clone();\n        if (service.logoClass) {\n            newElement.prepend($('<span>')\n                .addClass('dropdown-icon')\n                .addClass(service.logoClass)\n                .prop('title', serviceName)\n            );\n        }\n        if (service.text) {\n            newElement.children('span.share-item-text')\n                .text(service.text);\n        }\n        newElement\n            .prop('href', service.getLink('Compiler Explorer', url))\n            .addClass(service.cssClass)\n            .toggleClass('share-no-embeddable', !service.embedValid)\n            .appendTo(container);\n    });\n}\n\nfunction initShareButton(getLink, layout, noteNewState, startingBind) {\n    // Explicit because webstorm gets confused about the type of this variable.\n    /***\n     * Current URL bind\n     * @type {string}\n     */\n    var currentBind = startingBind;\n\n    var popoverModal = $('#sharelinkdialog');\n    var socialSharingElements = popoverModal.find('.socialsharing');\n    var permalink = $('.permalink');\n\n    var embedsettings = $('#embedsettings');\n\n    function setCurrent(node) {\n        currentBind = node.data().bind;\n        if (currentBind === 'Embed') {\n            embedsettings.show();\n        } else {\n            embedsettings.hide();\n        }\n    }\n\n    function setSocialSharing(element, sharedUrl) {\n        if (options.sharingEnabled) {\n            updateShares(element, sharedUrl);\n            // Disable the links for every share item which does not support embed html as links\n            if (currentBind === 'Embed') {\n                element.children('.share-no-embeddable')\n                    .addClass('share-disabled')\n                    .prop('title', 'Embed links are not supported in this service')\n                    .on('click', false);\n            }\n        }\n    }\n\n    function onUpdate(socialSharing, config, bind, result) {\n        if (result.updateState) {\n            noteNewState(config, result.extra);\n        }\n        permalink.val(result.url);\n        setSocialSharing(socialSharing, result.url);\n    }\n\n    function update() {\n        var socialSharing = socialSharingElements;\n        socialSharing.empty();\n        if (!currentBind) return;\n        permalink.prop('disabled', false);\n        var config = layout.toConfig();\n        permalink.val('');\n        getLinks(config, currentBind, function (error, newUrl, extra, updateState) {\n            if (error || !newUrl) {\n                permalink.prop('disabled', true);\n                permalink.val(error || 'Error providing URL');\n            } else {\n                onUpdate(socialSharing, config, currentBind, {\n                    updateState: updateState,\n                    extra: extra,\n                    url: newUrl,\n                });\n            }\n        });\n    }\n\n    getLink.on('click', function () {\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenModalPane',\n            eventAction: 'Sharing',\n        });\n\n        setCurrent($(this));\n        update();\n    });\n\n    if (startingBind === 'Embed') {\n        embedsettings.find('input').on('click', function () {\n            setCurrent(getLink);\n            update();\n        });\n    }\n}\n\nfunction getEmbeddedUrl(config, root, readOnly, extraOptions) {\n    var location = window.location.origin + root;\n    var path = '';\n    var parameters = '';\n\n    _.forEach(extraOptions, function (value, key) {\n        if (parameters === '') {\n            parameters = '?';\n        } else {\n            parameters += '&';\n        }\n\n        parameters += key + '=' + value;\n    });\n\n    if (readOnly) {\n        path = 'embed-ro' + parameters + '#';\n    } else {\n        path = 'e' + parameters + '#';\n    }\n\n    return location + path + url.serialiseState(config);\n}\n\nfunction getEmbeddedHtml(config, root, isReadOnly, extraOptions) {\n    return '<iframe width=\"800px\" height=\"200px\" src=\"' +\n        getEmbeddedUrl(config, root, isReadOnly, extraOptions) + '\"></iframe>';\n}\n\nfunction getShortLink(config, root, done) {\n    var useExternalShortener = options.urlShortenService !== 'default';\n    var data = JSON.stringify({\n        config: useExternalShortener\n            ? url.serialiseState(config)\n            : config,\n    });\n    $.ajax({\n        type: 'POST',\n        url: window.location.origin + root + 'api/shortener',\n        dataType: 'json',  // Expected\n        contentType: 'application/json',  // Sent\n        data: data,\n        success: _.bind(function (result) {\n            var pushState = useExternalShortener ? null : result.url;\n            done(null, result.url, pushState, true);\n        }, this),\n        error: _.bind(function (err) {\n            // Notify the user that we ran into trouble?\n            done(err.statusText, null, false);\n        }, this),\n        cache: true,\n    });\n}\n\nfunction getLinks(config, currentBind, done) {\n    var root = window.httpRoot;\n    switch (currentBind) {\n        case 'Short':\n            getShortLink(config, root, done);\n            return;\n        case 'Full':\n            done(null, window.location.origin + root + '#' + url.serialiseState(config), false);\n            return;\n        default:\n            if (currentBind.substr(0, 5) === 'Embed') {\n                var options = {};\n                $('#sharelinkdialog input:checked').each(function () {\n                    options[$(this).prop('class')] = true;\n                });\n                done(null, getEmbeddedHtml(config, root, false, options), false);\n                return;\n            }\n            // Hmmm\n            done('Unknown link type', null);\n    }\n}\n\nmodule.exports = {\n    initShareButton: initShareButton,\n    configFromEmbedded: configFromEmbedded,\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar Sentry = require('@sentry/browser');\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar LruCache = require('lru-cache');\nvar options = require('./options');\nvar Promise = require('es6-promise').Promise;\n\nfunction CompilerService(eventHub) {\n    this.base = window.httpRoot;\n    this.allowStoreCodeDebug = true;\n    this.cache = new LruCache({\n        max: 200 * 1024,\n        length: function (n) {\n            return JSON.stringify(n).length;\n        },\n    });\n    this.compilersByLang = {};\n    _.each(options.compilers, function (compiler) {\n        if (!this.compilersByLang[compiler.lang]) this.compilersByLang[compiler.lang] = {};\n        this.compilersByLang[compiler.lang][compiler.id] = compiler;\n    }, this);\n    // settingsChange is triggered on page load\n    eventHub.on('settingsChange', function (newSettings) {\n        this.allowStoreCodeDebug = newSettings.allowStoreCodeDebug;\n    }, this);\n}\n\nCompilerService.prototype.getDefaultCompilerForLang = function (langId) {\n    return options.defaultCompiler[langId];\n};\n\nCompilerService.prototype.processFromLangAndCompiler = function (languageId, compilerId) {\n    var langId = languageId;\n    var foundCompiler = null;\n    try {\n        if (langId) {\n            if (!compilerId) {\n                compilerId = this.getDefaultCompilerForLang(langId);\n            }\n\n            foundCompiler = this.findCompiler(langId, compilerId);\n            if (!foundCompiler) {\n                var compilers = this.getCompilersForLang(langId);\n                foundCompiler = compilers[_.first(_.keys(compilers))];\n            }\n        } else if (compilerId) {\n            var matchingCompilers =_.map(options.languages, function (lang) {\n                var compiler = this.findCompiler(lang.id, compilerId);\n                if (compiler) {\n                    return {\n                        langId: lang.id,\n                        compiler: compiler,\n                    };\n                }\n                return null;\n            }, this);\n\n            return _.find(matchingCompilers, function (match) {\n                return (match !== null);\n            });\n        } else {\n            var firstLang = _.first(_.values(options.languages));\n            if (firstLang) {\n                return this.processFromLangAndCompiler(firstLang.id, compilerId);\n            }\n        }\n    } catch (e) {\n        Sentry.captureException(e);\n    }\n\n    return {\n        langId: langId,\n        compiler: foundCompiler,\n    };\n};\n\nCompilerService.prototype.getGroupsInUse = function (langId) {\n    return _.chain(this.getCompilersForLang(langId))\n        .map()\n        .uniq(false, function (compiler) {\n            return compiler.group;\n        })\n        .map(function (compiler) {\n            return {value: compiler.group, label: compiler.groupName || compiler.group};\n        })\n        .sort(function (a, b){\n            return a.label.localeCompare(b.label,\n                undefined /* Ignore language */,\n                { sensitivity: 'base' });\n        })\n        .value();\n};\n\nCompilerService.prototype.getCompilersForLang = function (langId) {\n    return this.compilersByLang[langId] || {};\n};\n\nCompilerService.prototype.findCompilerInList = function (compilers, compilerId) {\n    if (compilers && compilers[compilerId]) {\n        return compilers[compilerId];\n    }\n    return _.find(compilers, function (compiler) {\n        return compiler.alias.includes(compilerId);\n    });\n};\n\nCompilerService.prototype.findCompiler = function (langId, compilerId) {\n    if (!compilerId) return null;\n    var compilers = this.getCompilersForLang(langId);\n    return this.findCompilerInList(compilers, compilerId);\n};\n\nfunction handleRequestError(request, reject, xhr, textStatus, errorThrown) {\n    var error = errorThrown;\n    if (!error) {\n        switch (textStatus) {\n            case 'timeout':\n                error = 'Request timed out';\n                break;\n            case 'abort':\n                error = 'Request was aborted';\n                break;\n            case 'error':\n                switch (xhr.status) {\n                    case 500:\n                        error = 'Request failed: internal server error';\n                        break;\n                    case 504:\n                        error = 'Request failed: gateway timeout';\n                        break;\n                    default:\n                        error = 'Request failed: HTTP error code ' + xhr.status;\n                        break;\n                }\n                break;\n            default:\n                error = 'Error sending request';\n                break;\n        }\n    }\n    reject({\n        request: request,\n        error: error,\n    });\n}\n\nCompilerService.prototype.submit = function (request) {\n    request.allowStoreCodeDebug = this.allowStoreCodeDebug;\n    var jsonRequest = JSON.stringify(request);\n    if (options.doCache) {\n        var cachedResult = this.cache.get(jsonRequest);\n        if (cachedResult) {\n            return Promise.resolve({\n                request: request,\n                result: cachedResult,\n                localCacheHit: true,\n            });\n        }\n    }\n    return new Promise(_.bind(function (resolve, reject) {\n        var bindHandler = _.partial(handleRequestError, request, reject);\n        var compilerId = encodeURIComponent(request.compiler);\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + this.base + 'api/compiler/' + compilerId + '/compile',\n            dataType: 'json',\n            contentType: 'application/json',\n            data: jsonRequest,\n            success: _.bind(function (result) {\n                if (result && result.okToCache && options.doCache) {\n                    this.cache.set(jsonRequest, result);\n                }\n                resolve({\n                    request: request,\n                    result: result,\n                    localCacheHit: false,\n                });\n            }, this),\n            error: bindHandler,\n        });\n    }, this));\n};\n\nCompilerService.prototype.requestPopularArguments = function (compilerId, options) {\n    return new Promise(_.bind(function (resolve, reject) {\n        var bindHandler = _.partial(handleRequestError, compilerId, reject);\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + this.base + 'api/popularArguments/' + compilerId,\n            dataType: 'json',\n            data: JSON.stringify({\n                usedOptions: options,\n                presplit: false,\n            }),\n            success: _.bind(function (result) {\n                resolve({\n                    request: compilerId,\n                    result: result,\n                    localCacheHit: false,\n                });\n            }, this),\n            error: bindHandler,\n        });\n    }, this));\n};\n\nCompilerService.prototype.expand = function (source) {\n    var includeFind = /^\\s*#\\s*include\\s*[\"<](https?:\\/\\/[^>\"]+)[>\"]/;\n    var lines = source.split('\\n');\n    var promises = [];\n    _.each(lines, function (line, lineNumZeroBased) {\n        var match = line.match(includeFind);\n        if (match) {\n            promises.push(new Promise(function (resolve) {\n                var req = $.get(match[1], function (data) {\n                    data = '#line 1 \"' + match[1] + '\"\\n' + data + '\\n\\n#line ' +\n                        (lineNumZeroBased + 1) + ' \"<stdin>\"\\n';\n\n                    lines[lineNumZeroBased] = data;\n                    resolve();\n                });\n                req.fail(function () {\n                    resolve();\n                });\n            }));\n        }\n    });\n    return Promise.all(promises).then(function () {\n        return lines.join('\\n');\n    });\n};\n\nCompilerService.prototype.getSelectizerOrder = function () {\n    return [\n        {field: '$order'},\n        {field: '$score'},\n        {field: 'name'},\n    ];\n};\n\nmodule.exports = CompilerService;\n","// Copyright (c) 2012, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Set defaultToken to invalid to see what you do not tokenize yet\n        defaultToken: 'invalid',\n\n        // C# style strings\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        registers: /%?\\b(r[0-9]+[dbw]?|([er]?([abcd][xhl]|cs|fs|ds|ss|sp|bp|ip|sil?|dil?))|[xyz]mm[0-9]+|sp|fp|lr)\\b/,\n\n        intelOperators: /PTR|(D|Q|[XYZ]MM)?WORD/,\n\n        tokenizer: {\n            root: [\n                // Error document\n                [/^<.*>$/, {token: 'annotation'}],\n                // Label definition\n                [/^[.a-zA-Z0-9_$?@].*:/, {token: 'type.identifier'}],\n                // Label definition (ARM style)\n                [/^\\s*[|][^|]*[|]/, {token: 'type.identifier'}],\n                // Label definition (CL style)\n                [/^\\s*[.a-zA-Z0-9_$|]*\\s+(PROC|ENDP|DB|DD)/, {token: 'type.identifier'}],\n                // Constant definition\n                [/^[.a-zA-Z0-9_$?@][^=]*=/, {token: 'type.identifier'}],\n                // opcode\n                [/[.a-zA-Z_][.a-zA-Z_0-9]*/, {token: 'keyword', next: '@rest'}],\n                // braces and parentheses at the start of the line (e.g. nvcc output)\n                [/[(){}]/, {token: 'operator', next: '@rest'}],\n\n                // whitespace\n                {include: '@whitespace'},\n            ],\n\n            rest: [\n                // pop at the beginning of the next line and rematch\n                [/^.*$/, {token: '@rematch', next: '@pop'}],\n\n                [/@registers/, 'variable.predefined'],\n                [/@intelOperators/, 'annotation'],\n                // brackets\n                [/[{}<>()[\\]]/, '@brackets'],\n\n                // ARM-style label reference\n                [/[|][^|]*[|]*/, 'type.identifier'],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\n                [/([$]|0[xX])[0-9a-fA-F]+/, 'number.hex'],\n                [/\\d+/, 'number'],\n                // ARM-style immediate numbers (which otherwise look like comments)\n                [/#-?\\d+/, 'number'],\n\n                // operators\n                [/[-+,*/!:&{}()]/, 'operator'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-terminated string\n                [/\"/, {token: 'string.quote', bracket: '@open', next: '@string'}],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n\n                // Assume anything else is a label reference\n                [/%?[.?_$a-zA-Z@][.?_$a-zA-Z0-9@]*/, 'type.identifier'],\n\n                // whitespace\n                {include: '@whitespace'},\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment', '@push'],    // nested comment\n                ['\\\\*/', 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, {token: 'string.quote', bracket: '@close', next: '@pop'}],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/[#;\\\\@].*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nvar def = definition();\nmonaco.languages.register({id: 'asm'});\nmonaco.languages.setMonarchTokensProvider('asm', def);\n\nmodule.exports = def;\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar FontScale = require('../fontscale');\nvar AnsiToHtml = require('../ansi-to-html');\nvar Toggles = require('../toggles');\nvar ga = require('../analytics');\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\nfunction Output(hub, container, state) {\n    this.container = container;\n    this.compilerId = state.compiler;\n    this.editorId = state.editor;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#compiler-output').html());\n    this.contentRoot = this.domRoot.find('.content');\n    this.optionsToolbar = this.domRoot.find('.options-toolbar');\n    this.compilerName = '';\n    this.fontScale = new FontScale(this.domRoot, state, '.content');\n    this.fontScale.on('change', _.bind(function () {\n        this.saveState();\n    }, this));\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.initButtons();\n    this.initCallbacks(state);\n\n    this.onOptionsChange();\n    this.updateCompilerName();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Output',\n    });\n}\n\nOutput.prototype.initCallbacks = function (state) {\n    this.options = new Toggles(this.domRoot.find('.options'), state);\n    this.options.on('change', _.bind(this.onOptionsChange, this));\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('destroy', this.close, this);\n\n    this.eventHub.on('compiling', this.onCompiling, this);\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.emit('outputOpened', this.compilerId);\n};\n\nOutput.prototype.getEffectiveOptions = function () {\n    return this.options.get();\n};\n\nOutput.prototype.resize = function () {\n    this.contentRoot.height(this.domRoot.height() - this.optionsToolbar.height() - 5);\n};\n\nOutput.prototype.onOptionsChange = function () {\n    var options = this.getEffectiveOptions();\n    this.contentRoot.toggleClass('wrap', options.wrap);\n    this.wrapButton.prop('title', '[' + (options.wrap ? 'ON' : 'OFF') + '] ' + this.wrapTitle);\n\n    this.saveState();\n};\n\nOutput.prototype.initButtons = function () {\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n};\n\nOutput.prototype.currentState = function () {\n    var options = this.getEffectiveOptions();\n    var state = {\n        compiler: this.compilerId,\n        editor: this.editorId,\n        wrap: options.wrap,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nOutput.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nOutput.prototype.addOutputLines = function (result) {\n    _.each((result.stdout || []).concat(result.stderr || []), function (obj) {\n        var lineNumber = obj.tag ? obj.tag.line : obj.line;\n        var columnNumber = obj.tag ? obj.tag.column : -1;\n        if (obj.text === '') {\n            this.add('<br/>');\n        } else {\n            this.add(this.normalAnsiToHtml.toHtml(obj.text), lineNumber, columnNumber);\n        }\n    }, this);\n};\n\nOutput.prototype.onCompiling = function (compilerId) {\n    if (this.compilerId === compilerId) {\n        this.setCompileStatus(true);\n    }\n};\n\nOutput.prototype.onCompileResult = function (id, compiler, result) {\n    if (id !== this.compilerId) return;\n    if (compiler) this.compilerName = compiler.name;\n\n    this.contentRoot.empty();\n\n    this.addOutputLines(result);\n    if (!result.execResult) {\n        this.add('Compiler returned: ' + result.code);\n    } else {\n        this.add('ASM generation compiler returned: ' + result.code);\n        this.addOutputLines(result.execResult.buildResult);\n        this.add('Execution build compiler returned: ' + result.execResult.buildResult.code);\n    }\n    if (result.execResult && result.execResult.didExecute) {\n        this.add('Program returned: ' + result.execResult.code);\n        if (result.execResult.stderr.length || result.execResult.stdout.length) {\n            _.each(result.execResult.stderr, function (obj) {\n                // Conserve empty lines as they are discarded by ansiToHtml\n                if (obj.text === '') {\n                    this.programOutput('<br/>');\n                } else {\n                    this.programOutput(this.errorAnsiToHtml.toHtml(obj.text), 'red');\n                }\n            }, this);\n\n            _.each(result.execResult.stdout, function (obj) {\n                // Conserve empty lines as they are discarded by ansiToHtml\n                if (obj.text === '') {\n                    this.programOutput('<br/>');\n                } else {\n                    this.programOutput(this.normalAnsiToHtml.toHtml(obj.text));\n                }\n            }, this);\n        }\n    }\n    this.setCompileStatus(false);\n    this.updateCompilerName();\n};\n\nOutput.prototype.programOutput = function (msg, color) {\n    var elem = $('<div/>').appendTo(this.contentRoot)\n        .html(msg)\n        .addClass('program-exec-output');\n\n    if (color)\n        elem.css('color', color);\n};\n\nOutput.prototype.add = function (msg, lineNum, column) {\n    var elem = $('<div/>').appendTo(this.contentRoot);\n    if (lineNum) {\n        elem.html(\n            $('<span class=\"linked-compiler-output-line\"></span>')\n                .html(msg)\n                .click(_.bind(function (e) {\n                    this.eventHub.emit('editorLinkLine', this.editorId, lineNum, column, column + 1, true);\n                    // do not bring user to the top of index.html\n                    // http://stackoverflow.com/questions/3252730\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    this.eventHub.emit('editorLinkLine', this.editorId, lineNum, column, column + 1, false);\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nOutput.prototype.updateCompilerName = function () {\n    var name = '#' + this.compilerId;\n    if (this.compilerName) name += ' with ' + this.compilerName;\n    this.container.setTitle(name);\n};\n\nOutput.prototype.onCompilerClose = function (id) {\n    if (id === this.compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nOutput.prototype.close = function () {\n    this.eventHub.emit('outputClosed', this.compilerId);\n    this.eventHub.unsubscribe();\n};\n\nOutput.prototype.setCompileStatus = function (isCompiling) {\n    this.contentRoot.toggleClass('compiling', isCompiling);\n};\n\nmodule.exports = {\n    Output: Output,\n};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nvar options = require('options'),\n    _ = require('underscore'),\n    local = require('./local'),\n    $ = require('jquery');\n\nfunction LibsWidgetExt(langId, compiler, dropdownButton, state, onChangeCallback) {\n    this.dropdownButton = dropdownButton;\n    var possibleLibs = false;\n    if (compiler) {\n        this.currentCompilerId = compiler.id;\n        possibleLibs = compiler.libs;\n    } else {\n        this.currentCompilerId = '_default_';\n    }\n    this.currentLangId = langId;\n    this.domRoot = $('#library-selection').clone(true);\n    this.onChangeCallback = function () {\n        this.updateButton();\n        onChangeCallback();\n    };\n    this.availableLibs = {};\n    this.updateAvailableLibs(possibleLibs);\n    _.each(state.libs, _.bind(function (lib) {\n        if (lib.name && lib.ver) {\n            this.markLibrary(lib.name, lib.ver, true);\n        } else {\n            this.markLibrary(lib.id, lib.version, true);\n        }\n    }, this));\n\n    this.fullRefresh();\n\n    var searchInput = this.domRoot.find('.lib-search-input');\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        this.domRoot.addClass('mobile');\n    }\n\n    this.domRoot.on('shown.bs.modal', function () {\n        searchInput.trigger('focus');\n    });\n\n    searchInput.on('input', _.bind(function () {\n        this.startSearching();\n    }, this));\n\n    this.domRoot.find('.lib-search-button').on('click', _.bind(function () {\n        this.startSearching();\n    }, this));\n\n    this.dropdownButton.on('click', _.bind(function () {\n        this.domRoot.modal({});\n    }, this));\n\n    this.updateButton();\n}\n\nLibsWidgetExt.prototype.fullRefresh = function () {\n    this.showSelectedLibs();\n    this.showSelectedLibsAsSearchResults();\n    this.showFavorites();\n};\n\nLibsWidgetExt.prototype.updateButton = function () {\n    var selectedLibs = this.get();\n    if (selectedLibs.length > 0) {\n        this.dropdownButton.addClass('btn-success').removeClass('btn-light');\n    } else {\n        this.dropdownButton.removeClass('btn-success').addClass('btn-light');\n    }\n};\n\nLibsWidgetExt.prototype.getFavorites = function () {\n    var storkey = 'favlibs';\n\n    return JSON.parse(local.get(storkey, '{}'));\n};\n\nLibsWidgetExt.prototype.setFavorites = function (faves) {\n    var storkey = 'favlibs';\n\n    local.set(storkey, JSON.stringify(faves));\n};\n\nLibsWidgetExt.prototype.isAFavorite = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        return faves[libId].includes(versionId);\n    }\n\n    return false;\n};\n\nLibsWidgetExt.prototype.addToFavorites = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        faves[libId].push(versionId);\n    } else {\n        faves[libId] = [];\n        faves[libId].push(versionId);\n    }\n\n    this.setFavorites(faves);\n};\n\nLibsWidgetExt.prototype.removeFromFavorites = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        faves[libId] = _.filter(faves[libId], function (v) {\n            return (v !== versionId);\n        });\n    }\n\n    this.setFavorites(faves);\n};\n\nLibsWidgetExt.prototype.newFavoriteLibDiv = function (libId, versionId, lib, version) {\n    var template = $('#lib-favorite-tpl');\n\n    var libDiv = $(template.children()[0].cloneNode(true));\n\n    var quickSelectButton = libDiv.find('.lib-name-and-version');\n    quickSelectButton.html(lib.name + ' ' + version.version);\n    quickSelectButton.on('click', _.bind(function () {\n        this.selectLibAndVersion(libId, versionId);\n        this.showSelectedLibs();\n        this.onChangeCallback();\n    }, this));\n\n    return libDiv;\n};\n\nLibsWidgetExt.prototype.showFavorites = function () {\n    var favoritesDiv = this.domRoot.find('.lib-favorites');\n    favoritesDiv.html('');\n\n    var faves = this.getFavorites();\n    _.each(faves, _.bind(function (versionArr, libId) {\n        _.each(versionArr, _.bind(function (versionId) {\n            var lib = this.getLibInfoById(libId);\n            if (lib) {\n                var version = lib.versions[versionId];\n                if (version) {\n                    var div = this.newFavoriteLibDiv(libId, versionId, lib, version);\n                    favoritesDiv.append(div);\n                }\n            }\n        }, this));\n    }, this));\n};\n\nLibsWidgetExt.prototype.getAndEmptySearchResults = function () {\n    var searchResults = this.domRoot.find('.lib-results-items');\n    searchResults.html('');\n    return searchResults;\n};\n\nLibsWidgetExt.prototype.newSelectedLibDiv = function (libId, versionId, lib, version) {\n    var template = $('#lib-selected-tpl');\n\n    var libDiv = $(template.children()[0].cloneNode(true));\n\n    var detailsButton = libDiv.find('.lib-name-and-version');\n    detailsButton.html(lib.name + ' ' + version.version);\n    detailsButton.on('click', _.bind(function () {\n        var searchResults = this.getAndEmptySearchResults();\n        this.addSearchResult(libId, lib, searchResults);\n    }, this));\n\n    var deleteButton = libDiv.find('.lib-remove');\n    deleteButton.on('click', _.bind(function () {\n        this.markLibrary(libId, versionId, false);\n        libDiv.remove();\n        this.showSelectedLibs();\n        this.onChangeCallback();\n        // We need to refresh the library lists, or the selector will still show up with the old library version\n        this.startSearching();\n    }, this));\n\n    return libDiv;\n};\n\nLibsWidgetExt.prototype.conjureUpExamples = function (result, lib) {\n    var examples = result.find('.lib-examples');\n    if (lib.examples && lib.examples.length > 0) {\n        var examplesHeader = $('<b>Examples</b>');\n        var examplesList = $('<ul />');\n        _.each(lib.examples, function (exampleId) {\n            var li = $('<li />');\n            examplesList.append(li);\n            var exampleLink = $('<a>Example</a>');\n            exampleLink.attr('href', window.httpRoot + 'z/' + exampleId);\n            exampleLink.attr('target', '_blank');\n            exampleLink.attr('rel', 'noopener');\n            li.append(exampleLink);\n        });\n\n        examples.append(examplesHeader);\n        examples.append(examplesList);\n    }\n};\n\nLibsWidgetExt.prototype.newSearchResult = function (libId, lib) {\n    var template = $('#lib-search-result-tpl');\n\n    var result = $(template.children()[0].cloneNode(true));\n    result.find('.lib-name').html(lib.name);\n    if (!lib.description) {\n        result.find('.lib-description').hide();\n    } else {\n        result.find('.lib-description').html(lib.description);\n    }\n    result.find('.lib-website-link').attr('href', lib.url ? lib.url : '#');\n\n    this.conjureUpExamples(result, lib);\n\n    var faveButton = result.find('.lib-fav-button');\n    var faveStar = faveButton.find('.lib-fav-btn-icon');\n    faveButton.hide();\n\n    var versions = result.find('.lib-version-select');\n    versions.html('');\n    versions.append($('<option value=\"\">-</option>'));\n    _.each(lib.versions, _.bind(function (version, versionId) {\n        var option = $('<option>');\n        if (version.used) {\n            option.attr('selected','selected');\n\n            if (this.isAFavorite(libId, versionId)) {\n                faveStar.removeClass('far').addClass('fas');\n            }\n\n            faveButton.show();\n        }\n        option.attr('value', versionId);\n        option.html(version.version);\n        versions.append(option);\n    }, this));\n\n    faveButton.on('click', _.bind(function () {\n        var option = versions.find('option:selected');\n        var verId = option.attr('value');\n        if (this.isAFavorite(libId, verId)) {\n            this.removeFromFavorites(libId, verId);\n            faveStar.removeClass('fas').addClass('far');\n        } else {\n            this.addToFavorites(libId, verId);\n            faveStar.removeClass('far').addClass('fas');\n        }\n        this.showFavorites();\n    }, this));\n\n    versions.on('change', _.bind(function () {\n        var option = versions.find('option:selected');\n        var verId = option.attr('value');\n\n        this.selectLibAndVersion(libId, verId);\n        this.showSelectedLibs();\n\n        if (this.isAFavorite(libId, verId)) {\n            faveStar.removeClass('far').addClass('fas');\n        } else {\n            faveStar.removeClass('fas').addClass('far');\n        }\n\n        if (verId) {\n            faveButton.show();\n        } else {\n            faveButton.hide();\n        }\n\n        this.onChangeCallback();\n    }, this));\n\n    return result;\n};\n\nLibsWidgetExt.prototype.addSearchResult = function (libId, library, searchResults) {\n    var card = this.newSearchResult(libId, library);\n    searchResults.append(card);\n};\n\nLibsWidgetExt.prototype.startSearching = function () {\n    var searchtext = this.domRoot.find('.lib-search-input').val();\n    var lcSearchtext = searchtext.toLowerCase();\n\n    var searchResults = this.getAndEmptySearchResults();\n\n    if (Object.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).length === 0) {\n        var nolibsMessage = $($('#libs-dropdown').children()[0].cloneNode(true));\n        searchResults.append(nolibsMessage);\n        return;\n    }\n\n    var descriptionSearchResults = [];\n\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], _.bind(function (library, libId) {\n        if (library.versions && library.versions.autodetect) return;\n\n        if (library.name) {\n            if (library.name.toLowerCase().includes(lcSearchtext)) {\n                this.addSearchResult(libId, library, searchResults);\n                return;\n            }\n        }\n\n        if (library.description) {\n            if (library.description.toLowerCase().includes(lcSearchtext)) {\n\n                descriptionSearchResults.push({\n                    libId: libId,\n                    library: library,\n                    searchResults: searchResults,\n                });\n            }\n        }\n    }, this));\n\n    _.each(descriptionSearchResults, _.bind(function (res) {\n        this.addSearchResult(res.libId, res.library, res.searchResults);\n    }, this));\n};\n\nLibsWidgetExt.prototype.showSelectedLibs = function () {\n    var items = this.domRoot.find('.libs-selected-items');\n    items.html('');\n\n    var selectedLibs = this.listUsedLibs();\n    _.each(selectedLibs, _.bind(function (versionId, libId) {\n        var lib = this.availableLibs[this.currentLangId][this.currentCompilerId][libId];\n        var version = lib.versions[versionId];\n\n        var libDiv = this.newSelectedLibDiv(libId, versionId, lib, version);\n        items.append(libDiv);\n    }, this));\n};\n\nLibsWidgetExt.prototype.showSelectedLibsAsSearchResults = function () {\n    var searchResults = this.getAndEmptySearchResults();\n\n    if (Object.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).length === 0) {\n        var nolibsMessage = $($('#libs-dropdown').children()[0].cloneNode(true));\n        searchResults.append(nolibsMessage);\n        return;\n    }\n\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], _.bind(function (library, libId) {\n        if (library.versions && library.versions.autodetect) return;\n\n        var card = this.newSearchResult(libId, library);\n        searchResults.append(card);\n    }, this));\n};\n\nLibsWidgetExt.prototype.initLangDefaultLibs = function () {\n    var defaultLibs = options.defaultLibs[this.currentLangId];\n    if (!defaultLibs) return;\n    _.each(defaultLibs.split(':'), _.bind(function (libPair) {\n        var pairSplits = libPair.split('.');\n        if (pairSplits.length === 2) {\n            var lib = pairSplits[0];\n            var ver = pairSplits[1];\n            this.markLibrary(lib, ver, true);\n        }\n    }, this));\n};\n\nLibsWidgetExt.prototype.updateAvailableLibs = function (possibleLibs) {\n    if (!this.availableLibs[this.currentLangId]) {\n        this.availableLibs[this.currentLangId] = {};\n    }\n\n    if (!this.availableLibs[this.currentLangId][this.currentCompilerId]) {\n        if (this.currentCompilerId === '_default_') {\n            this.availableLibs[this.currentLangId][this.currentCompilerId] =\n                $.extend(true, {}, options.libs[this.currentLangId]);\n        } else {\n            this.availableLibs[this.currentLangId][this.currentCompilerId] =\n                $.extend(true, {}, possibleLibs);\n        }\n    }\n\n    this.initLangDefaultLibs();\n};\n\nLibsWidgetExt.prototype.setNewLangId = function (langId, compilerId, possibleLibs) {\n    var libsInUse = this.listUsedLibs();\n\n    this.currentLangId = langId;\n\n    if (compilerId) {\n        this.currentCompilerId = compilerId;\n    } else {\n        this.currentCompilerId = '_default_';\n    }\n\n    // Clear the dom Root so it gets rebuilt with the new language libraries\n    this.updateAvailableLibs(possibleLibs);\n\n    _.forEach(libsInUse, _.bind(function (version, lib) {\n        this.markLibrary(lib, version, true);\n    }, this));\n\n    this.fullRefresh();\n    this.onChangeCallback();\n};\n\nLibsWidgetExt.prototype.getVersionOrAlias = function (name, version) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name]) {\n        if (this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[version]) {\n            return version;\n        } else {\n            return _.findKey(\n                this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions,\n                function (ver) {\n                    return ver.alias && ver.alias.includes(version);\n                });\n        }\n    }\n};\n\nLibsWidgetExt.prototype.getLibInfoById = function (libId) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][libId]) {\n        return this.availableLibs[this.currentLangId][this.currentCompilerId][libId];\n    }\n\n    return false;\n};\n\nLibsWidgetExt.prototype.markLibrary = function (name, version, used) {\n    var actualVersion = this.getVersionOrAlias(name, version);\n\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[actualVersion]) {\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[actualVersion].used = used;\n    }\n};\n\nLibsWidgetExt.prototype.selectLibAndVersion = function (libId, versionId) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][libId]) {\n\n        _.each(\n            this.availableLibs[this.currentLangId][this.currentCompilerId][libId].versions,\n            function (curver, curverId) {\n                curver.used = curverId === versionId;\n            });\n    }\n};\n\nLibsWidgetExt.prototype.get = function () {\n    return _.map(this.listUsedLibs(), function (item, libId) {\n        return {name: libId, ver: item};\n    });\n};\n\nLibsWidgetExt.prototype.listUsedLibs = function () {\n    var libs = {};\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], function (library, libId) {\n        _.each(library.versions, function (version, ver) {\n            if (library.versions[ver].used) {\n                // We trust the invariant of only 1 used version at any given time per lib\n                libs[libId] = ver;\n            }\n        });\n    });\n    return libs;\n};\n\nLibsWidgetExt.prototype.getLibsInUse = function () {\n    var libs = [];\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], function (library, libId) {\n        _.each(library.versions, function (version, ver) {\n            if (library.versions[ver].used) {\n                var libVer = Object.assign({libId: libId, versionId: ver}, library.versions[ver]);\n                libs.push(libVer);\n            }\n        });\n    });\n    return libs;\n};\n\nmodule.exports = {\n    Widget: LibsWidgetExt,\n};\n","// Copyright (c) 2017, Matt Godbolt & Rubén Rincón\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\n\nvar themes = {\n    default: {\n        path: 'default',\n        id: 'default',\n        name: 'Default',\n        'main-color': '#f2f2f2',\n        monaco: 'vs', // Optional field\n    },\n    dark: {\n        path: 'dark',\n        id: 'dark',\n        name: 'Dark',\n        'main-color': '#333333',\n        monaco: 'vs-dark',\n    },\n};\n\nfunction Themer(eventHub, initialSettings) {\n    this.currentTheme = null;\n    this.eventHub = eventHub;\n\n    this.setTheme = function (theme) {\n        if (this.currentTheme === theme) return;\n        $('html').attr('data-theme', theme.path);\n        $('#meta-theme').prop('content', theme['main-color']);\n        monaco.editor.setTheme(theme.monaco);\n        this.eventHub.emit('resize');\n        this.currentTheme = theme;\n    };\n\n    this.onSettingsChange = function (newSettings) {\n        var newTheme = themes[newSettings.theme] || themes.default;\n        if (!newTheme.monaco)\n            newTheme.monaco = 'vs';\n        this.setTheme(newTheme);\n\n        // This line is used to set thet codelens font\n        // Official support using the IEditorOptions.codeLensFontFamily property has landed in vscode\n        // It should be removed once a downstream release of monaco is cut\n        document.querySelector(':root').style.setProperty('--user-selected-font-stack', newSettings.editorsFFont);\n    };\n    this.onSettingsChange(initialSettings);\n\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n\n    this.eventHub.on('requestTheme', function () {\n        this.eventHub.emit('themeChange', this.currentTheme);\n    }, this);\n}\n\nmodule.exports = {\n    themes: themes,\n    Themer: Themer,\n};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\n// This definition is based on the official LLVM vim syntax:\n// http://llvm.org/svn/llvm-project/llvm/trunk/utils/vim/syntax/llvm.vim\n// For VIM regex syntax, see: http://vimdoc.sourceforge.net/htmldoc/pattern.html\nfunction definition() {\n    return {\n        // llvmType\n        types: [\n            'void', 'half', 'float', 'double', 'x86_fp80', 'fp128', 'ppc_fp128',\n            'label', 'metadata', 'x86_mmx',\n            'type', 'label', 'opaque', 'token',\n        ],\n        // llvmStatement\n        statements: [\n            'add', 'addrspacecast', 'alloca', 'and', 'arcp', 'ashr', 'atomicrmw',\n            'bitcast', 'br', 'catchpad', 'catchswitch', 'catchret', 'call',\n            'cleanuppad', 'cleanupret', 'cmpxchg', 'eq', 'exact', 'extractelement',\n            'extractvalue', 'fadd', 'fast', 'fcmp', 'fdiv', 'fence', 'fmul', 'fpext',\n            'fptosi', 'fptoui', 'fptrunc', 'free', 'frem', 'fsub', 'getelementptr',\n            'icmp', 'inbounds', 'indirectbr', 'insertelement', 'insertvalue',\n            'inttoptr', 'invoke', 'landingpad', 'load', 'lshr', 'malloc', 'max', 'min',\n            'mul', 'nand', 'ne', 'ninf', 'nnan', 'nsw', 'nsz', 'nuw', 'oeq', 'oge', 'ogt', 'ole',\n            'olt', 'one', 'or', 'ord', 'phi', 'ptrtoint', 'resume', 'ret', 'sdiv', 'select',\n            'sext', 'sge', 'sgt', 'shl', 'shufflevector', 'sitofp', 'sle', 'slt', 'srem',\n            'store', 'sub', 'switch', 'trunc', 'udiv', 'ueq', 'uge', 'ugt', 'uitofp', 'ule', 'ult',\n            'umax', 'umin', 'une', 'uno', 'unreachable', 'unwind', 'urem', 'va_arg',\n            'xchg', 'xor', 'zext',\n        ],\n        // llvmKeyword\n        keywords: [\n            'acq_rel', 'acquire', 'addrspace', 'alias', 'align', 'alignstack', 'alwaysinline',\n            'appending', 'argmemonly', 'arm_aapcscc', 'arm_aapcs_vfpcc', 'arm_apcscc', 'asm',\n            'atomic', 'available_externally', 'blockaddress', 'builtin', 'byval', 'c', 'catch',\n            'caller', 'cc', 'ccc', 'cleanup', 'coldcc', 'comdat', 'common', 'constant',\n            'datalayout', 'declare', 'default', 'define', 'deplibs', 'dereferenceable',\n            'distinct', 'dllexport', 'dllimport', 'dso_local', 'dso_preemptable', 'except',\n            'external', 'externally_initialized', 'extern_weak', 'fastcc', 'filter', 'from',\n            'gc', 'global', 'hhvmcc', 'hhvm_ccc', 'hidden', 'initialexec', 'inlinehint',\n            'inreg', 'inteldialect', 'intel_ocl_bicc', 'internal', 'linkonce', 'linkonce_odr',\n            'localdynamic', 'localexec', 'local_unnamed_addr', 'minsize', 'module',\n            'monotonic', 'msp430_intrcc', 'musttail', 'naked', 'nest', 'noalias', 'nobuiltin',\n            'nocapture', 'noimplicitfloat', 'noinline', 'nonlazybind', 'nonnull', 'norecurse',\n            'noredzone', 'noreturn', 'nounwind', 'optnone', 'optsize', 'personality',\n            'private', 'protected', 'ptx_device', 'ptx_kernel', 'readnone', 'readonly',\n            'release', 'returned', 'returns_twice', 'sanitize_address', 'sanitize_memory',\n            'sanitize_thread', 'section', 'seq_cst', 'sideeffect', 'signext', 'syncscope',\n            'source_filename', 'speculatable', 'spir_func', 'spir_kernel', 'sret', 'ssp',\n            'sspreq', 'sspstrong', 'strictfp', 'swiftcc', 'tail', 'target', 'thread_local',\n            'to', 'triple', 'unnamed_addr', 'unordered', 'uselistorder', 'uselistorder_bb',\n            'uwtable', 'volatile', 'weak', 'weak_odr', 'within', 'writeonly', 'x86_64_sysvcc',\n            'win64cc', 'x86_fastcallcc', 'x86_stdcallcc', 'x86_thiscallcc', 'zeroext',\n        ],\n\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        tokenizer: {\n            root: [\n                [/[,(){}<>[\\]]/, 'delimiters'],\n                [/i\\d+\\**/, 'type'], // llvmType\n\n                // Misc syntax.\n                [/[%@!]\\d+/, 'variable.name'],                         // llvmNoName\n                [/-?\\d+\\.\\d*(e[+-]\\d+)?/, 'number.float'],             // llvmFloat\n                [/0[xX][0-9A-Fa-f]+/, 'number.hex'],                   // llvmFloat\n                [/-?\\d+/, 'number'],                                   // llvmNumber\n                [/\\b(true|false)\\b/, 'keyword'],                       // llvmBoolean\n                [/\\b(zeroinitializer|undef|null|none)\\b/, 'constant'], // llvmConstant\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],                 // non-terminated string\n                [/\"/, 'string', '@string'],                            // push to string state\n                [/[-a-zA-Z$._][-a-zA-Z$._0-9]*:/, 'tag'],              // llvmLabel\n                [/[%@][-a-zA-Z$._][-a-zA-Z$._0-9]*/, 'variable.name'], // llvmIdentifier\n\n                // Named metadata and specialized metadata keywords.\n                [/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\\s*)$/, 'identifier'],    // llvmIdentifier\n                [/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\\s*[=!])/, 'identifier'], // llvmIdentifier\n                [/![A-Za-z]+(?=\\s*\\()/, 'type'],                            // llvmType\n                [/\\bDW_TAG_[a-z_]+\\b/, 'constant'],                         // llvmConstant\n                [/\\bDW_ATE_[a-zA-Z_]+\\b/, 'constant'],                      // llvmConstant\n                [/\\bDW_OP_[a-zA-Z0-9_]+\\b/, 'constant'],                    // llvmConstant\n                [/\\bDW_LANG_[a-zA-Z0-9_]+\\b/, 'constant'],                  // llvmConstant\n                [/\\bDW_VIRTUALITY_[a-z_]+\\b/, 'constant'],                  // llvmConstant\n                [/\\bDIFlag[A-Za-z]+\\b/, 'constant'],                        // llvmConstant\n\n                // Syntax-highlight lit test commands and bug numbers.\n                [/;\\s*PR\\d*\\s*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;\\s*REQUIRES:.*$/, 'comment.doc'],                            // llvmSpecialComment\n                [/;\\s*RUN:.*$/, 'comment.doc'],                                 // llvmSpecialComment\n                [/;\\s*CHECK:.*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;\\s*CHECK-(?:NEXT|NOT|DAG|SAME|LABEL):.*$/, 'comment.doc'],   // llvmSpecialComment\n                [/;\\s*XFAIL:.*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;.*$/, 'comment'],\n                [/[*#=!]/, 'operators'],\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@statements': 'operators',\n                        '@keywords': 'keyword',\n                        '@types': 'type',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[ \\t\\r\\n]+/, 'white'],\n\n            ],\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'llvm-ir'});\nmonaco.languages.setMonarchTokensProvider('llvm-ir', definition());\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar Sentry = require('@sentry/browser');\nvar editor = require('./panes/editor');\nvar compiler = require('./panes/compiler');\nvar executor = require('./panes/executor');\nvar output = require('./panes/output');\nvar tool = require('./panes/tool');\nvar Components = require('components');\nvar diff = require('./panes/diff');\nvar optView = require('./panes/opt-view');\nvar astView = require('./panes/ast-view');\nvar irView = require('./panes/ir-view');\nvar gccDumpView = require('./panes/gccdump-view');\nvar cfgView = require('./panes/cfg-view');\nvar conformanceView = require('./panes/conformance-view');\nvar CompilerService = require('compiler-service');\n\nfunction Ids() {\n    this.used = {};\n}\n\nIds.prototype.add = function (id) {\n    this.used[id] = true;\n};\n\nIds.prototype.remove = function (id) {\n    delete this.used[id];\n};\n\nIds.prototype.next = function () {\n    for (var i = 1; i < 100000; ++i) {\n        if (!this.used[i]) {\n            this.used[i] = true;\n            return i;\n        }\n    }\n    throw 'Ran out of ids!?';\n};\n\nfunction Hub(layout, subLangId, defaultLangId) {\n    this.layout = layout;\n    this.editorIds = new Ids();\n    this.compilerIds = new Ids();\n    this.executorIds = new Ids();\n    this.compilerService = new CompilerService(layout.eventHub);\n    this.deferred = true;\n    this.deferredEmissions = [];\n    this.lastOpenedLangId = null;\n    this.subdomainLangId = subLangId || undefined;\n    this.defaultLangId = defaultLangId;\n\n    // FIXME\n    // We can't avoid this self as _ is undefined at this point\n    var self = this;\n\n    layout.registerComponent(Components.getEditor().componentName,\n        function (container, state) {\n            return self.codeEditorFactory(container, state);\n        });\n    layout.registerComponent(Components.getCompiler().componentName,\n        function (container, state) {\n            return self.compilerFactory(container, state);\n        });\n    layout.registerComponent(Components.getExecutor().componentName,\n        function (container, state) {\n            return self.executorFactory(container, state);\n        });\n    layout.registerComponent(Components.getOutput().componentName,\n        function (container, state) {\n            return self.outputFactory(container, state);\n        });\n    layout.registerComponent(Components.getToolViewWith().componentName,\n        function (container, state) {\n            return self.toolFactory(container, state);\n        });\n    layout.registerComponent(diff.getComponent().componentName,\n        function (container, state) {\n            return self.diffFactory(container, state);\n        });\n    layout.registerComponent(Components.getOptView().componentName,\n        function (container, state) {\n            return self.optViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getAstView().componentName,\n        function (container, state) {\n            return self.astViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getIrView().componentName,\n        function (container, state) {\n            return self.irViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getGccDumpView().componentName,\n        function (container, state) {\n            return self.gccDumpViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getCfgView().componentName,\n        function (container, state) {\n            return self.cfgViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getConformanceView().componentName,\n        function (container, state) {\n            return self.confomanceFactory(container, state);\n        });\n\n    layout.eventHub.on('editorOpen', function (id) {\n        this.editorIds.add(id);\n    }, this);\n    layout.eventHub.on('editorClose', function (id) {\n        this.editorIds.remove(id);\n    }, this);\n    layout.eventHub.on('compilerOpen', function (id) {\n        this.compilerIds.add(id);\n    }, this);\n    layout.eventHub.on('compilerClose', function (id) {\n        this.compilerIds.remove(id);\n    }, this);\n    layout.eventHub.on('executorOpen', function (id) {\n        this.executorIds.add(id);\n    }, this);\n    layout.eventHub.on('executorClose', function (id) {\n        this.executorIds.remove(id);\n    }, this);\n    layout.eventHub.on('languageChange', function (editorId, langId) {\n        this.lastOpenedLangId = langId;\n    }, this);\n    layout.init();\n    this.undefer();\n    layout.eventHub.emit('initialised');\n}\n\nHub.prototype.undefer = function () {\n    this.deferred = false;\n    var eventHub = this.layout.eventHub;\n    _.each(this.deferredEmissions, function (args) {\n        eventHub.emit.apply(eventHub, args);\n    });\n    this.deferredEmissions = [];\n};\n\nHub.prototype.nextEditorId = function () {\n    return this.editorIds.next();\n};\n\nHub.prototype.nextCompilerId = function () {\n    return this.compilerIds.next();\n};\n\nHub.prototype.nextExecutorId = function () {\n    return this.executorIds.next();\n};\n\nHub.prototype.codeEditorFactory = function (container, state) {\n    // Ensure editors are closable: some older versions had 'isClosable' false.\n    // NB there doesn't seem to be a better way to do this than reach into the config and rely on the fact nothing\n    // has used it yet.\n    container.parent.config.isClosable = true;\n    return new editor.Editor(this, state, container);\n};\n\nHub.prototype.compilerFactory = function (container, state) {\n    return new compiler.Compiler(this, container, state);\n};\n\nHub.prototype.executorFactory = function (container, state) {\n    return new executor.Executor(this, container, state);\n};\n\nHub.prototype.outputFactory = function (container, state) {\n    return new output.Output(this, container, state);\n};\n\nHub.prototype.toolFactory = function (container, state) {\n    return new tool.Tool(this, container, state);\n};\n\nHub.prototype.diffFactory = function (container, state) {\n    return new diff.Diff(this, container, state);\n};\n\nHub.prototype.optViewFactory = function (container, state) {\n    return new optView.Opt(this, container, state);\n};\n\nHub.prototype.astViewFactory = function (container, state) {\n    return new astView.Ast(this, container, state);\n};\n\nHub.prototype.irViewFactory = function (container, state) {\n    return new irView.Ir(this, container, state);\n};\n\nHub.prototype.gccDumpViewFactory = function (container, state) {\n    return new gccDumpView.GccDump(this, container, state);\n};\n\nHub.prototype.cfgViewFactory = function (container, state) {\n    return new cfgView.Cfg(this, container, state);\n};\n\nHub.prototype.confomanceFactory = function (container, state) {\n    return new conformanceView.Conformance(this, container, state);\n};\n\nfunction WrappedEventHub(hub, eventHub) {\n    this.hub = hub;\n    this.eventHub = eventHub;\n    this.subscriptions = [];\n}\n\nWrappedEventHub.prototype.emit = function () {\n    // Events are deferred during initialisation to allow all the components to install their listeners before\n    // all the emits are done. This fixes some ordering issues.\n    if (this.hub.deferred) {\n        this.hub.deferredEmissions.push(arguments);\n    } else {\n        this.eventHub.emit.apply(this.eventHub, arguments);\n    }\n};\n\nWrappedEventHub.prototype.on = function (event, callback, context) {\n    this.eventHub.on(event, callback, context);\n    this.subscriptions.push({evt: event, fn: callback, ctx: context});\n};\n\nWrappedEventHub.prototype.unsubscribe = function () {\n    _.each(this.subscriptions, _.bind(function (obj) {\n        try {\n            this.eventHub.off(obj.evt, obj.fn, obj.ctx);\n        } catch (e) {\n            Sentry.captureMessage('Can not unsubscribe from ' + obj.evt.toString());\n            Sentry.captureException(e);\n        }\n    }, this));\n    this.subscriptions = [];\n};\n\nWrappedEventHub.prototype.mediateDependentCalls = function (dependent, dependency) {\n    var dependencyExecuted = false;\n    var lastDependentArgs = null;\n    var dependencyProxy = function () {\n        dependency.apply(this, arguments);\n        dependencyExecuted = true;\n        if (lastDependentArgs) {\n            dependent.apply(this, lastDependentArgs);\n            lastDependentArgs = null;\n        }\n    };\n    var dependentProxy = function () {\n        if (dependencyExecuted) {\n            dependent.apply(this, arguments);\n        } else {\n            lastDependentArgs = arguments;\n        }\n    };\n    return {dependencyProxy: dependencyProxy,\n        dependentProxy: dependentProxy};\n};\n\nHub.prototype.createEventHub = function () {\n    return new WrappedEventHub(this, this.layout.eventHub);\n};\n\nHub.prototype.findParentRowOrColumn = function (elem) {\n    while (elem) {\n        if (elem.isRow || elem.isColumn) return elem;\n        elem = elem.parent;\n    }\n    return elem;\n};\n\nHub.prototype.addAtRoot = function (newElem) {\n    var rootFirstItem = this.layout.root.contentItems[0];\n    if (rootFirstItem) {\n        if (rootFirstItem.isRow || rootFirstItem.isColumn) {\n            rootFirstItem.addChild(newElem);\n        } else {\n            var newRow = this.layout.createContentItem({type: 'row'}, this.layout.root);\n            this.layout.root.replaceChild(rootFirstItem, newRow);\n            newRow.addChild(rootFirstItem);\n            newRow.addChild(newElem);\n        }\n    } else {\n        this.layout.root.addChild({\n            type: 'row',\n            content: [newElem],\n        });\n    }\n};\n\nmodule.exports = Hub;\n","// Copyright (c) 2017, Marc Poulhiès - Kalray Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale');\nvar monaco = require('monaco-editor');\nvar Toggles = require('../toggles');\nrequire('../modes/gccdump-rtl-gimple-mode');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics');\nvar monacoConfig = require('../monaco-config');\n\nrequire('selectize');\n\nfunction GccDump(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#gccdump').html());\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.gccDumpEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n        dropdownParent: 'body',\n    }));\n\n    this.initButtons(state);\n\n    var selectize = this.domRoot.find('.gccdump-pass-picker').selectize({\n        sortField: 'name',\n        valueField: 'name',\n        labelField: 'name',\n        searchField: ['name'],\n        options: [],\n        items: [],\n    });\n\n    this.selectize = selectize[0].selectize;\n\n    // this is used to save internal state.\n    this.state = {};\n\n    this.state._compilerid = state._compilerid;\n    this.state._editorid = state._editorid;\n    this._compilerName = state._compilerName;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.initCallbacks();\n\n    if (state && state.selectedPass) {\n        this.state.selectedPass = state.selectedPass;\n        this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, state.selectedPass, false);\n    }\n\n    // until we get our first result from compilation backend with all fields,\n    // disable UI callbacks.\n    this.uiIsReady = false;\n    this.onUiNotReady();\n\n    this.eventHub.emit('gccDumpFiltersChanged', this.state._compilerid, this.getEffectiveFilters(), false);\n\n    this.updateButtons();\n    this.saveState();\n    this.setTitle();\n\n    // UI is ready, request compilation to get passes list and\n    // current output (if any)\n    this.eventHub.emit('gccDumpUIInit', this.state._compilerid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'GccDump',\n    });\n}\n\nGccDump.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.dump-filters'), state);\n    this.fontScale = new FontScale(this.domRoot, state, this.gccDumpEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.dumpFiltersButtons = this.domRoot.find('.dump-filters .btn');\n\n    this.dumpTreesButton = this.domRoot.find(\"[data-bind='treeDump']\");\n    this.dumpTreesTitle = this.dumpTreesButton.prop('title');\n\n    this.dumpRtlButton = this.domRoot.find(\"[data-bind='rtlDump']\");\n    this.dumpRtlTitle = this.dumpRtlButton.prop('title');\n\n    this.dumpIpaButton = this.domRoot.find(\"[data-bind='ipaDump']\");\n    this.dumpIpaTitle = this.dumpIpaButton.prop('title');\n\n    this.optionAddressButton = this.domRoot.find(\"[data-bind='addressOption']\");\n    this.optionAddressTitle = this.optionAddressButton.prop('title');\n\n    this.optionSlimButton = this.domRoot.find(\"[data-bind='slimOption']\");\n    this.optionSlimTitle = this.optionSlimButton.prop('title');\n\n    this.optionRawButton = this.domRoot.find(\"[data-bind='rawOption']\");\n    this.optionRawTitle = this.optionRawButton.prop('title');\n\n    this.optionDetailsButton = this.domRoot.find(\"[data-bind='detailsOption']\");\n    this.optionDetailsTitle = this.optionDetailsButton.prop('title');\n\n    this.optionStatsButton = this.domRoot.find(\"[data-bind='statsOption']\");\n    this.optionStatsTitle = this.optionStatsButton.prop('title');\n\n    this.optionBlocksButton = this.domRoot.find(\"[data-bind='blocksOption']\");\n    this.optionBlocksTitle = this.optionBlocksButton.prop('title');\n\n    this.optionVopsButton = this.domRoot.find(\"[data-bind='vopsOption']\");\n    this.optionVopsTitle = this.optionVopsButton.prop('title');\n\n    this.optionLinenoButton = this.domRoot.find(\"[data-bind='linenoOption']\");\n    this.optionLinenoTitle = this.optionLinenoButton.prop('title');\n\n    this.optionUidButton = this.domRoot.find(\"[data-bind='uidOption']\");\n    this.optionUidTitle = this.optionUidButton.prop('title');\n\n    this.optionAllButton = this.domRoot.find(\"[data-bind='allOption']\");\n    this.optionAllTitle = this.optionAllButton.prop('title');\n};\n\nGccDump.prototype.initCallbacks = function () {\n    this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.selectize.on('change', _.bind(this.onPassSelect, this));\n\n    this.fontScale.on('change', _.bind(this.saveState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n\n    this.eventHub.emit('gccDumpViewOpened', this.state._compilerid);\n    this.eventHub.emit('requestSettings');\n    this.container.on('destroy', this.close, this);\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.gccDumpEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nGccDump.prototype.updateButtons = function () {\n    var formatButtonTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title);\n    };\n    formatButtonTitle(this.dumpTreesButton, this.dumpTreesTitle);\n    formatButtonTitle(this.dumpRtlButton, this.dumpRtlTitle);\n    formatButtonTitle(this.dumpIpaButton, this.dumpIpaTitle);\n    formatButtonTitle(this.optionAddressButton, this.optionAddressTitle);\n    formatButtonTitle(this.optionSlimButton, this.optionSlimTitle);\n    formatButtonTitle(this.optionRawButton, this.optionRawTitle);\n    formatButtonTitle(this.optionDetailsButton, this.optionDetailsTitle);\n    formatButtonTitle(this.optionStatsButton, this.optionStatsTitle);\n    formatButtonTitle(this.optionBlocksButton, this.optionBlocksTitle);\n    formatButtonTitle(this.optionVopsButton, this.optionVopsTitle);\n    formatButtonTitle(this.optionLinenoButton, this.optionLinenoTitle);\n    formatButtonTitle(this.optionUidButton, this.optionUidTitle);\n    formatButtonTitle(this.optionAllButton, this.optionAllTitle);\n};\n\n// Disable view's menu when invalid compiler has been\n// selected after view is opened.\nGccDump.prototype.onUiNotReady = function () {\n    // disable drop down menu and buttons\n    this.selectize.disable();\n    this.dumpFiltersButtons.prop('disabled', true);\n};\n\nGccDump.prototype.onUiReady = function () {\n    // enable drop down menu and buttons\n    this.selectize.enable();\n\n    this.dumpFiltersButtons.prop('disabled', false);\n};\n\nGccDump.prototype.onPassSelect = function (passId) {\n    if (this.inhibitPassSelect !== true) {\n        this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, passId, true);\n    }\n    this.state.selectedPass = passId;\n    this.saveState();\n};\n\n// TODO: de-dupe with compiler etc\nGccDump.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.gccDumpEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\n// Called after result from new compilation received\n// if gccDumpOutput is false, cleans the select menu\nGccDump.prototype.updatePass = function (filters, selectize, gccDumpOutput) {\n    var passes = gccDumpOutput ? gccDumpOutput.all : [];\n\n    // we are changing selectize but don't want any callback to\n    // trigger new compilation\n    this.inhibitPassSelect = true;\n\n    _.each(selectize.options, function (p) {\n        if (passes.indexOf(p.name) === -1) {\n            selectize.removeOption(p.name);\n        }\n    }, this);\n\n    _.each(passes, function (p) {\n        selectize.addOption({\n            name: p,\n        });\n    }, this);\n\n    if (gccDumpOutput.selectedPass && gccDumpOutput.selectedPass !== '') {\n        selectize.addItem(gccDumpOutput.selectedPass, true);\n    } else {\n        selectize.clear(true);\n    }\n\n    this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, gccDumpOutput.selectedPass, false);\n\n    this.inhibitPassSelect = false;\n};\n\nGccDump.prototype.onCompileResult = function (id, compiler, result) {\n    if (this.state._compilerid !== id || !compiler) return;\n\n    if (result.gccDumpOutput && result.gccDumpOutput.syntaxHighlight) {\n        monaco.editor.setModelLanguage(this.gccDumpEditor.getModel(), 'gccdump-rtl-gimple');\n    } else {\n        monaco.editor.setModelLanguage(this.gccDumpEditor.getModel(), 'plaintext');\n    }\n    if (compiler.supportsGccDump && result.gccDumpOutput) {\n        var currOutput = result.gccDumpOutput.currentPassOutput;\n\n        // if result contains empty selected pass, probably means\n        // we requested an invalid/outdated pass.\n        if (result.gccDumpOutput.selectedPass === '') {\n            this.selectize.clear(true);\n            this.state.selectedPass = '';\n        }\n        this.updatePass(this.filters, this.selectize, result.gccDumpOutput);\n        this.showGccDumpResults(currOutput);\n\n        // enable UI on first successful compilation or after an invalid compiler selection (eg. clang)\n        if (!this.uiIsReady) {\n            this.uiIsReady = true;\n            this.onUiReady();\n        }\n    } else {\n        this.selectize.clear(true);\n        this.state.selectedPass = '';\n        this.updatePass(this.filters, this.selectize, false);\n        this.uiIsReady = false;\n        this.onUiNotReady();\n        if (!compiler.supportsGccDump) {\n            this.showGccDumpResults('<Tree/RTL output is not supported for this compiler (GCC only)>');\n        } else {\n            this.showGccDumpResults('<Tree/RTL output is empty>');\n        }\n    }\n    this.saveState();\n};\n\nGccDump.prototype.setTitle = function () {\n    this.container.setTitle((this._compilerName || '') +\n        ' GCC Tree/RTL Viewer (Editor #' + this.state._editorid + ', Compiler #' + this.state._compilerid + ')');\n};\n\nGccDump.prototype.showGccDumpResults = function (results) {\n    this.gccDumpEditor.setValue(results);\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.gccDumpEditor.setSelection(this.selection);\n            this.gccDumpEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nGccDump.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this.state._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.state._editorid = editorid;\n        this.setTitle();\n    }\n};\n\nGccDump.prototype.onCompilerClose = function (id) {\n    if (id === this.state._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nGccDump.prototype.getEffectiveFilters = function () {\n    return this.filters.get();\n};\n\nGccDump.prototype.onFilterChange = function () {\n    this.saveState();\n    this.updateButtons();\n\n    if (this.inhibitPassSelect !== true) {\n        this.eventHub.emit('gccDumpFiltersChanged', this.state._compilerid, this.getEffectiveFilters(), true);\n    }\n};\n\nGccDump.prototype.saveState = function () {\n    var state = this.currentState();\n    this.container.setState(state);\n    this.fontScale.addState(state);\n};\n\nGccDump.prototype.currentState = function () {\n    var filters = this.getEffectiveFilters();\n    return {\n        _compilerid: this.state._compilerid,\n        _editorid: this.state._editorid,\n        selectedPass: this.state.selectedPass,\n        treeDump: filters.treeDump,\n        rtlDump: filters.rtlDump,\n        ipaDump: filters.ipaDump,\n        addressOption: filters.addressOption,\n        slimOption: filters.slimOption,\n        rawOption: filters.rawOption,\n        detailsOption: filters.detailsOption,\n        statsOption: filters.statsOption,\n        blocksOption: filters.blocksOption,\n        vopsOption: filters.vopsOption,\n        linenoOption: filters.linenoOption,\n        uidOption: filters.uidOption,\n        allOption: filters.allOption,\n        selection: this.selection,\n    };\n};\n\nGccDump.prototype.onSettingsChange = function (newSettings) {\n    this.gccDumpEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nGccDump.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.saveState();\n    }\n};\n\nGccDump.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('gccDumpViewClosed', this.state._compilerid);\n    this.gccDumpEditor.dispose();\n};\n\nmodule.exports = {\n    GccDump: GccDump,\n};\n","// Copyright (c) 2020, Lock3 Software LLC\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// Originally based on `./d-mode.js` by the Compiler Explorer Authors\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: '',\n\n        brackets: [\n            { token: 'delimiter.curly', open: '{', close: '}' },\n            { token: 'delimiter.parenthesis', open: '(', close: ')' },\n            { token: 'delimiter.square', open: '[', close: ']' },\n            { token: 'delimiter.angle', open: '<', close: '>' },\n        ],\n\n        keywords: [\n            'array',\n            'auto',\n            'bool',\n            'break',\n            'case',\n            'catch',\n            'char',\n            'class',\n            'const',\n            'constexpr',\n            'const_cast',\n            'continue',\n            'decltype',\n            'default',\n            'delete',\n            'do',\n            'dynamic_cast',\n            'else',\n            'enum',\n            'explicit',\n            'export',\n            'extern',\n            'false',\n            'final',\n            'for',\n            'if',\n            'in',\n            'inline',\n            'mutable',\n            'namespace',\n            'new',\n            'noexcept',\n            'operator',\n            'override',\n            'private',\n            'protected',\n            'public',\n            'register',\n            'reinterpret_cast',\n            'return',\n            'sizeof',\n            'static',\n            'static_assert',\n            'static_cast',\n            'switch',\n            'template',\n            'this',\n            'thread_local',\n            'throw',\n            'tile_static',\n            'true',\n            'try',\n            'typedef',\n            'typeid',\n            'typename',\n            'union',\n            'using',\n            'virtual',\n            'void',\n            'volatile',\n            'wchar_t',\n            'where',\n            'while',\n\n            // Additional C++ keywords\n            'alignas',\n            'alignof',\n            'and',\n            'or',\n            'not',\n\n            // Gold specific keywords\n            'returns',\n            'otherwise',\n            'then',\n            'until',\n            'null',\n            'ref',\n            'rref',\n        ],\n\n        typeKeywords: [\n            // C++ keywords\n            'int',\n            'double',\n            'float',\n\n            // Gold specific keywords\n            'type',\n            'uint',\n            'uint8',\n            'uint16',\n            'uint32',\n            'uint64',\n            'uint128',\n            'float16',\n            'float32',\n            'float64',\n            'float128',\n            'int8',\n            'int16',\n            'int32',\n            'int64',\n            'int128',\n            'type',\n            'char8',\n            'char16',\n            'char32',\n            'null_t',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':',\n            '==', '<=', '>=', '<>', '&&', '||',\n            '+', '-', '*', '/', '&', '|', '^', '%', '<<',\n            '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=',\n            '^=', '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+[lL]?/, 'number'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']+'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            // strings\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\"/, 'string', '@pop'],\n            ],\n\n            // characters\n            characters: [\n                [/'[^\\\\']+'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/<#/, 'comment', '@nestingcomment'],\n                [/#.*$/, 'comment'],\n            ],\n\n            comment: [\n                [/[#]/, 'comment'],\n            ],\n\n            nestingcomment: [\n                [/[^<#]+/, 'comment'],\n                [/<#/, 'comment', '@push'],\n                [/<#/, 'comment.invalid'],\n                [/#>/, 'comment', '@pop'],\n                [/[<#]/, 'comment'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '#',\n            blockComment: ['<#', '#>'],\n        },\n\n        brackets: [\n            ['{', '}'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            { open: '[', close: ']' },\n            { open: '{', close: '}' },\n            { open: '(', close: ')' },\n            { open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n            { open: '\"', close: '\"', notIn: ['string'] },\n        ],\n\n        surroundingPairs: [\n            { open: '{', close: '}' },\n            { open: '[', close: ']' },\n            { open: '(', close: ')' },\n            { open: '\"', close: '\"' },\n            { open: '\\'', close: '\\'' },\n        ],\n    };\n}\n\nmonaco.languages.register({id: 'cppx-gold'});\nmonaco.languages.setMonarchTokensProvider('cppx-gold', definition());\nmonaco.languages.setLanguageConfiguration('cppx-gold', configuration());\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n// here instead of in the editor.js and compiler.js etc to prevent circular dependencies.\nmodule.exports = {\n    getCompiler: function (editorId, lang) {\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: {source: editorId, lang: lang},\n        };\n    },\n    getCompilerWith: function (editorId, filters, options, compilerId, langId, libs) {\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: {\n                source: editorId,\n                filters: filters,\n                options: options,\n                compiler: compilerId,\n                lang: langId,\n                libs: libs,\n            },\n        };\n    },\n    getExecutor: function (editorId, lang) {\n        return {\n            type: 'component',\n            componentName: 'executor',\n            componentState: {source: editorId, lang: lang},\n        };\n    },\n    getExecutorWith: function (editorId, lang, compilerId, libraries, compilerArgs) {\n        return {\n            type: 'component',\n            componentName: 'executor',\n            componentState: {\n                source: editorId,\n                lang: lang,\n                compiler: compilerId,\n                libs: libraries,\n                options: compilerArgs,\n            },\n        };\n    },\n    getEditor: function (id, langId) {\n        return {\n            type: 'component',\n            componentName: 'codeEditor',\n            componentState: {id: id, lang: langId},\n        };\n    },\n    getEditorWith: function (id, source, options) {\n        return {\n            type: 'component',\n            componentName: 'codeEditor',\n            componentState: {id: id, source: source, options: options},\n        };\n    },\n    getOutput: function (compiler, editor) {\n        return {\n            type: 'component',\n            componentName: 'output',\n            componentState: {compiler: compiler, editor: editor},\n        };\n    },\n    getToolViewWith: function (compiler, editor, toolId, args) {\n        return {\n            type: 'component',\n            componentName: 'tool',\n            componentState: {\n                compiler: compiler,\n                editor: editor,\n                toolId: toolId,\n                args: args,\n            },\n        };\n    },\n    getDiff: function () {\n        return {\n            type: 'component',\n            componentName: 'diff',\n            componentState: {},\n        };\n    },\n    getOptView: function () {\n        return {\n            type: 'component',\n            componentName: 'opt',\n            componentState: {},\n        };\n    },\n    getOptViewWith: function (id, source, optimization, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'opt',\n            componentState: {\n                id: id,\n                source: source,\n                optOutput: optimization,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getAstView: function () {\n        return {\n            type: 'component',\n            componentName: 'ast',\n            componentState: {},\n        };\n    },\n    getAstViewWith: function (id, source, astOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'ast',\n            componentState: {\n                id: id,\n                source: source,\n                astOutput: astOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getGccDumpView: function () {\n        return {\n            type: 'component',\n            componentName: 'gccdump',\n            componentState: {},\n        };\n    },\n    getGccDumpViewWith: function (id, compilerName, editorid, gccDumpOutput) {\n        var ret = {\n            type: 'component',\n            componentName: 'gccdump',\n            componentState: {\n                _compilerid: id,\n                _compilerName: compilerName,\n                _editorid: editorid,\n            },\n        };\n        if (gccDumpOutput) {\n            ret.treeDump = gccDumpOutput.treeDump;\n            ret.rtlDump = gccDumpOutput.rtlDump;\n            ret.ipaDump = gccDumpOutput.ipaDump;\n            ret.addressOption = gccDumpOutput.addressOption;\n            ret.slimOption = gccDumpOutput.slimOption;\n            ret.rawOption = gccDumpOutput.rawOption;\n            ret.detailsOption = gccDumpOutput.detailsOption;\n            ret.statsOption = gccDumpOutput.statsOption;\n            ret.blocksOption = gccDumpOutput.blocksOption;\n            ret.vopsOption = gccDumpOutput.vopsOption;\n            ret.linenoOption = gccDumpOutput.linenoOption;\n            ret.uidOption = gccDumpOutput.uidOption;\n            ret.allOption = gccDumpOutput.allOption;\n            ret.selectedPass = gccDumpOutput.selectedPass;\n        }\n        return ret;\n    },\n\n    getCfgView: function () {\n        return {\n            type: 'component',\n            componentName: 'cfg',\n            componentState: {},\n        };\n    },\n    getCfgViewWith: function (id, editorid, source, cfgOutput) {\n        return {\n            type: 'component',\n            componentName: 'cfg',\n            componentState: {\n                id: id,\n                editorid: editorid,\n                source: source,\n                cfgOutput: cfgOutput\n            },\n        };\n    },\n    getConformanceView: function (editorid, source, langId) {\n        return {\n            type: 'component',\n            componentName: 'conformance',\n            componentState: {\n                editorid: editorid,\n                source: source,\n                langId: langId,\n            },\n        };\n    },\n    getIrView: function () {\n        return {\n            type: 'component',\n            componentName: 'ir',\n            componentState: {},\n        };\n    },\n    getIrViewWith: function (id, source, irOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'ir',\n            componentState: {\n                id: id,\n                source: source,\n                irOutput: irOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale');\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics');\n\nrequire('../modes/asm-mode');\nrequire('selectize');\n\n// note that these variables are saved to state, so don't change, only add to it\nvar\n    DiffType_ASM = 0,\n    DiffType_CompilerStdOut = 1,\n    DiffType_CompilerStdErr = 2,\n    DiffType_ExecStdOut = 3,\n    DiffType_ExecStdErr = 4;\n\nfunction State(id, model, difftype) {\n    this.id = id;\n    this.model = model;\n    this.compiler = null;\n    this.result = null;\n    this.difftype = difftype;\n}\n\nState.prototype.update = function (id, compiler, result) {\n    if (this.id !== id) return false;\n    this.compiler = compiler;\n    this.result = result;\n    this.refresh();\n\n    return true;\n};\n\nState.prototype.refresh = function () {\n    var output = [];\n    if (this.result) {\n        switch (this.difftype) {\n            case DiffType_ASM:\n                output = this.result.asm || [];\n                break;\n            case DiffType_CompilerStdOut:\n                output = this.result.stdout || [];\n                break;\n            case DiffType_CompilerStdErr:\n                output = this.result.stderr || [];\n                break;\n            case DiffType_ExecStdOut:\n                if (this.result.execResult)\n                    output = this.result.execResult.stdout || [];\n                break;\n            case DiffType_ExecStdErr:\n                if (this.result.execResult)\n                    output = this.result.execResult.stderr || [];\n                break;\n        }\n    }\n    this.model.setValue(_.pluck(output, 'text').join('\\n'));\n};\n\nfunction getItemDisplayTitle(item) {\n    if (typeof item.id === 'string') {\n        var p = item.id.indexOf('_exec');\n        if (p !== -1) {\n            return 'Executor #' + item.id.substr(0, p);\n        }\n    }\n\n    return 'Compiler #' + item.id;\n}\n\nfunction Diff(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#diff').html());\n    this.compilers = {};\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.outputEditor = monaco.editor.createDiffEditor(root[0], {\n        fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n        scrollBeyondLastLine: true,\n        readOnly: true,\n        language: 'asm',\n    });\n\n    this.lhs = new State(state.lhs, monaco.editor.createModel('', 'asm'), state.lhsdifftype || DiffType_ASM);\n    this.rhs = new State(state.rhs, monaco.editor.createModel('', 'asm'), state.rhsdifftype || DiffType_ASM);\n    this.outputEditor.setModel({ original: this.lhs.model, modified: this.rhs.model });\n\n    var selectizeType = this.domRoot.find('.difftype-picker').selectize({\n        sortField: 'name',\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        options: [\n            { id: DiffType_ASM, name: 'Assembly' },\n            { id: DiffType_CompilerStdOut, name: 'Compiler stdout' },\n            { id: DiffType_CompilerStdErr, name: 'Compiler stderr' },\n            { id: DiffType_ExecStdOut, name: 'Execution stdout' },\n            { id: DiffType_ExecStdErr, name: 'Execution stderr' },\n        ],\n        items: [],\n        render: {\n            option: function (item, escape) {\n                return '<div>' + escape(item.name) + '</div>';\n            },\n        },\n        dropdownParent: 'body',\n    }).on('change', _.bind(function (e) {\n        var target = $(e.target);\n        if (target.hasClass('lhsdifftype')) {\n            this.lhs.difftype = parseInt(target.val());\n            this.lhs.refresh();\n        } else {\n            this.rhs.difftype = parseInt(target.val());\n            this.rhs.refresh();\n        }\n        this.updateState();\n    }, this));\n\n    var selectize = this.domRoot.find('.diff-picker').selectize({\n        sortField: 'name',\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        options: [],\n        items: [],\n        render: {\n            option: function (item, escape) {\n                return '<div>' +\n                    '<span class=\"compiler\">' + escape(item.compiler.name) + '</span>' +\n                    '<span class=\"options\">' + escape(item.options) + '</span>' +\n                    '<ul class=\"meta\">' +\n                    '<li class=\"editor\">Editor #' + escape(item.editorId) + '</li>' +\n                    '<li class=\"compilerId\">' + escape(getItemDisplayTitle(item)) + '</li>' +\n                    '</ul></div>';\n            },\n        },\n        dropdownParent: 'body',\n    }).on('change', _.bind(function (e) {\n        var target = $(e.target);\n        var compiler = this.compilers[target.val()];\n        if (!compiler) return;\n        if (target.hasClass('lhs')) {\n            this.lhs.compiler = compiler;\n            this.lhs.id = compiler.id;\n        } else {\n            this.rhs.compiler = compiler;\n            this.rhs.id = compiler.id;\n        }\n        this.onDiffSelect(compiler.id);\n    }, this));\n\n    this.selectize = {\n        lhs: selectize[0].selectize, rhs: selectize[1].selectize,\n        lhsdifftype: selectizeType[0].selectize, rhsdifftype: selectizeType[1].selectize,\n    };\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    this.updateCompilerNames();\n    this.updateCompilers();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Diff',\n    });\n}\n\n// TODO: de-dupe with compiler etc\nDiff.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nDiff.prototype.onDiffSelect = function (id) {\n    this.requestResendResult(id);\n    this.updateCompilerNames();\n    this.updateState();\n};\n\nDiff.prototype.onCompileResult = function (id, compiler, result) {\n    // both sides must be updated, don't be tempted to rewrite this as\n    // var changes = lhs.update() || rhs.update();\n    var lhsChanged = this.lhs.update(id, compiler, result);\n    var rhsChanged = this.rhs.update(id, compiler, result);\n    if (lhsChanged || rhsChanged) {\n        this.updateCompilerNames();\n    }\n};\n\nDiff.prototype.onExecuteResult = function (id, compiler, result) {\n    var compileResult = _.assign({}, result.buildResult);\n    compileResult.execResult = {\n        code: result.code,\n        stdout: result.stdout,\n        stderr: result.stderr,\n    };\n\n    this.onCompileResult(id + '_exec', compiler, compileResult);\n};\n\nDiff.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.outputEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nDiff.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('executeResult', this.onExecuteResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('executor', this.onExecutor, this);\n    this.eventHub.on('executorClose', this.onExecutorClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('themeChange', this.onThemeChange, this);\n    this.container.on('destroy', function () {\n        this.eventHub.unsubscribe();\n        this.outputEditor.dispose();\n    }, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.requestResendResult(this.lhs.id);\n    this.requestResendResult(this.rhs.id);\n\n    this.eventHub.emit('findCompilers');\n    this.eventHub.emit('findExecutors');\n\n    this.eventHub.emit('requestTheme');\n    this.eventHub.emit('requestSettings');\n};\n\nDiff.prototype.requestResendResult = function (id) {\n    if (typeof id === 'string') {\n        var p = id.indexOf('_exec');\n        if (p !== -1) {\n            var execId = parseInt(id.substr(0, p));\n            this.eventHub.emit('resendExecution', execId);\n        }\n    } else {\n        this.eventHub.emit('resendCompilation', id);\n    }\n};\n\nDiff.prototype.onCompiler = function (id, compiler, options, editorId) {\n    if (!compiler) return;\n    options = options || '';\n    var name = compiler.name + ' ' + options;\n    // TODO: selectize doesn't play nicely with CSS tricks for truncation; this is the best I can do\n    // There's a plugin at: http://www.benbybenjacobs.com/blog/2014/04/09/no-wrap-plugin-for-selectize-dot-js\n    // but it doesn't look easy to integrate.\n    var maxLength = 30;\n    if (name.length > maxLength - 3) name = name.substr(0, maxLength - 3) + '...';\n    this.compilers[id] = {\n        id: id,\n        name: name,\n        options: options,\n        editorId: editorId,\n        compiler: compiler,\n    };\n    if (!this.lhs.id) {\n        this.lhs.compiler = this.compilers[id];\n        this.lhs.id = id;\n        this.onDiffSelect(id);\n    } else if (!this.rhs.id) {\n        this.rhs.compiler = this.compilers[id];\n        this.rhs.id = id;\n        this.onDiffSelect(id);\n    }\n    this.updateCompilers();\n};\n\nDiff.prototype.onExecutor = function (id, compiler, options, editorId) {\n    this.onCompiler(id + '_exec', compiler, options, editorId);\n};\n\nDiff.prototype.onCompilerClose = function (id) {\n    delete this.compilers[id];\n    this.updateCompilers();\n};\n\nDiff.prototype.onExecutorClose = function (id) {\n    this.onCompilerClose(id + '_exec');\n};\n\nDiff.prototype.updateCompilerNames = function () {\n    var name = 'Diff';\n    if (this.lhs.compiler && this.rhs.compiler)\n        name += ' ' + this.lhs.compiler.name + ' vs ' + this.rhs.compiler.name;\n    this.container.setTitle(name);\n};\n\nDiff.prototype.updateCompilersFor = function (selectize, id) {\n    selectize.clearOptions();\n    _.each(this.compilers, function (compiler) {\n        selectize.addOption(compiler);\n    }, this);\n    if (this.compilers[id]) {\n        selectize.setValue(id);\n    }\n};\n\nDiff.prototype.updateCompilers = function () {\n    this.updateCompilersFor(this.selectize.lhs, this.lhs.id);\n    this.updateCompilersFor(this.selectize.rhs, this.rhs.id);\n\n    this.selectize.lhsdifftype.setValue(this.lhs.difftype || DiffType_ASM);\n    this.selectize.rhsdifftype.setValue(this.rhs.difftype || DiffType_ASM);\n};\n\nDiff.prototype.updateState = function () {\n    var state = {\n        lhs: this.lhs.id,\n        rhs: this.rhs.id,\n        lhsdifftype: this.lhs.difftype,\n        rhsdifftype: this.rhs.difftype,\n    };\n    this.fontScale.addState(state);\n    this.container.setState(state);\n};\n\nDiff.prototype.onThemeChange = function (newTheme) {\n    if (this.outputEditor)\n        this.outputEditor.updateOptions({ theme: newTheme.monaco });\n};\n\nDiff.prototype.onSettingsChange = function (newSettings) {\n    this.outputEditor.updateOptions({\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nmodule.exports = {\n    Diff: Diff,\n    getComponent: function (lhs, rhs) {\n        return {\n            type: 'component',\n            componentName: 'diff',\n            componentState: { lhs: lhs, rhs: rhs },\n        };\n    },\n};\n","module.exports = \"<!DOCTYPE html>\\n\\n<!--\\nBe aware: modifying this file in any way will cause a pop-up to users telling them the cookie policy has changed.\\n-->\\n\\n<html lang=\\\"en\\\">\\n<body>\\n\\n<!--\\nNo need to update this! It's done by the CLI build process\\n-->\\n<span id=\\\"last-changed\\\"></span>\\n<h2>Compiler Explorer Cookie Policy</h2>\\n\\n<p>\\n    Browsers support the storing and sending back of small text files called \\\"Cookies\\\". These cookie files can be used\\n    (amongst other things) to help track the usage of a website. See\\n    <a href=\\\"https://developer.mozilla.org/docs/Web/HTTP/Cookies\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\">the Mozilla\\n        description of cookies</a> for more details.\\n</p>\\n\\n<p>\\n    Compiler Explorer uses Google Analytics, which in turn uses cookies. Google Analytics allows us to see how many\\n    individual users of Compiler Explorer there are, how often users visit us, the average amount of time spent on the\\n    site, the frequency and distribution of compilers selected, and so on. It is invaluable in helping us make\\n    decisions in prioritising work on the site. It's important to note that these cookies are anonymous: we don't know\\n    who each individual user is. Our Google Analytics settings prevent data being retained for more than 14 months. The\\n    cookie stored is a first party cookie: you will find it in your browser under \\\"godbolt.org\\\" cookies.\\n</p>\\n\\n<p>\\n    Your privacy is important to us and you may opt out of this tracking at any time using the buttons on this dialog,\\n    with no loss of access or functionality of Compiler Explorer.\\n</p>\\n\\n<h2><span style=\\\"color: darkslategray\\\">Necessary</span> Local Storage</h2>\\n<p>\\n    To store your preferred options between sessions, such as your input code and user interface layout, we make use of\\n    your browser's local storage, where we place:\\n</p>\\n\\n<ul>\\n    <li>The current page state, such as:\\n        <ul>\\n            <li>Your current code</li>\\n            <li>Selected compilers and their options</li>\\n            <li>Pane layout</li>\\n            <li>Font sizes</li>\\n        </ul>\\n    </li>\\n    <li>Your settings as shown in the settings popup (which can be found at: More > Settings), such as:\\n        <ul>\\n            <li>Your theme selection</li>\\n            <li>The default language</li>\\n            <li>Compile-as-you-type settings</li>\\n        </ul>\\n    </li>\\n</ul>\\n\\n<p>\\n    Note that the usage of local storage is necessary for the proper functioning of the site, and it won't be disabled\\n    if you choose to not grant cookie usage consent. This information is not used to track any user identifying\\n    information. The data stored locally is only that required by the site to function.\\n</p>\\n\\n<h3>How to control the cookies</h3>\\n<p>\\n    You can change your cookie consent decision on Compiler Explorer by pressing one of the following buttons:\\n</p>\\n</body>\\n</html>\\n\";","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\nvar asm = require('./asm-mode');\n\nfunction definition() {\n    var ptx = $.extend(true, {}, asm); // deep copy\n\n    // Redefine registers for ptx:\n    // Usually ptx registers are in the form \"%[pr][0-9]+\", but a bunch of magic registers does not follow\n    // this scheme (see https://docs.nvidia.com/cuda/parallel-thread-execution/index.html#special-registers ).\n    // Thus the register-regex captures everything that starts with a '%'.\n    ptx.registers = /%[a-z0-9_\\\\.]+/;\n\n\n    // Redefine whitespaces, as asm interprets strings with a leading '@' as comments.\n    ptx.tokenizer.whitespace = [\n        [/[ \\t\\r\\n]+/, 'white'],\n        [/\\/\\*/, 'comment', '@comment'],\n        [/\\/\\/.*$/, 'comment'],\n        [/[#;\\\\].*$/, 'comment'],\n    ];\n\n    // Add predicated instructions to the list of root tokens. Search for an opcode next, which is also a root token.\n    ptx.tokenizer.root.push([/@%p[0-9]+/, {token: 'operator', next: '@root'}]);\n\n    return ptx;\n}\n\nmonaco.languages.register({id: 'ptx'});\nmonaco.languages.setMonarchTokensProvider('ptx', definition());\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\n// We need to ensure we use proper keywords for the Monaco Editor matcher. Note how\n// https://github.com/Microsoft/monaco-languages/ lacks, as far as I can tell, proper C support. We cheat and use C++\nfunction definition() {\n    var nc = $.extend(true, {}, cpp.language); // deep copy\n    // https://en.cppreference.com/w/c/keyword\n    nc.keywords = ['auto', 'break', 'case', 'char', 'const', 'continue', 'default',\n        'do', 'double', 'else', 'enum', 'extern', 'float', 'for', 'goto', 'if', 'inline',\n        'int', 'long', 'register', 'restrict', 'return', 'short', 'signed', 'sizeof', 'static',\n        'struct', 'switch', 'typedef', 'union', 'unsigned', 'void', 'volatile', 'while',\n        '_Alignas', '_Alignof', '_Atomic', '_Bool', '_Complex', '_Generic', '_Imaginary',\n        '_Noreturn', '_Static_assert', '_Thread_local',\n    ];\n    return nc;\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'nc'});\nmonaco.languages.setLanguageConfiguration('nc', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('nc', def);\n\nmodule.exports = def;\n","// Copyright (c) 2018, Mitch Kennedy\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    // Ada 2012 Language Definition\n    return {\n        keywords: [\n            'abort',\n            'else',\n            'new',\n            'return',\n            'elsif',\n            'reverse',\n            'abstract',\n            'end',\n            'null',\n            'accept',\n            'entry',\n            'select',\n            'access',\n            'exception',\n            'of',\n            'separate',\n            'aliased',\n            'exit',\n            'some',\n            'all',\n            'others',\n            'subtype',\n            'for',\n            'out',\n            'synchronized',\n            'array',\n            'function',\n            'overriding',\n            'at',\n            'tagged',\n            'generic',\n            'package',\n            'task',\n            'begin',\n            'goto',\n            'pragma',\n            'terminate',\n            'body',\n            'private',\n            'then',\n            'if',\n            'procedure',\n            'type',\n            'case',\n            'in',\n            'protected',\n            'constant',\n            'interface',\n            'until',\n            'is',\n            'raise',\n            'use',\n            'declare',\n            'range',\n            'delay',\n            'limited',\n            'record',\n            'when',\n            'delta',\n            'loop',\n            'while',\n            'digits',\n            'renames',\n            'with',\n            'do',\n            'requeue',\n            'rem',\n            'mod',\n            'abs',\n            'not',\n            'and',\n            'or',\n            'xor',\n        ],\n        standardTypes :[\n            // Defined in the package Standard\n            // See: http://www.adaic.org/resources/add_content/standards/12rm/html/RM-A-1.html\n            'Boolean', \n            'Integer',\n            'Natural',\n            'Positive ',\n            'Float',\n            'Character',\n            'Wide_Character',\n            'Wide_Wide_Character',\n            'String',\n            'Wide_String',\n            'Wide_Wide_String',\n            'Duration',\n            // Predefined Standard exceptions\n            'Constraint_Error',\n            'Program_Error',\n            'Storage_Error',\n            'Tasking_Error',\n        ],\n\n        operators: [\n            '+', '-', '*', '/', 'div', 'mod',\n            'shl', 'shr', 'and', 'or', 'xor', 'not',\n            '<', '>', '<=', '>=', '==', '<>',\n            '+=', '-=', '*=', '/=',\n        ],\n        brackets: [\n            ['(', ')', 'delimiter.parenthesis'],\n            ['[', ']', 'delimiter.square'],\n        ],\n        symbols: /[=><!~&|+\\-*/^]+/,\n        delimiters: /[;=.:,`]/,\n        escapes: /\\\\(?:[abfnrtv\\\\'\\n\\r]|x[0-9A-Fa-f]{2}|[0-7]{3}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}|N\\{\\w+\\})/,\n        \n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@standardTypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                // Whitespace\n                {include: '@whitespace'},\n\n                [/[()[\\]]/, '@brackets'],\n\n                // Numbers\n                // See https://regex101.com/r/dflfeQ/2 for examples from the \n                // 2012 ARM (http://www.ada-auth.org/standards/12rm/html/RM-2-4-1.html#S0009)\n                [/[0-9_.]+(E[+-]?\\d+)?/, 'number.float'],\n                // See https://regex101.com/r/dSSADT/3 for examples from the\n                // 2012 ARM (http://www.ada-auth.org/standards/12rm/html/RM-2-4-2.html#S0011)\n                [/[0-9]+#[0-9A-Fa-f_.]+#(E[+-]?\\d+)?/, 'number.hex'],\n\n                [/@delimiters/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@default': 'delimiter',\n                    },\n                }],\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n            \n            // Whitespace and comments\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/--.*$/, 'comment'],\n            ],\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\nmonaco.languages.register({id: 'ada'});\nmonaco.languages.setMonarchTokensProvider('ada', definition());\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar cppp = require('./cppp-mode');\n\n// We need to create a new definition for cpp so we can remove invalid keywords\n\nfunction definition() {\n    var cuda = $.extend(true, {}, cppp); // deep copy\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cuda.keywords.push(keywords[i]);\n        }\n    }\n\n    cuda.tokenPostfix = '.cu';\n\n    // Keywords for CUDA\n    addKeywords([\n        '__host__', '__global__', '__device__', '__shared__', '__noinline__', '__forceinline__', '__restrict__',\n    ]);\n\n    return cuda;\n}\n\nmonaco.languages.register({id: 'cuda'});\nmonaco.languages.setLanguageConfiguration('cuda', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cuda', definition());\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\n\nvar config = {\n    value: '',\n    fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n    scrollBeyondLastLine: true,\n    quickSuggestions: false,\n    fixedOverflowWidgets: true,\n    minimap: {\n        maxColumn: 80,\n    },\n    folding: true,\n    lineNumbersMinChars: 1,\n    emptySelectionClipboard: true,\n};\n\nfunction extendConfig(options, settings) {\n    var settingsObject = {};\n    if (settings !== undefined) {\n        settingsObject = {\n            fontFamily: settings.editorsFFont,\n            autoIndent: settings.autoIndent ? 'advanced' : 'none',\n            vimInUse: settings.useVim,\n            fontLigatures: settings.editorsFLigatures,\n        };\n    }\n    return _.extend({}, config, settingsObject, options);\n}\n\nmodule.exports = {\n    extendConfig: extendConfig,\n};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore'),\n    monaco = require('monaco-editor');\n\nvar registeredCodelenses = [];\nvar providersPerLanguage = {};\n\nfunction registerLensesForCompiler(compilerId, editorModel, lenses) {\n    var item = _.find(registeredCodelenses, function (item) {\n        return item.compilerId === compilerId;\n    });\n\n    if (item) {\n        item.lenses = lenses;\n    } else {\n        registeredCodelenses.push({\n            compilerId: compilerId,\n            editorModel: editorModel,\n            lenses: lenses,\n        });\n    }\n}\n\nfunction provide(model) {\n    var item = _.find(registeredCodelenses, function (item) {\n        return item.editorModel === model;\n    });\n\n    if (item) {\n        return {\n            lenses: item.lenses,\n            dispose: function () {},\n        };\n    } else {\n        return {\n            lenses: [],\n            dispose: function () {},\n        };\n    }\n}\n\nfunction unregister(compilerId) {\n    var item = _.find(registeredCodelenses, function (item) {\n        return item.compilerId === compilerId;\n    });\n\n    if (item) {\n        registeredCodelenses = _.without(registeredCodelenses, item);\n    }\n}\n\nfunction registerProviderForLanguage(language) {\n    if (!providersPerLanguage[language]) {\n        providersPerLanguage[language] = monaco.languages.registerCodeLensProvider(language, {\n            provideCodeLenses: provide,\n        });\n    }\n}\n\nmodule.exports = {\n    registerLensesForCompiler: registerLensesForCompiler,\n    unregister: unregister,\n    registerProviderForLanguage: registerProviderForLanguage,\n};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale');\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar ga = require('../analytics');\nvar monacoConfig = require('../monaco-config');\n\nfunction Ir(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#ir').html());\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.irEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: 'llvm-ir',\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.settings = {};\n\n    this.colours = [];\n    this.irCode = [];\n\n    this.initButtons(state);\n    this.initCallbacks();\n    this.initEditorActions();\n\n    if (state && state.irOutput) {\n        this.showIrResults(state.irOutput);\n    }\n    this.setTitle();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Ir',\n    });\n}\n\nIr.prototype.initEditorActions = function () {\n    this.irEditor.addAction({\n        id: 'viewsource',\n        label: 'Scroll to source',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var desiredLine = ed.getPosition().lineNumber - 1;\n            var source = this.irCode[desiredLine].source;\n            if (source !== null && source.file === null) {\n                // a null file means it was the user's source\n                this.eventHub.emit('editorLinkLine', this._editorid, source.line, -1, -1, true);\n            }\n        }, this),\n    });\n};\n\nIr.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.irEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nIr.prototype.initCallbacks = function () {\n    this.linkedFadeTimeoutId = -1;\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.irEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.irEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('destroy', this.close, this);\n\n    var onColoursOnCompile = this.eventHub.mediateDependentCalls(this.onColours, this.onCompileResponse);\n\n    this.eventHub.on('compileResult', onColoursOnCompile.dependencyProxy, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('colours', onColoursOnCompile.dependentProxy, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.emit('irViewOpened', this._compilerid);\n    this.eventHub.emit('requestSettings');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n};\n\n// TODO: de-dupe with compiler etc\nIr.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.irEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nIr.prototype.onCompileResponse = function (id, compiler, result) {\n    if (this._compilerid !== id) return;\n    if (result.hasIrOutput) {\n        this.showIrResults(result.irOutput);\n    } else if (compiler.supportsIrView) {\n        this.showIrResults([{text: '<No output>'}]);\n    }\n};\n\nIr.prototype.getPaneName = function () {\n    return this._compilerName + ' IR Viewer (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')';\n};\n\nIr.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nIr.prototype.showIrResults = function (irCode) {\n    if (!this.irEditor) return;\n    this.irCode = irCode;\n    this.irEditor.getModel().setValue(irCode.length ? _.pluck(irCode, 'text').join('\\n') : '<No IR generated>');\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.irEditor.setSelection(this.selection);\n            this.irEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nIr.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this._editorid = editorid;\n        this.setTitle();\n        if (compiler && !compiler.supportsIrView) {\n            this.irEditor.setValue('<IR output is not supported for this compiler>');\n        }\n    }\n};\n\nIr.prototype.onColours = function (id, colours, scheme) {\n    if (id === this._compilerid) {\n        var irColours = {};\n        _.each(this.irCode, function (x, index) {\n            if (x.source && x.source.file === null && x.source.line > 0 && colours[x.source.line - 1] !== undefined) {\n                irColours[index] = colours[x.source.line - 1];\n            }\n        });\n        this.colours = colour.applyColours(this.irEditor, irColours, scheme, this.colours);\n    }\n};\n\nIr.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nIr.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nIr.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nIr.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nIr.prototype.onSettingsChange = function (newSettings) {\n    this.settings = newSettings;\n    this.irEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nIr.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.irCode) {\n        this.clearLinkedLines();\n        var hoverCode = this.irCode[e.target.position.lineNumber - 1];\n        if (hoverCode) {\n            // We check that we actually have something to show at this point!\n            var sourceLine = -1;\n            var sourceColBegin = -1;\n            var sourceColEnd = -1;\n            if (hoverCode.source && !hoverCode.source.file) {\n                sourceLine = hoverCode.source.line;\n                if (hoverCode.source.column) {\n                    sourceColBegin = hoverCode.source.column;\n                    sourceColEnd = sourceColBegin;\n                }\n            }\n            this.eventHub.emit('editorLinkLine', this._editorid, sourceLine, sourceColBegin, sourceColEnd, false);\n            this.eventHub.emit('panesLinkLine', this._compilerid,\n                sourceLine, sourceColBegin, sourceColEnd,\n                false, this.getPaneName());\n        }\n    }\n};\n\nIr.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\n\nIr.prototype.updateDecorations = function () {\n    this.prevDecorations = this.irEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nIr.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nIr.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender) {\n    if (Number(compilerId) === this._compilerid) {\n        var lineNums = [];\n        var directlyLinkedLineNums = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.irCode, function (irLine, i) {\n            if (irLine.source && irLine.source.file === null && irLine.source.line === lineNumber) {\n                var line = i + 1;\n                lineNums.push(line);\n                var currentCol = irLine.source.column;\n                if (signalFromAnotherPane && currentCol && colBegin <= currentCol && currentCol <= colEnd) {\n                    directlyLinkedLineNums.push(line);\n                }\n            }\n        });\n        if (revealLine && lineNums[0]) this.irEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = sender !== this.getPaneName() ? 'linked-code-decoration-line' : '';\n        var linkedLineDecorations = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLineDecorations = _.map(directlyLinkedLineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = linkedLineDecorations.concat(directlyLinkedLineDecorations);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nIr.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('irViewClosed', this._compilerid);\n    this.irEditor.dispose();\n};\n\nmodule.exports = {\n    Ir: Ir,\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar jquery = require('jquery');\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\nfunction definition() {\n    var ispc = jquery.extend(true, {}, cpp.language); // deep copy\n\n    ispc.tokenPostfix = '.ispc';\n\n    ispc.keywords.push(\n        'cbreak',\n        'ccontinue',\n        'cdo',\n        'cfor',\n        'cif',\n        'creturn',\n        'cwhile',\n        'delete',\n        'export',\n        'foreach',\n        'foreach_active',\n        'foreach_tiled',\n        'foreach_unique',\n        'int16',\n        'int32',\n        'int64',\n        'int8',\n        'launch',\n        'new',\n        'operator',\n        'programCount',\n        'programIndex',\n        'reference',\n        'size_t',\n        'soa',\n        'sync',\n        'task',\n        'taskCount',\n        'taskCount0',\n        'taskCount1',\n        'taskCount2',\n        'taskIndex',\n        'taskIndex0',\n        'taskIndex1',\n        'taskIndex2',\n        'threadCount',\n        'threadIndex',\n        'uint16',\n        'uint32',\n        'uint64',\n        'uint8',\n        'uniform',\n        'unmasked',\n        'varying'\n    );\n    return ispc;\n}\n\nmonaco.languages.register({id: 'ispc'});\nmonaco.languages.setLanguageConfiguration('ispc', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('ispc', definition());\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar EventEmitter = require('events');\nvar options = require('./options');\n\nfunction makeFontSizeDropdown(elem, obj, buttonDropdown) {\n    var onWheelEvent = function (e) {\n        e.preventDefault();\n        var selectedId = elem.find('.active').index();\n        if (e.originalEvent.deltaY >= 0 && selectedId < elem.children().length - 1) {\n            selectedId++;\n        } else if (e.originalEvent.deltaY < 0 && selectedId > 0) {\n            selectedId--;\n        }\n        elem.children().eq(selectedId).trigger('click');\n    };\n\n    var onClickEvent = function () {\n        // Toggle off the selection of the others\n        $(this)\n            .addClass('active')\n            .siblings().removeClass('active');\n        // Send the data\n        obj.scale = $(this).data('value');\n        obj.apply();\n        obj.emit('change');\n    };\n\n    for (var i = 8; i <= 30; i++) {\n        var item = $('<button></button>');\n\n        item.attr('data-value', i)\n            .addClass('dropdown-item btn btn-sm btn-light')\n            .text(i)\n            .appendTo(elem)\n            .click(onClickEvent);\n\n        if (obj.scale === i) {\n            item.addClass('active');\n        }\n    }\n\n    if (buttonDropdown) {\n        buttonDropdown.on('wheel', onWheelEvent);\n    }\n}\n\nfunction convertOldScale(oldScale) {\n    // New low + ((new max - new low) * (oldScale - old low) / (old max - old low))\n    return Math.floor(8 + (22 * (oldScale - 0.3) / 2.7));\n}\n\nfunction FontScale(domRoot, state, fontSelectorOrEditor) {\n    EventEmitter.call(this);\n    this.domRoot = domRoot;\n    // Old scale went from 0.3 to 3. New one uses 8 up to 30, so we can convert the old ones to the new format\n    this.scale = state.fontScale || options.defaultFontScale;\n    // The check seems pointless, but it ensures a false in case it's undefined\n    this.usePxUnits = state.fontUsePx === true;\n    if (this.scale < 8) {\n        this.scale = convertOldScale(this.scale);\n    }\n    this.setTarget(fontSelectorOrEditor);\n    this.apply();\n    makeFontSizeDropdown(this.domRoot.find('.font-size-list'), this, this.domRoot.find('.fs-button'));\n}\n\n_.extend(FontScale.prototype, EventEmitter.prototype);\n\nFontScale.prototype.apply = function () {\n    if (this.isFontOfStr) {\n        this.domRoot.find(this.fontSelectorOrEditor).css('font-size', this.scale + (this.usePxUnits ? 'px' : 'pt'));\n    } else {\n        this.fontSelectorOrEditor.updateOptions({\n            fontSize: this.scale,\n        });\n    }\n};\n\nFontScale.prototype.addState = function (state) {\n    state.fontScale = this.scale;\n    state.fontUsePx = true;\n};\n\nFontScale.prototype.setScale = function (scale) {\n    this.scale = scale;\n    this.apply();\n};\n\nFontScale.prototype.setTarget = function (target) {\n    this.fontSelectorOrEditor = target;\n    this.isFontOfStr = typeof (this.fontSelectorOrEditor) === 'string';\n};\n\nmodule.exports = FontScale;\n"],"sourceRoot":""}